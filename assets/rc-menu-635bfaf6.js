import{h as B,e as D,f as Se,b as K,c as $,g as H,i as Rn,j as Pn,a as En,_ as Kn,d as wn}from"./@babel-43e769cc.js";import{c as he}from"./classnames-325479d5.js";import{F as $e}from"./rc-overflow-309b0131.js";import{q as Nn,o as kt,j as Le,K as re,N as _n,p as Ge,b as At,e as Dn,v as $t,A as On}from"./rc-util-6fbd7337.js";import{r as t}from"./react-d998b26c.js";import{r as kn}from"./react-dom-890fecd1.js";import{c as An}from"./@rc-component-73db1337.js";import{C as $n}from"./rc-motion-1104756f.js";var Lt=t.createContext(null);function vt(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function Tt(n){var e=t.useContext(Lt);return vt(e,n)}var Ln=["children","locked"],ee=t.createContext(null);function Tn(n,e){var a=D({},n);return Object.keys(e).forEach(function(o){var r=e[o];r!==void 0&&(a[o]=r)}),a}function Te(n){var e=n.children,a=n.locked,o=B(n,Ln),r=t.useContext(ee),l=Nn(function(){return Tn(r,o)},[r,o],function(i,u){return!a&&(i[0]!==u[0]||!kt(i[1],u[1],!0))});return t.createElement(ee.Provider,{value:l},e)}var Fn=[],Ft=t.createContext(null);function Xe(){return t.useContext(Ft)}var Vt=t.createContext(Fn);function Fe(n){var e=t.useContext(Vt);return t.useMemo(function(){return n!==void 0?[].concat(Se(e),[n]):e},[e,n])}var Ut=t.createContext(null),ft=t.createContext({}),lt=re.LEFT,ut=re.RIGHT,st=re.UP,We=re.DOWN,Be=re.ENTER,zt=re.ESC,Oe=re.HOME,ke=re.END,Nt=[st,We,lt,ut];function Vn(n,e,a,o){var r,l,i,u,c="prev",s="next",g="children",v="parent";if(n==="inline"&&o===Be)return{inlineTrigger:!0};var m=(r={},K(r,st,c),K(r,We,s),r),P=(l={},K(l,lt,a?s:c),K(l,ut,a?c:s),K(l,We,g),K(l,Be,g),l),p=(i={},K(i,st,c),K(i,We,s),K(i,Be,g),K(i,zt,v),K(i,lt,a?g:v),K(i,ut,a?v:g),i),I={inline:m,horizontal:P,vertical:p,inlineSub:m,horizontalSub:p,verticalSub:p},M=(u=I["".concat(n).concat(e?"":"Sub")])===null||u===void 0?void 0:u[o];switch(M){case c:return{offset:-1,sibling:!0};case s:return{offset:1,sibling:!0};case v:return{offset:-1,sibling:!1};case g:return{offset:1,sibling:!1};default:return null}}function Un(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function zn(n,e){for(var a=n||document.activeElement;a;){if(e.has(a))return a;a=a.parentElement}return null}function jt(n,e){var a=_n(n,!0);return a.filter(function(o){return e.has(o)})}function _t(n,e,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var r=jt(n,e),l=r.length,i=r.findIndex(function(u){return a===u});return o<0?i===-1?i=l-1:i-=1:o>0&&(i+=1),i=(i+l)%l,r[i]}function jn(n,e,a,o,r,l,i,u,c,s){var g=t.useRef(),v=t.useRef();v.current=e;var m=function(){Le.cancel(g.current)};return t.useEffect(function(){return function(){m()}},[]),function(P){var p=P.which;if([].concat(Nt,[Be,zt,Oe,ke]).includes(p)){var I,M,b,w=function(){I=new Set,M=new Map,b=new Map;var N=l();return N.forEach(function(k){var _=document.querySelector("[data-menu-id='".concat(vt(o,k),"']"));_&&(I.add(_),b.set(_,k),M.set(k,_))}),I};w();var h=M.get(e),d=zn(h,I),y=b.get(d),f=Vn(n,i(y,!0).length===1,a,p);if(!f&&p!==Oe&&p!==ke)return;(Nt.includes(p)||[Oe,ke].includes(p))&&P.preventDefault();var S=function(N){if(N){var k=N,_=N.querySelector("a");_!=null&&_.getAttribute("href")&&(k=_);var te=b.get(N);u(te),m(),g.current=Le(function(){v.current===te&&k.focus()})}};if([Oe,ke].includes(p)||f.sibling||!d){var q;!d||n==="inline"?q=r.current:q=Un(d);var R,G=jt(q,I);p===Oe?R=G[0]:p===ke?R=G[G.length-1]:R=_t(q,I,d,f.offset),S(R)}else if(f.inlineTrigger)c(y);else if(f.offset>0)c(y,!0),m(),g.current=Le(function(){w();var L=d.getAttribute("aria-controls"),N=document.getElementById(L),k=_t(N,I);S(k)},5);else if(f.offset<0){var V=i(y,!0),O=V[V.length-2],Y=M.get(O);c(O,!1),S(Y)}}s==null||s(P)}}function Hn(n){Promise.resolve().then(n)}var mt="__RC_UTIL_PATH_SPLIT__",Dt=function(e){return e.join(mt)},qn=function(e){return e.split(mt)},ct="rc-menu-more";function Gn(){var n=t.useState({}),e=$(n,2),a=e[1],o=t.useRef(new Map),r=t.useRef(new Map),l=t.useState([]),i=$(l,2),u=i[0],c=i[1],s=t.useRef(0),g=t.useRef(!1),v=function(){g.current||a({})},m=t.useCallback(function(h,d){var y=Dt(d);r.current.set(y,h),o.current.set(h,y),s.current+=1;var f=s.current;Hn(function(){f===s.current&&v()})},[]),P=t.useCallback(function(h,d){var y=Dt(d);r.current.delete(y),o.current.delete(h)},[]),p=t.useCallback(function(h){c(h)},[]),I=t.useCallback(function(h,d){var y=o.current.get(h)||"",f=qn(y);return d&&u.includes(f[0])&&f.unshift(ct),f},[u]),M=t.useCallback(function(h,d){return h.some(function(y){var f=I(y,!0);return f.includes(d)})},[I]),b=function(){var d=Se(o.current.keys());return u.length&&d.push(ct),d},w=t.useCallback(function(h){var d="".concat(o.current.get(h)).concat(mt),y=new Set;return Se(r.current.keys()).forEach(function(f){f.startsWith(d)&&y.add(r.current.get(f))}),y},[]);return t.useEffect(function(){return function(){g.current=!0}},[]),{registerPath:m,unregisterPath:P,refreshOverflowKeys:p,isSubPathKey:M,getKeyPath:I,getKeys:b,getSubPathKeys:w}}function Ae(n){var e=t.useRef(n);e.current=n;var a=t.useCallback(function(){for(var o,r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(o=e.current)===null||o===void 0?void 0:o.call.apply(o,[e].concat(l))},[]);return n?a:void 0}var Wn=Math.random().toFixed(5).toString().slice(2),Ot=0;function Bn(n){var e=Ge(n,{value:n}),a=$(e,2),o=a[0],r=a[1];return t.useEffect(function(){Ot+=1;var l="".concat(Wn,"-").concat(Ot);r("rc-menu-uuid-".concat(l))},[]),o}function Ht(n,e,a,o){var r=t.useContext(ee),l=r.activeKey,i=r.onActive,u=r.onInactive,c={active:l===n};return e||(c.onMouseEnter=function(s){a==null||a({key:n,domEvent:s}),i(n)},c.onMouseLeave=function(s){o==null||o({key:n,domEvent:s}),u(n)}),c}function qt(n){var e=t.useContext(ee),a=e.mode,o=e.rtl,r=e.inlineIndent;if(a!=="inline")return null;var l=n;return o?{paddingRight:l*r}:{paddingLeft:l*r}}function Gt(n){var e=n.icon,a=n.props,o=n.children,r;return e===null||e===!1?null:(typeof e=="function"?r=t.createElement(e,D({},a)):typeof e!="boolean"&&(r=e),r||o||null)}var Yn=["item"];function Ye(n){var e=n.item,a=B(n,Yn);return Object.defineProperty(a,"item",{get:function(){return At(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),a}var Xn=["title","attribute","elementRef"],Jn=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Zn=["active"],Qn=function(n){Rn(a,n);var e=Pn(a);function a(){return En(this,a),e.apply(this,arguments)}return Kn(a,[{key:"render",value:function(){var r=this.props,l=r.title,i=r.attribute,u=r.elementRef,c=B(r,Xn),s=$t(c,["eventKey","popupClassName","popupOffset","onTitleClick"]);return At(!i,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),t.createElement($e.Item,H({},i,{title:typeof l=="string"?l:void 0},s,{ref:u}))}}]),a}(t.Component),er=t.forwardRef(function(n,e){var a,o=n.style,r=n.className,l=n.eventKey;n.warnKey;var i=n.disabled,u=n.itemIcon,c=n.children,s=n.role,g=n.onMouseEnter,v=n.onMouseLeave,m=n.onClick,P=n.onKeyDown,p=n.onFocus,I=B(n,Jn),M=Tt(l),b=t.useContext(ee),w=b.prefixCls,h=b.onItemClick,d=b.disabled,y=b.overflowDisabled,f=b.itemIcon,S=b.selectedKeys,q=b.onActive,R=t.useContext(ft),G=R._internalRenderMenuItem,V="".concat(w,"-item"),O=t.useRef(),Y=t.useRef(),L=d||i,N=Dn(e,Y),k=Fe(l),_=function(T){return{key:l,keyPath:Se(k).reverse(),item:O.current,domEvent:T}},te=u||f,ge=Ht(l,L,g,v),le=ge.active,ae=B(ge,Zn),ne=S.includes(l),ue=qt(k.length),se=function(T){if(!L){var X=_(T);m==null||m(Ye(X)),h(X)}},U=function(T){if(P==null||P(T),T.which===re.ENTER){var X=_(T);m==null||m(Ye(X)),h(X)}},z=function(T){q(l),p==null||p(T)},Ce={};n.role==="option"&&(Ce["aria-selected"]=ne);var ce=t.createElement(Qn,H({ref:O,elementRef:N,role:s===null?"none":s||"menuitem",tabIndex:i?null:-1,"data-menu-id":y&&M?null:M},I,ae,Ce,{component:"li","aria-disabled":i,style:D(D({},ue),o),className:he(V,(a={},K(a,"".concat(V,"-active"),le),K(a,"".concat(V,"-selected"),ne),K(a,"".concat(V,"-disabled"),L),a),r),onClick:se,onKeyDown:U,onFocus:z}),c,t.createElement(Gt,{props:D(D({},n),{},{isSelected:ne}),icon:te}));return G&&(ce=G(ce,n,{selected:ne})),ce});function tr(n,e){var a=n.eventKey,o=Xe(),r=Fe(a);return t.useEffect(function(){if(o)return o.registerPath(a,r),function(){o.unregisterPath(a,r)}},[r]),o?null:t.createElement(er,H({},n,{ref:e}))}const pt=t.forwardRef(tr);var nr=["className","children"],rr=function(e,a){var o=e.className,r=e.children,l=B(e,nr),i=t.useContext(ee),u=i.prefixCls,c=i.mode,s=i.rtl;return t.createElement("ul",H({className:he(u,s&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat(c==="inline"?"inline":"vertical"),o),role:"menu"},l,{"data-menu-list":!0,ref:a}),r)},ht=t.forwardRef(rr);ht.displayName="SubMenuList";function gt(n,e){return On(n).map(function(a,o){if(t.isValidElement(a)){var r,l,i=a.key,u=(r=(l=a.props)===null||l===void 0?void 0:l.eventKey)!==null&&r!==void 0?r:i,c=u==null;c&&(u="tmp_key-".concat([].concat(Se(e),[o]).join("-")));var s={key:u,eventKey:u};return t.cloneElement(a,s)}return a})}var A={adjustX:1,adjustY:1},ar={topLeft:{points:["bl","tl"],overflow:A},topRight:{points:["br","tr"],overflow:A},bottomLeft:{points:["tl","bl"],overflow:A},bottomRight:{points:["tr","br"],overflow:A},leftTop:{points:["tr","tl"],overflow:A},leftBottom:{points:["br","bl"],overflow:A},rightTop:{points:["tl","tr"],overflow:A},rightBottom:{points:["bl","br"],overflow:A}},ir={topLeft:{points:["bl","tl"],overflow:A},topRight:{points:["br","tr"],overflow:A},bottomLeft:{points:["tl","bl"],overflow:A},bottomRight:{points:["tr","br"],overflow:A},rightTop:{points:["tr","tl"],overflow:A},rightBottom:{points:["br","bl"],overflow:A},leftTop:{points:["tl","tr"],overflow:A},leftBottom:{points:["bl","br"],overflow:A}};function Wt(n,e,a){if(e)return e;if(a)return a[n]||a.other}var or={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function lr(n){var e=n.prefixCls,a=n.visible,o=n.children,r=n.popup,l=n.popupStyle,i=n.popupClassName,u=n.popupOffset,c=n.disabled,s=n.mode,g=n.onVisibleChange,v=t.useContext(ee),m=v.getPopupContainer,P=v.rtl,p=v.subMenuOpenDelay,I=v.subMenuCloseDelay,M=v.builtinPlacements,b=v.triggerSubMenuAction,w=v.forceSubMenuRender,h=v.rootClassName,d=v.motion,y=v.defaultMotions,f=t.useState(!1),S=$(f,2),q=S[0],R=S[1],G=P?D(D({},ir),M):D(D({},ar),M),V=or[s],O=Wt(s,d,y),Y=t.useRef(O);s!=="inline"&&(Y.current=O);var L=D(D({},Y.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),N=t.useRef();return t.useEffect(function(){return N.current=Le(function(){R(a)}),function(){Le.cancel(N.current)}},[a]),t.createElement(An,{prefixCls:e,popupClassName:he("".concat(e,"-popup"),K({},"".concat(e,"-rtl"),P),i,h),stretch:s==="horizontal"?"minWidth":null,getPopupContainer:m,builtinPlacements:G,popupPlacement:V,popupVisible:q,popup:r,popupStyle:l,popupAlign:u&&{offset:u},action:c?[]:[b],mouseEnterDelay:p,mouseLeaveDelay:I,onPopupVisibleChange:g,forceRender:w,popupMotion:L},o)}function ur(n){var e=n.id,a=n.open,o=n.keyPath,r=n.children,l="inline",i=t.useContext(ee),u=i.prefixCls,c=i.forceSubMenuRender,s=i.motion,g=i.defaultMotions,v=i.mode,m=t.useRef(!1);m.current=v===l;var P=t.useState(!m.current),p=$(P,2),I=p[0],M=p[1],b=m.current?a:!1;t.useEffect(function(){m.current&&M(!1)},[v]);var w=D({},Wt(l,s,g));o.length>1&&(w.motionAppear=!1);var h=w.onVisibleChanged;return w.onVisibleChanged=function(d){return!m.current&&!d&&M(!0),h==null?void 0:h(d)},I?null:t.createElement(Te,{mode:l,locked:!m.current},t.createElement($n,H({visible:b},w,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(u,"-hidden")}),function(d){var y=d.className,f=d.style;return t.createElement(ht,{id:e,className:y,style:f},r)}))}var sr=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],cr=["active"],dr=function(e){var a,o=e.style,r=e.className,l=e.title,i=e.eventKey;e.warnKey;var u=e.disabled,c=e.internalPopupClose,s=e.children,g=e.itemIcon,v=e.expandIcon,m=e.popupClassName,P=e.popupOffset,p=e.popupStyle,I=e.onClick,M=e.onMouseEnter,b=e.onMouseLeave,w=e.onTitleClick,h=e.onTitleMouseEnter,d=e.onTitleMouseLeave,y=B(e,sr),f=Tt(i),S=t.useContext(ee),q=S.prefixCls,R=S.mode,G=S.openKeys,V=S.disabled,O=S.overflowDisabled,Y=S.activeKey,L=S.selectedKeys,N=S.itemIcon,k=S.expandIcon,_=S.onItemClick,te=S.onOpenChange,ge=S.onActive,le=t.useContext(ft),ae=le._internalRenderSubMenuItem,ne=t.useContext(Ut),ue=ne.isSubPathKey,se=Fe(),U="".concat(q,"-submenu"),z=V||u,Ce=t.useRef(),ce=t.useRef(),de=g??N,T=v??k,X=G.includes(i),ie=!O&&X,Ve=ue(L,i),Ue=Ht(i,z,h,d),ve=Ue.active,xe=B(Ue,cr),Ze=t.useState(!1),Re=$(Ze,2),Pe=Re[0],Qe=Re[1],J=function(Q){z||Qe(Q)},et=function(Q){J(!0),M==null||M({key:i,domEvent:Q})},ze=function(Q){J(!1),b==null||b({key:i,domEvent:Q})},Ee=t.useMemo(function(){return ve||(R!=="inline"?Pe||ue([Y],i):!1)},[R,ve,Y,Pe,i,ue]),tt=qt(se.length),be=function(Q){z||(w==null||w({key:i,domEvent:Q}),R==="inline"&&te(i,!X))},Ke=Ae(function(Z){I==null||I(Ye(Z)),_(Z)}),we=function(Q){R!=="inline"&&te(i,Q)},nt=function(){ge(i)},ye=f&&"".concat(f,"-popup"),W=t.createElement("div",H({role:"menuitem",style:tt,className:"".concat(U,"-title"),tabIndex:z?null:-1,ref:Ce,title:typeof l=="string"?l:null,"data-menu-id":O&&f?null:f,"aria-expanded":ie,"aria-haspopup":!0,"aria-controls":ye,"aria-disabled":z,onClick:be,onFocus:nt},xe),l,t.createElement(Gt,{icon:R!=="horizontal"?T:void 0,props:D(D({},e),{},{isOpen:ie,isSubMenu:!0})},t.createElement("i",{className:"".concat(U,"-arrow")}))),Ie=t.useRef(R);if(R!=="inline"&&se.length>1?Ie.current="vertical":Ie.current=R,!O){var fe=Ie.current;W=t.createElement(lr,{mode:fe,prefixCls:U,visible:!c&&ie&&R!=="inline",popupClassName:m,popupOffset:P,popupStyle:p,popup:t.createElement(Te,{mode:fe==="horizontal"?"vertical":fe},t.createElement(ht,{id:ye,ref:ce},s)),disabled:z,onVisibleChange:we},W)}var Ne=t.createElement($e.Item,H({role:"none"},y,{component:"li",style:o,className:he(U,"".concat(U,"-").concat(R),r,(a={},K(a,"".concat(U,"-open"),ie),K(a,"".concat(U,"-active"),Ee),K(a,"".concat(U,"-selected"),Ve),K(a,"".concat(U,"-disabled"),z),a)),onMouseEnter:et,onMouseLeave:ze}),W,!O&&t.createElement(ur,{id:ye,open:ie,keyPath:se},s));return ae&&(Ne=ae(Ne,e,{selected:Ve,active:Ee,open:ie,disabled:z})),t.createElement(Te,{onItemClick:Ke,mode:R==="horizontal"?"vertical":R,itemIcon:de,expandIcon:T},Ne)};function Ct(n){var e=n.eventKey,a=n.children,o=Fe(e),r=gt(a,o),l=Xe();t.useEffect(function(){if(l)return l.registerPath(e,o),function(){l.unregisterPath(e,o)}},[o]);var i;return l?i=r:i=t.createElement(dr,n,r),t.createElement(Vt.Provider,{value:o},i)}var vr=["className","title","eventKey","children"],fr=["children"],mr=function(e){var a=e.className,o=e.title;e.eventKey;var r=e.children,l=B(e,vr),i=t.useContext(ee),u=i.prefixCls,c="".concat(u,"-item-group");return t.createElement("li",H({role:"presentation"},l,{onClick:function(g){return g.stopPropagation()},className:he(c,a)}),t.createElement("div",{role:"presentation",className:"".concat(c,"-title"),title:typeof o=="string"?o:void 0},o),t.createElement("ul",{role:"group",className:"".concat(c,"-list")},r))};function Bt(n){var e=n.children,a=B(n,fr),o=Fe(a.eventKey),r=gt(e,o),l=Xe();return l?r:t.createElement(mr,$t(a,["warnKey"]),r)}function Yt(n){var e=n.className,a=n.style,o=t.useContext(ee),r=o.prefixCls,l=Xe();return l?null:t.createElement("li",{role:"separator",className:he("".concat(r,"-item-divider"),e),style:a})}var pr=["label","children","key","type"];function dt(n){return(n||[]).map(function(e,a){if(e&&wn(e)==="object"){var o=e,r=o.label,l=o.children,i=o.key,u=o.type,c=B(o,pr),s=i??"tmp-".concat(a);return l||u==="group"?u==="group"?t.createElement(Bt,H({key:s},c,{title:r}),dt(l)):t.createElement(Ct,H({key:s},c,{title:r}),dt(l)):u==="divider"?t.createElement(Yt,H({key:s},c)):t.createElement(pt,H({key:s},c),r)}return null}).filter(function(e){return e})}function hr(n,e,a){var o=n;return e&&(o=dt(e)),gt(o,a)}var gr=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Me=[],Cr=t.forwardRef(function(n,e){var a,o,r=n,l=r.prefixCls,i=l===void 0?"rc-menu":l,u=r.rootClassName,c=r.style,s=r.className,g=r.tabIndex,v=g===void 0?0:g,m=r.items,P=r.children,p=r.direction,I=r.id,M=r.mode,b=M===void 0?"vertical":M,w=r.inlineCollapsed,h=r.disabled,d=r.disabledOverflow,y=r.subMenuOpenDelay,f=y===void 0?.1:y,S=r.subMenuCloseDelay,q=S===void 0?.1:S,R=r.forceSubMenuRender,G=r.defaultOpenKeys,V=r.openKeys,O=r.activeKey,Y=r.defaultActiveFirst,L=r.selectable,N=L===void 0?!0:L,k=r.multiple,_=k===void 0?!1:k,te=r.defaultSelectedKeys,ge=r.selectedKeys,le=r.onSelect,ae=r.onDeselect,ne=r.inlineIndent,ue=ne===void 0?24:ne,se=r.motion,U=r.defaultMotions,z=r.triggerSubMenuAction,Ce=z===void 0?"hover":z,ce=r.builtinPlacements,de=r.itemIcon,T=r.expandIcon,X=r.overflowedIndicator,ie=X===void 0?"...":X,Ve=r.overflowedIndicatorPopupClassName,Ue=r.getPopupContainer,ve=r.onClick,xe=r.onOpenChange,Ze=r.onKeyDown;r.openAnimation,r.openTransitionName;var Re=r._internalRenderMenuItem,Pe=r._internalRenderSubMenuItem,Qe=B(r,gr),J=t.useMemo(function(){return hr(P,m,Me)},[P,m]),et=t.useState(!1),ze=$(et,2),Ee=ze[0],tt=ze[1],be=t.useRef(),Ke=Bn(I),we=p==="rtl",nt=Ge(G,{value:V,postState:function(C){return C||Me}}),ye=$(nt,2),W=ye[0],Ie=ye[1],fe=function(C){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function F(){Ie(C),xe==null||xe(C)}x?kn.flushSync(F):F()},Ne=t.useState(W),Z=$(Ne,2),Q=Z[0],Xt=Z[1],rt=t.useRef(!1),Jt=t.useMemo(function(){return(b==="inline"||b==="vertical")&&w?["vertical",w]:[b,!1]},[b,w]),bt=$(Jt,2),je=bt[0],at=bt[1],yt=je==="inline",Zt=t.useState(je),It=$(Zt,2),oe=It[0],Qt=It[1],en=t.useState(at),Mt=$(en,2),tn=Mt[0],nn=Mt[1];t.useEffect(function(){Qt(je),nn(at),rt.current&&(yt?Ie(Q):fe(Me))},[je,at]);var rn=t.useState(0),St=$(rn,2),He=St[0],an=St[1],it=He>=J.length-1||oe!=="horizontal"||d;t.useEffect(function(){yt&&Xt(W)},[W]),t.useEffect(function(){return rt.current=!0,function(){rt.current=!1}},[]);var me=Gn(),xt=me.registerPath,Rt=me.unregisterPath,on=me.refreshOverflowKeys,Pt=me.isSubPathKey,ln=me.getKeyPath,un=me.getKeys,sn=me.getSubPathKeys,cn=t.useMemo(function(){return{registerPath:xt,unregisterPath:Rt}},[xt,Rt]),dn=t.useMemo(function(){return{isSubPathKey:Pt}},[Pt]);t.useEffect(function(){on(it?Me:J.slice(He+1).map(function(E){return E.key}))},[He,it]);var vn=Ge(O||Y&&((a=J[0])===null||a===void 0?void 0:a.key),{value:O}),Et=$(vn,2),_e=Et[0],ot=Et[1],fn=Ae(function(E){ot(E)}),mn=Ae(function(){ot(void 0)});t.useImperativeHandle(e,function(){return{list:be.current,focus:function(C){var x,F=_e??((x=J.find(function(xn){return!xn.props.disabled}))===null||x===void 0?void 0:x.key);if(F){var j,pe,De;(j=be.current)===null||j===void 0||(pe=j.querySelector("li[data-menu-id='".concat(vt(Ke,F),"']")))===null||pe===void 0||(De=pe.focus)===null||De===void 0||De.call(pe,C)}}}});var pn=Ge(te||[],{value:ge,postState:function(C){return Array.isArray(C)?C:C==null?Me:[C]}}),Kt=$(pn,2),qe=Kt[0],hn=Kt[1],gn=function(C){if(N){var x=C.key,F=qe.includes(x),j;_?F?j=qe.filter(function(De){return De!==x}):j=[].concat(Se(qe),[x]):j=[x],hn(j);var pe=D(D({},C),{},{selectedKeys:j});F?ae==null||ae(pe):le==null||le(pe)}!_&&W.length&&oe!=="inline"&&fe(Me)},Cn=Ae(function(E){ve==null||ve(Ye(E)),gn(E)}),wt=Ae(function(E,C){var x=W.filter(function(j){return j!==E});if(C)x.push(E);else if(oe!=="inline"){var F=sn(E);x=x.filter(function(j){return!F.has(j)})}kt(W,x,!0)||fe(x,!0)}),bn=function(C,x){var F=x??!W.includes(C);wt(C,F)},yn=jn(oe,_e,we,Ke,be,un,ln,ot,bn,Ze);t.useEffect(function(){tt(!0)},[]);var In=t.useMemo(function(){return{_internalRenderMenuItem:Re,_internalRenderSubMenuItem:Pe}},[Re,Pe]),Mn=oe!=="horizontal"||d?J:J.map(function(E,C){return t.createElement(Te,{key:E.key,overflowDisabled:C>He},E)}),Sn=t.createElement($e,H({id:I,ref:be,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:pt,className:he(i,"".concat(i,"-root"),"".concat(i,"-").concat(oe),s,(o={},K(o,"".concat(i,"-inline-collapsed"),tn),K(o,"".concat(i,"-rtl"),we),o),u),dir:p,style:c,role:"menu",tabIndex:v,data:Mn,renderRawItem:function(C){return C},renderRawRest:function(C){var x=C.length,F=x?J.slice(-x):null;return t.createElement(Ct,{eventKey:ct,title:ie,disabled:it,internalPopupClose:x===0,popupClassName:Ve},F)},maxCount:oe!=="horizontal"||d?$e.INVALIDATE:$e.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(C){an(C)},onKeyDown:yn},Qe));return t.createElement(ft.Provider,{value:In},t.createElement(Lt.Provider,{value:Ke},t.createElement(Te,{prefixCls:i,rootClassName:u,mode:oe,openKeys:W,rtl:we,disabled:h,motion:Ee?se:null,defaultMotions:Ee?U:null,activeKey:_e,onActive:fn,onInactive:mn,selectedKeys:qe,inlineIndent:ue,subMenuOpenDelay:f,subMenuCloseDelay:q,forceSubMenuRender:R,builtinPlacements:ce,triggerSubMenuAction:Ce,getPopupContainer:Ue,itemIcon:de,expandIcon:T,onItemClick:Cn,onOpenChange:wt},t.createElement(Ut.Provider,{value:dn},Sn),t.createElement("div",{style:{display:"none"},"aria-hidden":!0},t.createElement(Ft.Provider,{value:cn},J)))))}),Je=Cr;Je.Item=pt;Je.SubMenu=Ct;Je.ItemGroup=Bt;Je.Divider=Yt;export{Yt as D,Je as E,pt as M,Ct as S,Bt as a,Fe as u};
