import{r as c,j as h}from"./index-Y5TUN0Pf.js";import"./Earth-9KKCNa97.js";import{B as $,V as O,M as P,F as R,u as X,a as S,T as F,b as Z,E as I,c as G,O as v,d as q,e as J,C as K,P as Q}from"./Preload-0ksgtJ9M.js";import Y from"./Loader-8GJSIWTz.js";import{O as V}from"./OrbitControls-BB1i-IJC.js";import{_ as tt}from"./extends-dGVwEr9R.js";import"./Computers-N0kVi57Q.js";import"./index-0332b2ed.esm-8FFnyRfG.js";import{S as et}from"./SectionWrapper-Nb0MRxHX.js";import{a as ot}from"./index-zrPh9aRe.js";import"./styles-KRg3J3FO.js";class rt extends ${constructor(f,d,x,b){super();const w=[],M=[],T=[],i=new O,A=new P;A.makeRotationFromEuler(x),A.setPosition(d);const k=new P;k.copy(A).invert(),B(),this.setAttribute("position",new R(w,3)),this.setAttribute("normal",new R(M,3)),this.setAttribute("uv",new R(T,2));function B(){let t,e=[];const r=new O,n=new O;if(f.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=f.geometry,E=s.attributes.position,y=s.attributes.normal;if(s.index!==null){const u=s.index;for(t=0;t<u.count;t++)r.fromBufferAttribute(E,u.getX(t)),n.fromBufferAttribute(y,u.getX(t)),j(e,r,n)}else for(t=0;t<E.count;t++)r.fromBufferAttribute(E,t),n.fromBufferAttribute(y,t),j(e,r,n);for(e=p(e,i.set(1,0,0)),e=p(e,i.set(-1,0,0)),e=p(e,i.set(0,1,0)),e=p(e,i.set(0,-1,0)),e=p(e,i.set(0,0,1)),e=p(e,i.set(0,0,-1)),t=0;t<e.length;t++){const u=e[t];T.push(.5+u.position.x/b.x,.5+u.position.y/b.y),u.position.applyMatrix4(A),w.push(u.position.x,u.position.y,u.position.z),M.push(u.normal.x,u.normal.y,u.normal.z)}}function j(t,e,r){e.applyMatrix4(f.matrixWorld),e.applyMatrix4(k),r.transformDirection(f.matrixWorld),t.push(new C(e.clone(),r.clone()))}function p(t,e){const r=[],n=.5*Math.abs(b.dot(e));for(let s=0;s<t.length;s+=3){let E,y,u,L=0,l,m,g,D;const U=t[s+0].position.dot(e)-n,_=t[s+1].position.dot(e)-n,N=t[s+2].position.dot(e)-n;switch(E=U>0,y=_>0,u=N>0,L=(E?1:0)+(y?1:0)+(u?1:0),L){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(E&&(l=t[s+1],m=t[s+2],g=a(t[s],l,e,n),D=a(t[s],m,e,n)),y){l=t[s],m=t[s+2],g=a(t[s+1],l,e,n),D=a(t[s+1],m,e,n),r.push(g),r.push(m.clone()),r.push(l.clone()),r.push(m.clone()),r.push(g.clone()),r.push(D);break}u&&(l=t[s],m=t[s+1],g=a(t[s+2],l,e,n),D=a(t[s+2],m,e,n)),r.push(l.clone()),r.push(m.clone()),r.push(g),r.push(D),r.push(g.clone()),r.push(m.clone());break}case 2:{E||(l=t[s].clone(),m=a(l,t[s+1],e,n),g=a(l,t[s+2],e,n),r.push(l),r.push(m),r.push(g)),y||(l=t[s+1].clone(),m=a(l,t[s+2],e,n),g=a(l,t[s],e,n),r.push(l),r.push(m),r.push(g)),u||(l=t[s+2].clone(),m=a(l,t[s],e,n),g=a(l,t[s+1],e,n),r.push(l),r.push(m),r.push(g));break}}}return r}function a(t,e,r,n){const s=t.position.dot(r)-n,E=e.position.dot(r)-n,y=s/(s-E);return new C(new O(t.position.x+y*(e.position.x-t.position.x),t.position.y+y*(e.position.y-t.position.y),t.position.z+y*(e.position.z-t.position.z)),new O(t.normal.x+y*(e.normal.x-t.normal.x),t.normal.y+y*(e.normal.y-t.normal.y),t.normal.z+y*(e.normal.z-t.normal.z)))}}}class C{constructor(f,d){this.position=f,this.normal=d}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const H=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function W(o,f){const d=X(b=>b.gl),x=S(F,H(o)?Object.values(o):o);if(c.useLayoutEffect(()=>{f==null||f(x)},[f]),c.useEffect(()=>{"initTexture"in d&&(Array.isArray(x)?x:[x]).forEach(d.initTexture)},[d,x]),H(o)){const b={};let w=0;for(const M in o)b[M]=x[w++];return b}else return x}W.preload=o=>S.preload(F,o);W.clear=o=>S.clear(F,o);function st(o){return Array.isArray(o)}function z(o=[0,0,0]){return st(o)?o:o instanceof O||o instanceof I?[o.x,o.y,o.z]:[o,o,o]}const nt=c.forwardRef(function({debug:f,depthTest:d=!1,polygonOffsetFactor:x=-10,map:b,mesh:w,children:M,position:T,rotation:i,scale:A,...k},B){const j=c.useRef(null);c.useImperativeHandle(B,()=>j.current);const p=c.useRef(null);return c.useLayoutEffect(()=>{const a=(w==null?void 0:w.current)||j.current.parent,t=j.current;if(!(a instanceof Z))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new O,rotation:new I,scale:new O(1,1,1)};if(a){G(e,{position:T,scale:A});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!i||typeof i=="number"){const n=new v;n.position.copy(e.position),n.lookAt(a.position),typeof i=="number"&&n.rotateZ(i),G(e,{rotation:n.rotation})}else G(e,{rotation:i});return t.geometry=new rt(a,e.position,e.rotation,e.scale),p.current&&(G(p.current,e),p.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[w,...z(T),...z(A),...z(i)]),c.createElement("mesh",tt({ref:j,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":x,"material-depthTest":d,"material-map":b},k),M,f&&c.createElement("mesh",{ref:p},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}),at=c.forwardRef(({children:o,enabled:f=!0,speed:d=1,rotationIntensity:x=1,floatIntensity:b=1,floatingRange:w=[-.1,.1],...M},T)=>{const i=c.useRef(null);c.useImperativeHandle(T,()=>i.current,[]);const A=c.useRef(Math.random()*1e4);return q(k=>{var B,j;if(!f||d===0)return;const p=A.current+k.clock.getElapsedTime();i.current.rotation.x=Math.cos(p/4*d)/8*x,i.current.rotation.y=Math.sin(p/4*d)/8*x,i.current.rotation.z=Math.sin(p/4*d)/20*x;let a=Math.sin(p/4*d)/10;a=J.mapLinear(a,-.1,.1,(B=w==null?void 0:w[0])!==null&&B!==void 0?B:-.1,(j=w==null?void 0:w[1])!==null&&j!==void 0?j:.1),i.current.position.y=a*b,i.current.updateMatrix()}),c.createElement("group",M,c.createElement("group",{ref:i,matrixAutoUpdate:!1},o))}),it=o=>{const[f]=W([o.imgUrl]);return h.jsxs(at,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[h.jsx("ambientLight",{intensity:.25}),h.jsx("directionalLight",{position:[0,0,.05]}),h.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[h.jsx("icosahedronGeometry",{args:[1,1]}),h.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),h.jsx(nt,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:f,flatShading:!0})]})]})},lt=({icon:o})=>h.jsxs(K,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[h.jsxs(c.Suspense,{fallback:h.jsx(Y,{}),children:[h.jsx(V,{enableZoom:!1}),h.jsx(it,{imgUrl:o})]}),h.jsx(Q,{all:!0})]}),ut=()=>h.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:ot.map(o=>h.jsx("div",{className:"w-28 h-28",children:h.jsx(lt,{icon:o.icon})},o.name))}),jt=et(ut,"");export{jt as default};
