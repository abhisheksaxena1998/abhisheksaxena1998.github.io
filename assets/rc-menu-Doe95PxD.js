import{h as B,e as k,f as Se,b as w,c as A,g as j,i as Rn,j as Pn,a as En,_ as wn,d as Kn}from"./@babel-lqQsMmn5.js";import{c as he}from"./classnames-96-Rrpk_.js";import{F as Ae}from"./rc-overflow-_qJGGb8n.js";import{q as Nn,o as Ot,l as Le,K as re,N as _n,p as Ge,b as $t,e as kn,v as At,A as Dn}from"./rc-util-fvOsdOwp.js";import{r as t}from"./react-jw9l9ZC3.js";import{r as On}from"./react-dom-CtI8I0Ic.js";import{c as $n}from"./@rc-component-35XQ0ZVh.js";import{C as An}from"./rc-motion-n_VCCica.js";var Lt=t.createContext(null);function vt(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function Tt(n){var e=t.useContext(Lt);return vt(e,n)}var Ln=["children","locked"],ee=t.createContext(null);function Tn(n,e){var a=k({},n);return Object.keys(e).forEach(function(o){var r=e[o];r!==void 0&&(a[o]=r)}),a}function Te(n){var e=n.children,a=n.locked,o=B(n,Ln),r=t.useContext(ee),l=Nn(function(){return Tn(r,o)},[r,o],function(i,u){return!a&&(i[0]!==u[0]||!Ot(i[1],u[1],!0))});return t.createElement(ee.Provider,{value:l},e)}var Fn=[],Ft=t.createContext(null);function Xe(){return t.useContext(Ft)}var Vt=t.createContext(Fn);function Fe(n){var e=t.useContext(Vt);return t.useMemo(function(){return n!==void 0?[].concat(Se(e),[n]):e},[e,n])}var Ut=t.createContext(null),ft=t.createContext({}),lt=re.LEFT,ut=re.RIGHT,ct=re.UP,We=re.DOWN,Be=re.ENTER,zt=re.ESC,De=re.HOME,Oe=re.END,Nt=[ct,We,lt,ut];function Vn(n,e,a,o){var r,l,i,u,s="prev",c="next",C="children",v="parent";if(n==="inline"&&o===Be)return{inlineTrigger:!0};var m=(r={},w(r,ct,s),w(r,We,c),r),P=(l={},w(l,lt,a?c:s),w(l,ut,a?s:c),w(l,We,C),w(l,Be,C),l),p=(i={},w(i,ct,s),w(i,We,c),w(i,Be,C),w(i,zt,v),w(i,lt,a?C:v),w(i,ut,a?v:C),i),I={inline:m,horizontal:P,vertical:p,inlineSub:m,horizontalSub:p,verticalSub:p},M=(u=I["".concat(n).concat(e?"":"Sub")])===null||u===void 0?void 0:u[o];switch(M){case s:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case v:return{offset:-1,sibling:!1};case C:return{offset:1,sibling:!1};default:return null}}function Un(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function zn(n,e){for(var a=n||document.activeElement;a;){if(e.has(a))return a;a=a.parentElement}return null}function Ht(n,e){var a=_n(n,!0);return a.filter(function(o){return e.has(o)})}function _t(n,e,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var r=Ht(n,e),l=r.length,i=r.findIndex(function(u){return a===u});return o<0?i===-1?i=l-1:i-=1:o>0&&(i+=1),i=(i+l)%l,r[i]}function Hn(n,e,a,o,r,l,i,u,s,c){var C=t.useRef(),v=t.useRef();v.current=e;var m=function(){Le.cancel(C.current)};return t.useEffect(function(){return function(){m()}},[]),function(P){var p=P.which;if([].concat(Nt,[Be,zt,De,Oe]).includes(p)){var I,M,b,K=function(){I=new Set,M=new Map,b=new Map;var N=l();return N.forEach(function(O){var _=document.querySelector("[data-menu-id='".concat(vt(o,O),"']"));_&&(I.add(_),b.set(_,O),M.set(O,_))}),I};K();var h=M.get(e),d=zn(h,I),y=b.get(d),f=Vn(n,i(y,!0).length===1,a,p);if(!f&&p!==De&&p!==Oe)return;(Nt.includes(p)||[De,Oe].includes(p))&&P.preventDefault();var S=function(N){if(N){var O=N,_=N.querySelector("a");_!=null&&_.getAttribute("href")&&(O=_);var te=b.get(N);u(te),m(),C.current=Le(function(){v.current===te&&O.focus()})}};if([De,Oe].includes(p)||f.sibling||!d){var q;!d||n==="inline"?q=r.current:q=Un(d);var R,G=Ht(q,I);p===De?R=G[0]:p===Oe?R=G[G.length-1]:R=_t(q,I,d,f.offset),S(R)}else if(f.inlineTrigger)s(y);else if(f.offset>0)s(y,!0),m(),C.current=Le(function(){K();var L=d.getAttribute("aria-controls"),N=document.getElementById(L),O=_t(N,I);S(O)},5);else if(f.offset<0){var V=i(y,!0),D=V[V.length-2],Y=M.get(D);s(D,!1),S(Y)}}c==null||c(P)}}function jn(n){Promise.resolve().then(n)}var mt="__RC_UTIL_PATH_SPLIT__",kt=function(e){return e.join(mt)},qn=function(e){return e.split(mt)},st="rc-menu-more";function Gn(){var n=t.useState({}),e=A(n,2),a=e[1],o=t.useRef(new Map),r=t.useRef(new Map),l=t.useState([]),i=A(l,2),u=i[0],s=i[1],c=t.useRef(0),C=t.useRef(!1),v=function(){C.current||a({})},m=t.useCallback(function(h,d){var y=kt(d);r.current.set(y,h),o.current.set(h,y),c.current+=1;var f=c.current;jn(function(){f===c.current&&v()})},[]),P=t.useCallback(function(h,d){var y=kt(d);r.current.delete(y),o.current.delete(h)},[]),p=t.useCallback(function(h){s(h)},[]),I=t.useCallback(function(h,d){var y=o.current.get(h)||"",f=qn(y);return d&&u.includes(f[0])&&f.unshift(st),f},[u]),M=t.useCallback(function(h,d){return h.some(function(y){var f=I(y,!0);return f.includes(d)})},[I]),b=function(){var d=Se(o.current.keys());return u.length&&d.push(st),d},K=t.useCallback(function(h){var d="".concat(o.current.get(h)).concat(mt),y=new Set;return Se(r.current.keys()).forEach(function(f){f.startsWith(d)&&y.add(r.current.get(f))}),y},[]);return t.useEffect(function(){return function(){C.current=!0}},[]),{registerPath:m,unregisterPath:P,refreshOverflowKeys:p,isSubPathKey:M,getKeyPath:I,getKeys:b,getSubPathKeys:K}}function $e(n){var e=t.useRef(n);e.current=n;var a=t.useCallback(function(){for(var o,r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(o=e.current)===null||o===void 0?void 0:o.call.apply(o,[e].concat(l))},[]);return n?a:void 0}var Wn=Math.random().toFixed(5).toString().slice(2),Dt=0;function Bn(n){var e=Ge(n,{value:n}),a=A(e,2),o=a[0],r=a[1];return t.useEffect(function(){Dt+=1;var l="".concat(Wn,"-").concat(Dt);r("rc-menu-uuid-".concat(l))},[]),o}function jt(n,e,a,o){var r=t.useContext(ee),l=r.activeKey,i=r.onActive,u=r.onInactive,s={active:l===n};return e||(s.onMouseEnter=function(c){a==null||a({key:n,domEvent:c}),i(n)},s.onMouseLeave=function(c){o==null||o({key:n,domEvent:c}),u(n)}),s}function qt(n){var e=t.useContext(ee),a=e.mode,o=e.rtl,r=e.inlineIndent;if(a!=="inline")return null;var l=n;return o?{paddingRight:l*r}:{paddingLeft:l*r}}function Gt(n){var e=n.icon,a=n.props,o=n.children,r;return e===null||e===!1?null:(typeof e=="function"?r=t.createElement(e,k({},a)):typeof e!="boolean"&&(r=e),r||o||null)}var Yn=["item"];function Ye(n){var e=n.item,a=B(n,Yn);return Object.defineProperty(a,"item",{get:function(){return $t(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),a}var Xn=["title","attribute","elementRef"],Jn=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Zn=["active"],Qn=function(n){Rn(a,n);var e=Pn(a);function a(){return En(this,a),e.apply(this,arguments)}return wn(a,[{key:"render",value:function(){var r=this.props,l=r.title,i=r.attribute,u=r.elementRef,s=B(r,Xn),c=At(s,["eventKey","popupClassName","popupOffset","onTitleClick"]);return $t(!i,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),t.createElement(Ae.Item,j({},i,{title:typeof l=="string"?l:void 0},c,{ref:u}))}}]),a}(t.Component),er=t.forwardRef(function(n,e){var a,o=n.style,r=n.className,l=n.eventKey;n.warnKey;var i=n.disabled,u=n.itemIcon,s=n.children,c=n.role,C=n.onMouseEnter,v=n.onMouseLeave,m=n.onClick,P=n.onKeyDown,p=n.onFocus,I=B(n,Jn),M=Tt(l),b=t.useContext(ee),K=b.prefixCls,h=b.onItemClick,d=b.disabled,y=b.overflowDisabled,f=b.itemIcon,S=b.selectedKeys,q=b.onActive,R=t.useContext(ft),G=R._internalRenderMenuItem,V="".concat(K,"-item"),D=t.useRef(),Y=t.useRef(),L=d||i,N=kn(e,Y),O=Fe(l),_=function(T){return{key:l,keyPath:Se(O).reverse(),item:D.current,domEvent:T}},te=u||f,Ce=jt(l,L,C,v),le=Ce.active,ae=B(Ce,Zn),ne=S.includes(l),ue=qt(O.length),ce=function(T){if(!L){var X=_(T);m==null||m(Ye(X)),h(X)}},U=function(T){if(P==null||P(T),T.which===re.ENTER){var X=_(T);m==null||m(Ye(X)),h(X)}},z=function(T){q(l),p==null||p(T)},ge={};n.role==="option"&&(ge["aria-selected"]=ne);var se=t.createElement(Qn,j({ref:D,elementRef:N,role:c===null?"none":c||"menuitem",tabIndex:i?null:-1,"data-menu-id":y&&M?null:M},I,ae,ge,{component:"li","aria-disabled":i,style:k(k({},ue),o),className:he(V,(a={},w(a,"".concat(V,"-active"),le),w(a,"".concat(V,"-selected"),ne),w(a,"".concat(V,"-disabled"),L),a),r),onClick:ce,onKeyDown:U,onFocus:z}),s,t.createElement(Gt,{props:k(k({},n),{},{isSelected:ne}),icon:te}));return G&&(se=G(se,n,{selected:ne})),se});function tr(n,e){var a=n.eventKey,o=Xe(),r=Fe(a);return t.useEffect(function(){if(o)return o.registerPath(a,r),function(){o.unregisterPath(a,r)}},[r]),o?null:t.createElement(er,j({},n,{ref:e}))}const pt=t.forwardRef(tr);var nr=["className","children"],rr=function(e,a){var o=e.className,r=e.children,l=B(e,nr),i=t.useContext(ee),u=i.prefixCls,s=i.mode,c=i.rtl;return t.createElement("ul",j({className:he(u,c&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat(s==="inline"?"inline":"vertical"),o),role:"menu"},l,{"data-menu-list":!0,ref:a}),r)},ht=t.forwardRef(rr);ht.displayName="SubMenuList";function Ct(n,e){return Dn(n).map(function(a,o){if(t.isValidElement(a)){var r,l,i=a.key,u=(r=(l=a.props)===null||l===void 0?void 0:l.eventKey)!==null&&r!==void 0?r:i,s=u==null;s&&(u="tmp_key-".concat([].concat(Se(e),[o]).join("-")));var c={key:u,eventKey:u};return t.cloneElement(a,c)}return a})}var $={adjustX:1,adjustY:1},ar={topLeft:{points:["bl","tl"],overflow:$},topRight:{points:["br","tr"],overflow:$},bottomLeft:{points:["tl","bl"],overflow:$},bottomRight:{points:["tr","br"],overflow:$},leftTop:{points:["tr","tl"],overflow:$},leftBottom:{points:["br","bl"],overflow:$},rightTop:{points:["tl","tr"],overflow:$},rightBottom:{points:["bl","br"],overflow:$}},ir={topLeft:{points:["bl","tl"],overflow:$},topRight:{points:["br","tr"],overflow:$},bottomLeft:{points:["tl","bl"],overflow:$},bottomRight:{points:["tr","br"],overflow:$},rightTop:{points:["tr","tl"],overflow:$},rightBottom:{points:["br","bl"],overflow:$},leftTop:{points:["tl","tr"],overflow:$},leftBottom:{points:["bl","br"],overflow:$}};function Wt(n,e,a){if(e)return e;if(a)return a[n]||a.other}var or={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function lr(n){var e=n.prefixCls,a=n.visible,o=n.children,r=n.popup,l=n.popupStyle,i=n.popupClassName,u=n.popupOffset,s=n.disabled,c=n.mode,C=n.onVisibleChange,v=t.useContext(ee),m=v.getPopupContainer,P=v.rtl,p=v.subMenuOpenDelay,I=v.subMenuCloseDelay,M=v.builtinPlacements,b=v.triggerSubMenuAction,K=v.forceSubMenuRender,h=v.rootClassName,d=v.motion,y=v.defaultMotions,f=t.useState(!1),S=A(f,2),q=S[0],R=S[1],G=P?k(k({},ir),M):k(k({},ar),M),V=or[c],D=Wt(c,d,y),Y=t.useRef(D);c!=="inline"&&(Y.current=D);var L=k(k({},Y.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),N=t.useRef();return t.useEffect(function(){return N.current=Le(function(){R(a)}),function(){Le.cancel(N.current)}},[a]),t.createElement($n,{prefixCls:e,popupClassName:he("".concat(e,"-popup"),w({},"".concat(e,"-rtl"),P),i,h),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:m,builtinPlacements:G,popupPlacement:V,popupVisible:q,popup:r,popupStyle:l,popupAlign:u&&{offset:u},action:s?[]:[b],mouseEnterDelay:p,mouseLeaveDelay:I,onPopupVisibleChange:C,forceRender:K,popupMotion:L,fresh:!0},o)}function ur(n){var e=n.id,a=n.open,o=n.keyPath,r=n.children,l="inline",i=t.useContext(ee),u=i.prefixCls,s=i.forceSubMenuRender,c=i.motion,C=i.defaultMotions,v=i.mode,m=t.useRef(!1);m.current=v===l;var P=t.useState(!m.current),p=A(P,2),I=p[0],M=p[1],b=m.current?a:!1;t.useEffect(function(){m.current&&M(!1)},[v]);var K=k({},Wt(l,c,C));o.length>1&&(K.motionAppear=!1);var h=K.onVisibleChanged;return K.onVisibleChanged=function(d){return!m.current&&!d&&M(!0),h==null?void 0:h(d)},I?null:t.createElement(Te,{mode:l,locked:!m.current},t.createElement(An,j({visible:b},K,{forceRender:s,removeOnLeave:!1,leavedClassName:"".concat(u,"-hidden")}),function(d){var y=d.className,f=d.style;return t.createElement(ht,{id:e,className:y,style:f},r)}))}var cr=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],sr=["active"],dr=function(e){var a,o=e.style,r=e.className,l=e.title,i=e.eventKey;e.warnKey;var u=e.disabled,s=e.internalPopupClose,c=e.children,C=e.itemIcon,v=e.expandIcon,m=e.popupClassName,P=e.popupOffset,p=e.popupStyle,I=e.onClick,M=e.onMouseEnter,b=e.onMouseLeave,K=e.onTitleClick,h=e.onTitleMouseEnter,d=e.onTitleMouseLeave,y=B(e,cr),f=Tt(i),S=t.useContext(ee),q=S.prefixCls,R=S.mode,G=S.openKeys,V=S.disabled,D=S.overflowDisabled,Y=S.activeKey,L=S.selectedKeys,N=S.itemIcon,O=S.expandIcon,_=S.onItemClick,te=S.onOpenChange,Ce=S.onActive,le=t.useContext(ft),ae=le._internalRenderSubMenuItem,ne=t.useContext(Ut),ue=ne.isSubPathKey,ce=Fe(),U="".concat(q,"-submenu"),z=V||u,ge=t.useRef(),se=t.useRef(),de=C??N,T=v??O,X=G.includes(i),ie=!D&&X,Ve=ue(L,i),Ue=jt(i,z,h,d),ve=Ue.active,xe=B(Ue,sr),Ze=t.useState(!1),Re=A(Ze,2),Pe=Re[0],Qe=Re[1],J=function(Q){z||Qe(Q)},et=function(Q){J(!0),M==null||M({key:i,domEvent:Q})},ze=function(Q){J(!1),b==null||b({key:i,domEvent:Q})},Ee=t.useMemo(function(){return ve||(R!=="inline"?Pe||ue([Y],i):!1)},[R,ve,Y,Pe,i,ue]),tt=qt(ce.length),be=function(Q){z||(K==null||K({key:i,domEvent:Q}),R==="inline"&&te(i,!X))},we=$e(function(Z){I==null||I(Ye(Z)),_(Z)}),Ke=function(Q){R!=="inline"&&te(i,Q)},nt=function(){Ce(i)},ye=f&&"".concat(f,"-popup"),W=t.createElement("div",j({role:"menuitem",style:tt,className:"".concat(U,"-title"),tabIndex:z?null:-1,ref:ge,title:typeof l=="string"?l:null,"data-menu-id":D&&f?null:f,"aria-expanded":ie,"aria-haspopup":!0,"aria-controls":ye,"aria-disabled":z,onClick:be,onFocus:nt},xe),l,t.createElement(Gt,{icon:R!=="horizontal"?T:void 0,props:k(k({},e),{},{isOpen:ie,isSubMenu:!0})},t.createElement("i",{className:"".concat(U,"-arrow")}))),Ie=t.useRef(R);if(R!=="inline"&&ce.length>1?Ie.current="vertical":Ie.current=R,!D){var fe=Ie.current;W=t.createElement(lr,{mode:fe,prefixCls:U,visible:!s&&ie&&R!=="inline",popupClassName:m,popupOffset:P,popupStyle:p,popup:t.createElement(Te,{mode:fe==="horizontal"?"vertical":fe},t.createElement(ht,{id:ye,ref:se},c)),disabled:z,onVisibleChange:Ke},W)}var Ne=t.createElement(Ae.Item,j({role:"none"},y,{component:"li",style:o,className:he(U,"".concat(U,"-").concat(R),r,(a={},w(a,"".concat(U,"-open"),ie),w(a,"".concat(U,"-active"),Ee),w(a,"".concat(U,"-selected"),Ve),w(a,"".concat(U,"-disabled"),z),a)),onMouseEnter:et,onMouseLeave:ze}),W,!D&&t.createElement(ur,{id:ye,open:ie,keyPath:ce},c));return ae&&(Ne=ae(Ne,e,{selected:Ve,active:Ee,open:ie,disabled:z})),t.createElement(Te,{onItemClick:we,mode:R==="horizontal"?"vertical":R,itemIcon:de,expandIcon:T},Ne)};function gt(n){var e=n.eventKey,a=n.children,o=Fe(e),r=Ct(a,o),l=Xe();t.useEffect(function(){if(l)return l.registerPath(e,o),function(){l.unregisterPath(e,o)}},[o]);var i;return l?i=r:i=t.createElement(dr,n,r),t.createElement(Vt.Provider,{value:o},i)}var vr=["className","title","eventKey","children"],fr=["children"],mr=function(e){var a=e.className,o=e.title;e.eventKey;var r=e.children,l=B(e,vr),i=t.useContext(ee),u=i.prefixCls,s="".concat(u,"-item-group");return t.createElement("li",j({role:"presentation"},l,{onClick:function(C){return C.stopPropagation()},className:he(s,a)}),t.createElement("div",{role:"presentation",className:"".concat(s,"-title"),title:typeof o=="string"?o:void 0},o),t.createElement("ul",{role:"group",className:"".concat(s,"-list")},r))};function Bt(n){var e=n.children,a=B(n,fr),o=Fe(a.eventKey),r=Ct(e,o),l=Xe();return l?r:t.createElement(mr,At(a,["warnKey"]),r)}function Yt(n){var e=n.className,a=n.style,o=t.useContext(ee),r=o.prefixCls,l=Xe();return l?null:t.createElement("li",{role:"separator",className:he("".concat(r,"-item-divider"),e),style:a})}var pr=["label","children","key","type"];function dt(n){return(n||[]).map(function(e,a){if(e&&Kn(e)==="object"){var o=e,r=o.label,l=o.children,i=o.key,u=o.type,s=B(o,pr),c=i??"tmp-".concat(a);return l||u==="group"?u==="group"?t.createElement(Bt,j({key:c},s,{title:r}),dt(l)):t.createElement(gt,j({key:c},s,{title:r}),dt(l)):u==="divider"?t.createElement(Yt,j({key:c},s)):t.createElement(pt,j({key:c},s),r)}return null}).filter(function(e){return e})}function hr(n,e,a){var o=n;return e&&(o=dt(e)),Ct(o,a)}var Cr=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Me=[],gr=t.forwardRef(function(n,e){var a,o,r=n,l=r.prefixCls,i=l===void 0?"rc-menu":l,u=r.rootClassName,s=r.style,c=r.className,C=r.tabIndex,v=C===void 0?0:C,m=r.items,P=r.children,p=r.direction,I=r.id,M=r.mode,b=M===void 0?"vertical":M,K=r.inlineCollapsed,h=r.disabled,d=r.disabledOverflow,y=r.subMenuOpenDelay,f=y===void 0?.1:y,S=r.subMenuCloseDelay,q=S===void 0?.1:S,R=r.forceSubMenuRender,G=r.defaultOpenKeys,V=r.openKeys,D=r.activeKey,Y=r.defaultActiveFirst,L=r.selectable,N=L===void 0?!0:L,O=r.multiple,_=O===void 0?!1:O,te=r.defaultSelectedKeys,Ce=r.selectedKeys,le=r.onSelect,ae=r.onDeselect,ne=r.inlineIndent,ue=ne===void 0?24:ne,ce=r.motion,U=r.defaultMotions,z=r.triggerSubMenuAction,ge=z===void 0?"hover":z,se=r.builtinPlacements,de=r.itemIcon,T=r.expandIcon,X=r.overflowedIndicator,ie=X===void 0?"...":X,Ve=r.overflowedIndicatorPopupClassName,Ue=r.getPopupContainer,ve=r.onClick,xe=r.onOpenChange,Ze=r.onKeyDown;r.openAnimation,r.openTransitionName;var Re=r._internalRenderMenuItem,Pe=r._internalRenderSubMenuItem,Qe=B(r,Cr),J=t.useMemo(function(){return hr(P,m,Me)},[P,m]),et=t.useState(!1),ze=A(et,2),Ee=ze[0],tt=ze[1],be=t.useRef(),we=Bn(I),Ke=p==="rtl",nt=Ge(G,{value:V,postState:function(g){return g||Me}}),ye=A(nt,2),W=ye[0],Ie=ye[1],fe=function(g){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function F(){Ie(g),xe==null||xe(g)}x?On.flushSync(F):F()},Ne=t.useState(W),Z=A(Ne,2),Q=Z[0],Xt=Z[1],rt=t.useRef(!1),Jt=t.useMemo(function(){return(b==="inline"||b==="vertical")&&K?["vertical",K]:[b,!1]},[b,K]),bt=A(Jt,2),He=bt[0],at=bt[1],yt=He==="inline",Zt=t.useState(He),It=A(Zt,2),oe=It[0],Qt=It[1],en=t.useState(at),Mt=A(en,2),tn=Mt[0],nn=Mt[1];t.useEffect(function(){Qt(He),nn(at),rt.current&&(yt?Ie(Q):fe(Me))},[He,at]);var rn=t.useState(0),St=A(rn,2),je=St[0],an=St[1],it=je>=J.length-1||oe!=="horizontal"||d;t.useEffect(function(){yt&&Xt(W)},[W]),t.useEffect(function(){return rt.current=!0,function(){rt.current=!1}},[]);var me=Gn(),xt=me.registerPath,Rt=me.unregisterPath,on=me.refreshOverflowKeys,Pt=me.isSubPathKey,ln=me.getKeyPath,un=me.getKeys,cn=me.getSubPathKeys,sn=t.useMemo(function(){return{registerPath:xt,unregisterPath:Rt}},[xt,Rt]),dn=t.useMemo(function(){return{isSubPathKey:Pt}},[Pt]);t.useEffect(function(){on(it?Me:J.slice(je+1).map(function(E){return E.key}))},[je,it]);var vn=Ge(D||Y&&((a=J[0])===null||a===void 0?void 0:a.key),{value:D}),Et=A(vn,2),_e=Et[0],ot=Et[1],fn=$e(function(E){ot(E)}),mn=$e(function(){ot(void 0)});t.useImperativeHandle(e,function(){return{list:be.current,focus:function(g){var x,F=_e??((x=J.find(function(xn){return!xn.props.disabled}))===null||x===void 0?void 0:x.key);if(F){var H,pe,ke;(H=be.current)===null||H===void 0||(pe=H.querySelector("li[data-menu-id='".concat(vt(we,F),"']")))===null||pe===void 0||(ke=pe.focus)===null||ke===void 0||ke.call(pe,g)}}}});var pn=Ge(te||[],{value:Ce,postState:function(g){return Array.isArray(g)?g:g==null?Me:[g]}}),wt=A(pn,2),qe=wt[0],hn=wt[1],Cn=function(g){if(N){var x=g.key,F=qe.includes(x),H;_?F?H=qe.filter(function(ke){return ke!==x}):H=[].concat(Se(qe),[x]):H=[x],hn(H);var pe=k(k({},g),{},{selectedKeys:H});F?ae==null||ae(pe):le==null||le(pe)}!_&&W.length&&oe!=="inline"&&fe(Me)},gn=$e(function(E){ve==null||ve(Ye(E)),Cn(E)}),Kt=$e(function(E,g){var x=W.filter(function(H){return H!==E});if(g)x.push(E);else if(oe!=="inline"){var F=cn(E);x=x.filter(function(H){return!F.has(H)})}Ot(W,x,!0)||fe(x,!0)}),bn=function(g,x){var F=x??!W.includes(g);Kt(g,F)},yn=Hn(oe,_e,Ke,we,be,un,ln,ot,bn,Ze);t.useEffect(function(){tt(!0)},[]);var In=t.useMemo(function(){return{_internalRenderMenuItem:Re,_internalRenderSubMenuItem:Pe}},[Re,Pe]),Mn=oe!=="horizontal"||d?J:J.map(function(E,g){return t.createElement(Te,{key:E.key,overflowDisabled:g>je},E)}),Sn=t.createElement(Ae,j({id:I,ref:be,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:pt,className:he(i,"".concat(i,"-root"),"".concat(i,"-").concat(oe),c,(o={},w(o,"".concat(i,"-inline-collapsed"),tn),w(o,"".concat(i,"-rtl"),Ke),o),u),dir:p,style:s,role:"menu",tabIndex:v,data:Mn,renderRawItem:function(g){return g},renderRawRest:function(g){var x=g.length,F=x?J.slice(-x):null;return t.createElement(gt,{eventKey:st,title:ie,disabled:it,internalPopupClose:x===0,popupClassName:Ve},F)},maxCount:oe!=="horizontal"||d?Ae.INVALIDATE:Ae.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(g){an(g)},onKeyDown:yn},Qe));return t.createElement(ft.Provider,{value:In},t.createElement(Lt.Provider,{value:we},t.createElement(Te,{prefixCls:i,rootClassName:u,mode:oe,openKeys:W,rtl:Ke,disabled:h,motion:Ee?ce:null,defaultMotions:Ee?U:null,activeKey:_e,onActive:fn,onInactive:mn,selectedKeys:qe,inlineIndent:ue,subMenuOpenDelay:f,subMenuCloseDelay:q,forceSubMenuRender:R,builtinPlacements:se,triggerSubMenuAction:ge,getPopupContainer:Ue,itemIcon:de,expandIcon:T,onItemClick:gn,onOpenChange:Kt},t.createElement(Ut.Provider,{value:dn},Sn),t.createElement("div",{style:{display:"none"},"aria-hidden":!0},t.createElement(Ft.Provider,{value:sn},J)))))}),Je=gr;Je.Item=pt;Je.SubMenu=gt;Je.ItemGroup=Bt;Je.Divider=Yt;export{Yt as D,Je as E,pt as M,gt as S,Bt as a,Fe as u};
