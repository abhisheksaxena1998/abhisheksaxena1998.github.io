import{c as b,h as ea,a as U,e as Ma,b as ka}from"./@babel-d329d0e8.js";import{r as t}from"./react-e38afb93.js";import{r as $a}from"./react-dom-8ddcb964.js";import{c as Rr,a as Y,d as La,u as Na,r as ia,s as wa,e as ba,f as _e,i as ra,h as Ta,j as ua,g as aa,k as Ra,l as Wa,m as za,n as Ba}from"./rc-util-11732fe4.js";import{c as Ze}from"./classnames-343f0c61.js";import{R as Sa}from"./rc-resize-observer-afad5fa3.js";import{C as Pa}from"./rc-motion-e8d20733.js";import"./react-is-e8e5dbb3.js";var Da=t.createContext(null),la=[];function xa(e,a){var r=t.useState(function(){if(!Rr())return null;var h=document.createElement("div");return h}),n=b(r,1),o=n[0],u=t.useRef(!1),s=t.useContext(Da),f=t.useState(la),d=b(f,2),g=d[0],M=d[1],y=s||(u.current?void 0:function(h){M(function(w){var T=[h].concat(ea(w));return T})});function $(){o.parentElement||document.body.appendChild(o),u.current=!0}function v(){var h;(h=o.parentElement)===null||h===void 0||h.removeChild(o),u.current=!1}return Y(function(){return e?s?s($):$():v(),v},[e]),Y(function(){g.length&&(g.forEach(function(h){return h()}),M(la))},[g]),[o,y]}function Ha(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var _a="rc-util-locker-".concat(Date.now()),sa=0;function Fa(e){var a=!!e,r=t.useState(function(){return sa+=1,"".concat(_a,"_").concat(sa)}),n=b(r,1),o=n[0];Y(function(){if(a){var u=La(),s=Ha();Na(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(u,"px);"):"",`
}`),o)}else ia(o);return function(){ia(o)}},[a,o])}var va=!1;function Aa(e){return typeof e=="boolean"&&(va=e),va}var ca=function(a){return a===!1?!1:!Rr()||!a?null:typeof a=="string"?document.querySelector(a):typeof a=="function"?a():a},Ea=t.forwardRef(function(e,a){var r=e.open,n=e.autoLock,o=e.getContainer;e.debug;var u=e.autoDestroy,s=u===void 0?!0:u,f=e.children,d=t.useState(r),g=b(d,2),M=g[0],y=g[1],$=M||r;t.useEffect(function(){(s||r)&&y(r)},[r,s]);var v=t.useState(function(){return ca(o)}),h=b(v,2),w=h[0],T=h[1];t.useEffect(function(){var x=ca(o);T(x??null)});var R=xa($&&!w),l=b(R,2),S=l[0],k=l[1],B=w??S;Fa(n&&r&&Rr()&&(B===S||B===document.body));var I=null;if(f&&wa(f)&&a){var ee=f;I=ee.ref}var X=ba(I,a);if(!$||!Rr()||w===void 0)return null;var A=B===!1||Aa(),m=f;return a&&(m=t.cloneElement(f,{ref:X})),t.createElement(Da.Provider,{value:k},A?m:$a.createPortal(m,B))}),fa=t.createContext(null);function da(e){return e?Array.isArray(e)?e:[e]:[]}function Va(e,a,r,n){return t.useMemo(function(){var o=da(r??a),u=da(n??a),s=new Set(o),f=new Set(u);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),f.has("hover")&&(f.delete("hover"),f.add("click"))),[s,f]},[e,a,r,n])}function Ua(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===a[0]:e[0]===a[0]&&e[1]===a[1]}function qa(e,a,r,n){for(var o=r.points,u=Object.keys(e),s=0;s<u.length;s+=1){var f,d=u[s];if(Ua((f=e[d])===null||f===void 0?void 0:f.points,o,n))return"".concat(a,"-placement-").concat(d)}return""}function ma(e,a,r,n){return a||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function sr(e){return e.ownerDocument.defaultView}function ta(e){for(var a=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var o=sr(r).getComputedStyle(r),u=o.overflowX,s=o.overflowY,f=o.overflow;[u,s,f].some(function(d){return n.includes(d)})&&a.push(r),r=r.parentElement}return a}function lr(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?a:e}function ur(e){return lr(parseFloat(e),0)}function ha(e,a){var r=U({},e);return(a||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement)){var o=sr(n).getComputedStyle(n),u=o.overflow,s=o.overflowClipMargin,f=o.borderTopWidth,d=o.borderBottomWidth,g=o.borderLeftWidth,M=o.borderRightWidth,y=n.getBoundingClientRect(),$=n.offsetHeight,v=n.clientHeight,h=n.offsetWidth,w=n.clientWidth,T=ur(f),R=ur(d),l=ur(g),S=ur(M),k=lr(Math.round(y.width/h*1e3)/1e3),B=lr(Math.round(y.height/$*1e3)/1e3),I=(h-w-l-S)*k,ee=($-v-T-R)*B,X=T*B,A=R*B,m=l*k,x=S*k,P=0,te=0;if(u==="clip"){var re=ur(s);P=re*k,te=re*B}var J=y.x+m-P,L=y.y+X-te,ae=J+y.width+2*P-m-x-I,Pe=L+y.height+2*te-X-A-ee;r.left=Math.max(r.left,J),r.top=Math.max(r.top,L),r.right=Math.min(r.right,ae),r.bottom=Math.min(r.bottom,Pe)}}),r}function ga(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(a),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function ya(e,a){var r=a||[],n=b(r,2),o=n[0],u=n[1];return[ga(e.width,o),ga(e.height,u)]}function Ca(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Ke(e,a){var r=a[0],n=a[1],o,u;return r==="t"?u=e.y:r==="b"?u=e.y+e.height:u=e.y+e.height/2,n==="l"?o=e.x:n==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:u}}function Se(e,a){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,o){return o===a?r[n]||"c":n}).join("")}function Qa(e,a,r,n,o,u,s){var f=t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[n]||{}}),d=b(f,2),g=d[0],M=d[1],y=t.useRef(0),$=t.useMemo(function(){return a?ta(a):[]},[a]),v=t.useRef({}),h=function(){v.current={}};e||h();var w=_e(function(){if(a&&r&&e){let V=function(Je,He){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve,nr=P.x+Je,or=P.y+He,ir=nr+p,Lr=or+O,Zr=Math.max(nr,Ge.left),Yr=Math.max(or,Ge.top),Xr=Math.min(ir,Ge.right),Or=Math.min(Lr,Ge.bottom);return Math.max(0,(Xr-Zr)*(Or-Yr))},tr=function(){ye=P.y+N,je=ye+O,Ce=P.x+W,Me=Ce+p};var l=a,S=l.style.left,k=l.style.top,B=l.style.right,I=l.style.bottom,ee=l.ownerDocument,X=sr(l),A=U(U({},o[n]),u);l.style.left="0",l.style.top="0",l.style.right="auto",l.style.bottom="auto";var m;if(Array.isArray(r))m={x:r[0],y:r[1],width:0,height:0};else{var x=r.getBoundingClientRect();m={x:x.x,y:x.y,width:x.width,height:x.height}}var P=l.getBoundingClientRect(),te=X.getComputedStyle(l),re=te.width,J=te.height,L=ee.documentElement,ae=L.clientWidth,Pe=L.clientHeight,Fe=L.scrollWidth,ne=L.scrollHeight,se=L.scrollTop,De=L.scrollLeft,O=P.height,p=P.width,q=m.height,F=m.width,Ae={left:0,top:0,right:ae,bottom:Pe},Ee={left:-De,top:-se,right:Fe-De,bottom:ne-se},oe=A.htmlRegion,Ve="visible",ke="visibleFirst";oe!=="scroll"&&oe!==ke&&(oe=Ve);var Q=oe===ke,$e=ha(Ee,$),C=ha(Ae,$),ve=oe===Ve?C:$e,G=Q?C:ve;l.style.left="auto",l.style.top="auto",l.style.right="0",l.style.bottom="0";var Ue=l.getBoundingClientRect();l.style.left=S,l.style.top=k,l.style.right=B,l.style.bottom=I;var ce=lr(Math.round(p/parseFloat(re)*1e3)/1e3),me=lr(Math.round(O/parseFloat(J)*1e3)/1e3);if(ce===0||me===0||ra(r)&&!Ta(r))return;var fe=A.offset,Wr=A.targetOffset,zr=ya(P,fe),vr=b(zr,2),qe=vr[0],K=vr[1],Br=ya(m,Wr),cr=b(Br,2),xr=cr[0],fr=cr[1];m.x-=xr,m.y-=fr;var he=A.points||[],dr=b(he,2),Hr=dr[0],Qe=dr[1],H=Ca(Qe),_=Ca(Hr),mr=Ke(m,H),hr=Ke(P,_),ge=U({},A),W=mr.x-hr.x+qe,N=mr.y-hr.y+K,ie=V(W,N),Le=V(W,N,C),j=Ke(m,["t","l"]),gr=Ke(P,["t","l"]),Ne=Ke(m,["b","r"]),Ye=Ke(P,["b","r"]),Te=A.overflow||{},yr=Te.adjustX,ue=Te.adjustY,Cr=Te.shiftX,Xe=Te.shiftY,Oe=function(He){return typeof He=="boolean"?He:He>=0},ye,je,Ce,Me;tr();var pe=Oe(ue),Mr=_[0]===H[0];if(pe&&_[0]==="t"&&(je>G.bottom||v.current.bt)){var we=N;Mr?we-=O-q:we=j.y-Ye.y-K;var er=V(W,we),_r=V(W,we,C);er>ie||er===ie&&(!Q||_r>=Le)?(v.current.bt=!0,N=we,ge.points=[Se(_,0),Se(H,0)]):v.current.bt=!1}if(pe&&_[0]==="b"&&(ye<G.top||v.current.tb)){var de=N;Mr?de+=O-q:de=Ne.y-gr.y-K;var wr=V(W,de),Z=V(W,de,C);wr>ie||wr===ie&&(!Q||Z>=Le)?(v.current.tb=!0,N=de,ge.points=[Se(_,0),Se(H,0)]):v.current.tb=!1}var br=Oe(yr),Sr=_[1]===H[1];if(br&&_[1]==="l"&&(Me>G.right||v.current.rl)){var Re=W;Sr?Re-=p-F:Re=j.x-Ye.x-qe;var Pr=V(Re,N),Fr=V(Re,N,C);Pr>ie||Pr===ie&&(!Q||Fr>=Le)?(v.current.rl=!0,W=Re,ge.points=[Se(_,1),Se(H,1)]):v.current.rl=!1}if(br&&_[1]==="r"&&(Ce<G.left||v.current.lr)){var We=W;Sr?We+=p-F:We=Ne.x-gr.x-qe;var Dr=V(We,N),Ar=V(We,N,C);Dr>ie||Dr===ie&&(!Q||Ar>=Le)?(v.current.lr=!0,W=We,ge.points=[Se(_,1),Se(H,1)]):v.current.lr=!1}tr();var ze=Cr===!0?0:Cr;typeof ze=="number"&&(Ce<C.left&&(W-=Ce-C.left,m.x+F<C.left+ze&&(W+=m.x-C.left+F-ze)),Me>C.right&&(W-=Me-C.right,m.x>C.right-ze&&(W+=m.x-C.right+ze)));var le=Xe===!0?0:Xe;typeof le=="number"&&(ye<C.top&&(N-=ye-C.top,m.y+q<C.top+le&&(N+=m.y-C.top+q-le)),je>C.bottom&&(N-=je-C.bottom,m.y>C.bottom-le&&(N+=m.y-C.bottom+le)));var Be=P.x+W,be=Be+p,rr=P.y+N,Vr=rr+O,Er=m.x,Ur=Er+F,ar=m.y,qr=ar+q,Qr=Math.max(Be,Er),jr=Math.min(be,Ur),kr=(Qr+jr)/2,Ir=kr-Be,Jr=Math.max(rr,ar),Gr=Math.min(Vr,qr),Kr=(Jr+Gr)/2,$r=Kr-rr;s==null||s(a,ge);var Ie=Ue.right-P.x-(W+P.width),xe=Ue.bottom-P.y-(N+P.height);M({ready:!0,offsetX:W/ce,offsetY:N/me,offsetR:Ie/ce,offsetB:xe/me,arrowX:Ir/ce,arrowY:$r/me,scaleX:ce,scaleY:me,align:ge})}}),T=function(){y.current+=1;var S=y.current;Promise.resolve().then(function(){y.current===S&&w()})},R=function(){M(function(S){return U(U({},S),{},{ready:!1})})};return Y(R,[n]),Y(function(){e||R()},[e]),[g.ready,g.offsetX,g.offsetY,g.offsetR,g.offsetB,g.arrowX,g.arrowY,g.scaleX,g.scaleY,g.align,T]}function ja(e,a,r,n){Y(function(){if(e&&a&&r){let M=function(){n()};var o=a,u=r,s=ta(o),f=ta(u),d=sr(u),g=new Set([d].concat(ea(s),ea(f)));return g.forEach(function(y){y.addEventListener("scroll",M,{passive:!0})}),d.addEventListener("resize",M,{passive:!0}),n(),function(){g.forEach(function(y){y.removeEventListener("scroll",M),d.removeEventListener("resize",M)})}}},[e,a,r])}function Ia(e,a,r,n,o,u,s,f){var d=t.useRef(e),g=t.useRef(!1);d.current!==e&&(g.current=!0,d.current=e),t.useEffect(function(){var M=ua(function(){g.current=!1});return function(){ua.cancel(M)}},[e]),t.useEffect(function(){if(a&&n&&(!o||u)){var M=function(){var I=!1,ee=function(m){var x=m.target;I=s(x)},X=function(m){var x=m.target;!g.current&&d.current&&!I&&!s(x)&&f(!1)};return[ee,X]},y=M(),$=b(y,2),v=$[0],h=$[1],w=M(),T=b(w,2),R=T[0],l=T[1],S=sr(n);S.addEventListener("mousedown",v),S.addEventListener("click",h),S.addEventListener("contextmenu",h);var k=aa(r);return k&&(k.addEventListener("mousedown",R),k.addEventListener("click",l),k.addEventListener("contextmenu",l)),function(){S.removeEventListener("mousedown",v),S.removeEventListener("click",h),S.removeEventListener("contextmenu",h),k&&(k.removeEventListener("mousedown",R),k.removeEventListener("click",l),k.removeEventListener("contextmenu",l))}}},[a,r,n,o,u])}function Ja(e){var a=e.prefixCls,r=e.align,n=e.arrow,o=e.arrowPos,u=n||{},s=u.className,f=u.content,d=o.x,g=d===void 0?0:d,M=o.y,y=M===void 0?0:M,$=t.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var h=r.points[0],w=r.points[1],T=h[0],R=h[1],l=w[0],S=w[1];T===l||!["t","b"].includes(T)?v.top=y:T==="t"?v.top=0:v.bottom=0,R===S||!["l","r"].includes(R)?v.left=g:R==="l"?v.left=0:v.right=0}return t.createElement("div",{ref:$,className:Ze("".concat(a,"-arrow"),s),style:v},f)}function Ga(e){var a=e.prefixCls,r=e.open,n=e.zIndex,o=e.mask,u=e.motion;return o?t.createElement(Pa,Ma({},u,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(s){var f=s.className;return t.createElement("div",{style:{zIndex:n},className:Ze("".concat(a,"-mask"),f)})}):null}var Ka=t.memo(function(e){var a=e.children;return a},function(e,a){return a.cache}),Za=t.forwardRef(function(e,a){var r=e.popup,n=e.className,o=e.prefixCls,u=e.style,s=e.target,f=e.onVisibleChanged,d=e.open,g=e.keepDom,M=e.onClick,y=e.mask,$=e.arrow,v=e.arrowPos,h=e.align,w=e.motion,T=e.maskMotion,R=e.forceRender,l=e.getPopupContainer,S=e.autoDestroy,k=e.portal,B=e.zIndex,I=e.onMouseEnter,ee=e.onMouseLeave,X=e.ready,A=e.offsetX,m=e.offsetY,x=e.offsetR,P=e.offsetB,te=e.onAlign,re=e.onPrepare,J=e.stretch,L=e.targetWidth,ae=e.targetHeight,Pe=typeof r=="function"?r():r,Fe=d||g,ne=(l==null?void 0:l.length)>0,se=t.useState(!l||!ne),De=b(se,2),O=De[0],p=De[1];if(Y(function(){!O&&ne&&s&&p(!0)},[O,ne,s]),!O)return null;var q="auto",F={left:"-1000vw",top:"-1000vh",right:q,bottom:q};if(X||!d){var Ae=h.points,Ee=h._experimental,oe=Ee==null?void 0:Ee.dynamicInset,Ve=oe&&Ae[0][1]==="r",ke=oe&&Ae[0][0]==="b";Ve?(F.right=x,F.left=q):(F.left=A,F.right=q),ke?(F.bottom=P,F.top=q):(F.top=m,F.bottom=q)}var Q={};return J&&(J.includes("height")&&ae?Q.height=ae:J.includes("minHeight")&&ae&&(Q.minHeight=ae),J.includes("width")&&L?Q.width=L:J.includes("minWidth")&&L&&(Q.minWidth=L)),d||(Q.pointerEvents="none"),t.createElement(k,{open:R||Fe,getContainer:l&&function(){return l(s)},autoDestroy:S},t.createElement(Ga,{prefixCls:o,open:d,zIndex:B,mask:y,motion:T}),t.createElement(Sa,{onResize:te,disabled:!d},function($e){return t.createElement(Pa,Ma({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:R,leavedClassName:"".concat(o,"-hidden")},w,{onAppearPrepare:re,onEnterPrepare:re,visible:d,onVisibleChanged:function(ve){var G;w==null||(G=w.onVisibleChanged)===null||G===void 0||G.call(w,ve),f(ve)}}),function(C,ve){var G=C.className,Ue=C.style,ce=Ze(o,G,n);return t.createElement("div",{ref:Ra($e,a,ve),className:ce,style:U(U(U(U({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},F),Q),Ue),{},{boxSizing:"border-box",zIndex:B},u),onMouseEnter:I,onMouseLeave:ee,onClick:M},$&&t.createElement(Ja,{prefixCls:o,arrow:$,arrowPos:v,align:h}),t.createElement(Ka,{cache:!d},Pe))})}))}),Ya=t.forwardRef(function(e,a){var r=e.children,n=e.getTriggerDOMNode,o=wa(r),u=t.useCallback(function(f){Wa(a,n?n(f):f)},[n]),s=ba(u,r.ref);return o?t.cloneElement(r,{ref:s}):r}),Xa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Oa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ea,a=t.forwardRef(function(r,n){var o=r.prefixCls,u=o===void 0?"rc-trigger-popup":o,s=r.children,f=r.action,d=f===void 0?"hover":f,g=r.showAction,M=r.hideAction,y=r.popupVisible,$=r.defaultPopupVisible,v=r.onPopupVisibleChange,h=r.afterPopupVisibleChange,w=r.mouseEnterDelay,T=r.mouseLeaveDelay,R=T===void 0?.1:T,l=r.focusDelay,S=r.blurDelay,k=r.mask,B=r.maskClosable,I=B===void 0?!0:B,ee=r.getPopupContainer,X=r.forceRender,A=r.autoDestroy,m=r.destroyPopupOnHide,x=r.popup,P=r.popupClassName,te=r.popupStyle,re=r.popupPlacement,J=r.builtinPlacements,L=J===void 0?{}:J,ae=r.popupAlign,Pe=r.zIndex,Fe=r.stretch,ne=r.getPopupClassNameFromAlign,se=r.alignPoint,De=r.onPopupClick,O=r.onPopupAlign,p=r.arrow,q=r.popupMotion,F=r.maskMotion,Ae=r.popupTransitionName,Ee=r.popupAnimation,oe=r.maskTransitionName,Ve=r.maskAnimation,ke=r.className,Q=r.getTriggerDOMNode,$e=ka(r,Xa),C=A||m||!1,ve=t.useState(!1),G=b(ve,2),Ue=G[0],ce=G[1];Y(function(){ce(za())},[]);var me=t.useRef({}),fe=t.useContext(fa),Wr=t.useMemo(function(){return{registerSubPopup:function(c,D){me.current[c]=D,fe==null||fe.registerSubPopup(c,D)}}},[fe]),zr=Ba(),vr=t.useState(null),qe=b(vr,2),K=qe[0],Br=qe[1],cr=_e(function(i){ra(i)&&K!==i&&Br(i),fe==null||fe.registerSubPopup(zr,i)}),xr=t.useState(null),fr=b(xr,2),he=fr[0],dr=fr[1],Hr=_e(function(i){ra(i)&&he!==i&&dr(i)}),Qe=t.Children.only(s),H=(Qe==null?void 0:Qe.props)||{},_={},mr=_e(function(i){var c,D,z=he;return(z==null?void 0:z.contains(i))||((c=aa(z))===null||c===void 0?void 0:c.host)===i||i===z||(K==null?void 0:K.contains(i))||((D=aa(K))===null||D===void 0?void 0:D.host)===i||i===K||Object.values(me.current).some(function(E){return(E==null?void 0:E.contains(i))||i===E})}),hr=ma(u,q,Ee,Ae),ge=ma(u,F,Ve,oe),W=t.useState($||!1),N=b(W,2),ie=N[0],Le=N[1],j=y??ie,gr=_e(function(i){y===void 0&&Le(i)});Y(function(){Le(y||!1)},[y]);var Ne=t.useRef(j);Ne.current=j;var Ye=_e(function(i){j!==i&&(gr(i),v==null||v(i))}),Te=t.useRef(),yr=function(){clearTimeout(Te.current)},ue=function(c){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;yr(),D===0?Ye(c):Te.current=setTimeout(function(){Ye(c)},D*1e3)};t.useEffect(function(){return yr},[]);var Cr=t.useState(!1),Xe=b(Cr,2),Oe=Xe[0],ye=Xe[1];Y(function(i){(!i||j)&&ye(!0)},[j]);var je=t.useState(null),Ce=b(je,2),Me=Ce[0],pe=Ce[1],Mr=t.useState([0,0]),we=b(Mr,2),er=we[0],_r=we[1],de=function(c){_r([c.clientX,c.clientY])},wr=Qa(j,K,se?er:he,re,L,ae,O),Z=b(wr,11),br=Z[0],Sr=Z[1],Re=Z[2],Pr=Z[3],Fr=Z[4],We=Z[5],Dr=Z[6],Ar=Z[7],ze=Z[8],le=Z[9],Be=Z[10],be=_e(function(){Oe||Be()});ja(j,he,K,be),Y(function(){be()},[er,re]),Y(function(){j&&!(L!=null&&L[re])&&be()},[JSON.stringify(ae)]);var rr=t.useMemo(function(){var i=qa(L,u,le,se);return Ze(i,ne==null?void 0:ne(le))},[le,ne,L,u,se]);t.useImperativeHandle(n,function(){return{forceAlign:be}});var Vr=function(c){ye(!1),Be(),h==null||h(c)},Er=function(){return new Promise(function(c){pe(function(){return c})})};Y(function(){Me&&(Be(),Me(),pe(null))},[Me]);var Ur=t.useState(0),ar=b(Ur,2),qr=ar[0],Qr=ar[1],jr=t.useState(0),kr=b(jr,2),Ir=kr[0],Jr=kr[1],Gr=function(c,D){if(be(),Fe){var z=D.getBoundingClientRect();Qr(z.width),Jr(z.height)}},Kr=Va(Ue,d,g,M),$r=b(Kr,2),Ie=$r[0],xe=$r[1],V=function(c,D,z,E){_[c]=function(na){var Nr;E==null||E(na),ue(D,z);for(var pr=arguments.length,oa=new Array(pr>1?pr-1:0),Tr=1;Tr<pr;Tr++)oa[Tr-1]=arguments[Tr];(Nr=H[c])===null||Nr===void 0||Nr.call.apply(Nr,[H,na].concat(oa))}},tr=Ie.has("click"),Je=xe.has("click")||xe.has("contextMenu");(tr||Je)&&(_.onClick=function(i){var c;Ne.current&&Je?ue(!1):!Ne.current&&tr&&(de(i),ue(!0));for(var D=arguments.length,z=new Array(D>1?D-1:0),E=1;E<D;E++)z[E-1]=arguments[E];(c=H.onClick)===null||c===void 0||c.call.apply(c,[H,i].concat(z))}),Ia(j,Je,he,K,k,I,mr,ue);var He=Ie.has("hover"),Ge=xe.has("hover"),nr,or;He&&(V("onMouseEnter",!0,w,function(i){de(i)}),nr=function(){ue(!0,w)},se&&(_.onMouseMove=function(i){var c;(c=H.onMouseMove)===null||c===void 0||c.call(H,i)})),Ge&&(V("onMouseLeave",!1,R),or=function(){ue(!1,R)}),Ie.has("focus")&&V("onFocus",!0,l),xe.has("focus")&&V("onBlur",!1,S),Ie.has("contextMenu")&&(_.onContextMenu=function(i){var c;Ne.current&&xe.has("contextMenu")?ue(!1):(de(i),ue(!0)),i.preventDefault();for(var D=arguments.length,z=new Array(D>1?D-1:0),E=1;E<D;E++)z[E-1]=arguments[E];(c=H.onContextMenu)===null||c===void 0||c.call.apply(c,[H,i].concat(z))}),ke&&(_.className=Ze(H.className,ke));var ir=U(U({},H),_),Lr={},Zr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Zr.forEach(function(i){$e[i]&&(Lr[i]=function(){for(var c,D=arguments.length,z=new Array(D),E=0;E<D;E++)z[E]=arguments[E];(c=ir[i])===null||c===void 0||c.call.apply(c,[ir].concat(z)),$e[i].apply($e,z)})});var Yr=t.cloneElement(Qe,U(U({},ir),Lr)),Xr={x:We,y:Dr},Or=p?U({},p!==!0?p:{}):null;return t.createElement(t.Fragment,null,t.createElement(Sa,{disabled:!j,ref:Hr,onResize:Gr},t.createElement(Ya,{getTriggerDOMNode:Q},Yr)),t.createElement(fa.Provider,{value:Wr},t.createElement(Za,{portal:e,ref:cr,prefixCls:u,popup:x,className:Ze(P,rr),style:te,target:he,onMouseEnter:nr,onMouseLeave:or,zIndex:Pe,open:j,keepDom:Oe,onClick:De,mask:k,motion:hr,maskMotion:ge,onVisibleChanged:Vr,onPrepare:Er,forceRender:X,autoDestroy:C,getPopupContainer:ee,align:le,arrow:Or,arrowPos:Xr,ready:br,offsetX:Sr,offsetY:Re,offsetR:Pr,offsetB:Fr,onAlign:be,stretch:Fe,targetWidth:qr/Ar,targetHeight:Ir/ze})))});return a}const ut=Oa(Ea);export{Ea as P,ut as T};
