import{c as T,b as g,k as z,g as p,d as G,f as J}from"./@babel.CqxtU2kl.js";import{c as R}from"./classnames.CIPFGIzL.js";import{K as j,A as Q,e as U,p as X,b as Y}from"./rc-util.9PQy9ck0.js";import{a as i}from"./react.DPZx3FLm.js";import{C as Z}from"./rc-motion.cq0Hvde5.js";var H=i.forwardRef(function(e,n){var a=e.prefixCls,l=e.forceRender,f=e.className,m=e.style,I=e.children,c=e.isActive,A=e.role,s=e.classNames,y=e.styles,r=i.useState(c||l),d=T(r,2),t=d[0],u=d[1];return i.useEffect(function(){(l||c)&&u(!0)},[l,c]),t?i.createElement("div",{ref:n,className:R("".concat(a,"-content"),g(g({},"".concat(a,"-content-active"),c),"".concat(a,"-content-inactive"),!c),f),style:m,role:A},i.createElement("div",{className:R("".concat(a,"-content-box"),s==null?void 0:s.body),style:y==null?void 0:y.body},I)):null});H.displayName="PanelContent";var ee=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],L=i.forwardRef(function(e,n){var a=e.showArrow,l=a===void 0?!0:a,f=e.headerClass,m=e.isActive,I=e.onItemClick,c=e.forceRender,A=e.className,s=e.classNames,y=s===void 0?{}:s,r=e.styles,d=r===void 0?{}:r,t=e.prefixCls,u=e.collapsible,C=e.accordion,b=e.panelKey,v=e.extra,x=e.header,N=e.expandIcon,o=e.openMotion,K=e.destroyInactivePanel,P=e.children,w=z(e,ee),h=u==="disabled",k=u==="header",E=u==="icon",D=v!=null&&typeof v!="boolean",_=function(){I==null||I(b)},V=function(M){(M.key==="Enter"||M.keyCode===j.ENTER||M.which===j.ENTER)&&_()},S=typeof N=="function"?N(e):i.createElement("i",{className:"arrow"});S&&(S=i.createElement("div",{className:"".concat(t,"-expand-icon"),onClick:["header","icon"].includes(u)?_:void 0},S));var W=R(g(g(g({},"".concat(t,"-item"),!0),"".concat(t,"-item-active"),m),"".concat(t,"-item-disabled"),h),A),q=R(f,g(g(g({},"".concat(t,"-header"),!0),"".concat(t,"-header-collapsible-only"),k),"".concat(t,"-icon-collapsible-only"),E),y.header),$={className:q,"aria-expanded":m,"aria-disabled":h,onKeyDown:V,style:d.header};return!k&&!E&&($.onClick=_,$.role=C?"tab":"button",$.tabIndex=h?-1:0),i.createElement("div",p({},w,{ref:n,className:W}),i.createElement("div",$,l&&S,i.createElement("span",{className:"".concat(t,"-header-text"),onClick:u==="header"?_:void 0},x),D&&i.createElement("div",{className:"".concat(t,"-extra")},v)),i.createElement(Z,p({visible:m,leavedClassName:"".concat(t,"-content-hidden")},o,{forceRender:c,removeOnLeave:K}),function(O,M){var B=O.className,F=O.style;return i.createElement(H,{ref:M,prefixCls:t,className:B,classNames:y,style:F,styles:d,isActive:m,forceRender:c,role:C?"tabpanel":void 0},P)}))}),ae=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],ne=function(n,a){var l=a.prefixCls,f=a.accordion,m=a.collapsible,I=a.destroyInactivePanel,c=a.onItemClick,A=a.activeKey,s=a.openMotion,y=a.expandIcon;return n.map(function(r,d){var t=r.children,u=r.label,C=r.key,b=r.collapsible,v=r.onItemClick,x=r.destroyInactivePanel,N=z(r,ae),o=String(C??d),K=b??m,P=x??I,w=function(E){K!=="disabled"&&(c(E),v==null||v(E))},h=!1;return f?h=A[0]===o:h=A.indexOf(o)>-1,i.createElement(L,p({},N,{prefixCls:l,key:o,panelKey:o,isActive:h,accordion:f,openMotion:s,expandIcon:y,header:u,collapsible:K,onItemClick:w,destroyInactivePanel:P}),t)})},le=function(n,a,l){if(!n)return null;var f=l.prefixCls,m=l.accordion,I=l.collapsible,c=l.destroyInactivePanel,A=l.onItemClick,s=l.activeKey,y=l.openMotion,r=l.expandIcon,d=n.key||String(a),t=n.props,u=t.header,C=t.headerClass,b=t.destroyInactivePanel,v=t.collapsible,x=t.onItemClick,N=!1;m?N=s[0]===d:N=s.indexOf(d)>-1;var o=v??I,K=function(h){o!=="disabled"&&(A(h),x==null||x(h))},P={key:d,panelKey:d,header:u,headerClass:C,isActive:N,prefixCls:f,destroyInactivePanel:b??c,openMotion:y,accordion:m,children:n.props.children,onItemClick:K,expandIcon:r,collapsible:o};return typeof n.type=="string"?n:(Object.keys(P).forEach(function(w){typeof P[w]>"u"&&delete P[w]}),i.cloneElement(n,P))};function te(e,n,a){return Array.isArray(e)?ne(e,a):Q(n).map(function(l,f){return le(l,f,a)})}function ie(e){var n=e;if(!Array.isArray(n)){var a=G(n);n=a==="number"||a==="string"?[n]:[]}return n.map(function(l){return String(l)})}var ce=i.forwardRef(function(e,n){var a=e.prefixCls,l=a===void 0?"rc-collapse":a,f=e.destroyInactivePanel,m=f===void 0?!1:f,I=e.style,c=e.accordion,A=e.className,s=e.children,y=e.collapsible,r=e.openMotion,d=e.expandIcon,t=e.activeKey,u=e.defaultActiveKey,C=e.onChange,b=e.items,v=R(l,A),x=U([],{value:t,onChange:function(k){return C==null?void 0:C(k)},defaultValue:u,postState:ie}),N=T(x,2),o=N[0],K=N[1],P=function(k){return K(function(){if(c)return o[0]===k?[]:[k];var E=o.indexOf(k),D=E>-1;return D?o.filter(function(_){return _!==k}):[].concat(J(o),[k])})};Y(!s,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var w=te(b,s,{prefixCls:l,accordion:c,openMotion:r,expandIcon:d,collapsible:y,destroyInactivePanel:m,onItemClick:P,activeKey:o});return i.createElement("div",p({ref:n,className:v,style:I,role:c?"tablist":void 0},X(e,{aria:!0,data:!0})),w)});const re=Object.assign(ce,{Panel:L});re.Panel;export{re as C};
