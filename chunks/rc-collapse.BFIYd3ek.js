import{c as e,b as n,k as a,g as t,d as l,f as o}from"./@babel.BGkJ1U9u.js";import{c}from"./classnames.BmZ8OyLm.js";import{K as r,A as i,e as s,p as d,b as p}from"./rc-util.DIscDwjl.js";import{a as m}from"./react.DlfX74Oz.js";import{C as f}from"./rc-motion.BpKOU8X5.js";var v=m.forwardRef((function(a,t){var l=a.prefixCls,o=a.forceRender,r=a.className,i=a.style,s=a.children,d=a.isActive,p=a.role,f=a.classNames,v=a.styles,u=m.useState(d||o),y=e(u,2),b=y[0],h=y[1];return m.useEffect((function(){(o||d)&&h(!0)}),[o,d]),b?m.createElement("div",{ref:t,className:c("".concat(l,"-content"),n(n({},"".concat(l,"-content-active"),d),"".concat(l,"-content-inactive"),!d),r),style:i,role:p},m.createElement("div",{className:c("".concat(l,"-content-box"),null==f?void 0:f.body),style:null==v?void 0:v.body},s)):null}));v.displayName="PanelContent";var u=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],y=m.forwardRef((function(e,l){var o=e.showArrow,i=void 0===o||o,s=e.headerClass,d=e.isActive,p=e.onItemClick,y=e.forceRender,b=e.className,h=e.classNames,C=void 0===h?{}:h,x=e.styles,I=void 0===x?{}:x,N=e.prefixCls,k=e.collapsible,E=e.accordion,P=e.panelKey,A=e.extra,w=e.header,K=e.expandIcon,R=e.openMotion,g=e.destroyInactivePanel,j=e.children,M=a(e,u),O="disabled"===k,S="header"===k,T="icon"===k,D=null!=A&&"boolean"!=typeof A,L=function(){null==p||p(P)},V="function"==typeof K?K(e):m.createElement("i",{className:"arrow"});V&&(V=m.createElement("div",{className:"".concat(N,"-expand-icon"),onClick:["header","icon"].includes(k)?L:void 0},V));var q=c(n(n(n({},"".concat(N,"-item"),!0),"".concat(N,"-item-active"),d),"".concat(N,"-item-disabled"),O),b),z={className:c(s,n(n(n({},"".concat(N,"-header"),!0),"".concat(N,"-header-collapsible-only"),S),"".concat(N,"-icon-collapsible-only"),T),C.header),"aria-expanded":d,"aria-disabled":O,onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==r.ENTER&&e.which!==r.ENTER||L()},style:I.header};return S||T||(z.onClick=L,z.role=E?"tab":"button",z.tabIndex=O?-1:0),m.createElement("div",t({},M,{ref:l,className:q}),m.createElement("div",z,i&&V,m.createElement("span",{className:"".concat(N,"-header-text"),onClick:"header"===k?L:void 0},w),D&&m.createElement("div",{className:"".concat(N,"-extra")},A)),m.createElement(f,t({visible:d,leavedClassName:"".concat(N,"-content-hidden")},R,{forceRender:y,removeOnLeave:g}),(function(e,n){var a=e.className,t=e.style;return m.createElement(v,{ref:n,prefixCls:N,className:a,classNames:C,style:t,styles:I,isActive:d,forceRender:y,role:E?"tabpanel":void 0},j)})))})),b=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];function h(e,n,l){return Array.isArray(e)?function(e,n){var l=n.prefixCls,o=n.accordion,c=n.collapsible,r=n.destroyInactivePanel,i=n.onItemClick,s=n.activeKey,d=n.openMotion,p=n.expandIcon;return e.map((function(e,n){var f=e.children,v=e.label,u=e.key,h=e.collapsible,C=e.onItemClick,x=e.destroyInactivePanel,I=a(e,b),N=String(null!=u?u:n),k=null!=h?h:c,E=null!=x?x:r,P=!1;return P=o?s[0]===N:s.indexOf(N)>-1,m.createElement(y,t({},I,{prefixCls:l,key:N,panelKey:N,isActive:P,accordion:o,openMotion:d,expandIcon:p,header:v,collapsible:k,onItemClick:function(e){"disabled"!==k&&(i(e),null==C||C(e))},destroyInactivePanel:E}),f)}))}(e,l):i(n).map((function(e,n){return function(e,n,a){if(!e)return null;var t=a.prefixCls,l=a.accordion,o=a.collapsible,c=a.destroyInactivePanel,r=a.onItemClick,i=a.activeKey,s=a.openMotion,d=a.expandIcon,p=e.key||String(n),f=e.props,v=f.header,u=f.headerClass,y=f.destroyInactivePanel,b=f.collapsible,h=f.onItemClick,C=!1;C=l?i[0]===p:i.indexOf(p)>-1;var x=null!=b?b:o,I={key:p,panelKey:p,header:v,headerClass:u,isActive:C,prefixCls:t,destroyInactivePanel:null!=y?y:c,openMotion:s,accordion:l,children:e.props.children,onItemClick:function(e){"disabled"!==x&&(r(e),null==h||h(e))},expandIcon:d,collapsible:x};return"string"==typeof e.type?e:(Object.keys(I).forEach((function(e){void 0===I[e]&&delete I[e]})),m.cloneElement(e,I))}(e,n,l)}))}function C(e){var n=e;if(!Array.isArray(n)){var a=l(n);n="number"===a||"string"===a?[n]:[]}return n.map((function(e){return String(e)}))}var x=m.forwardRef((function(n,a){var l=n.prefixCls,r=void 0===l?"rc-collapse":l,i=n.destroyInactivePanel,f=void 0!==i&&i,v=n.style,u=n.accordion,y=n.className,b=n.children,x=n.collapsible,I=n.openMotion,N=n.expandIcon,k=n.activeKey,E=n.defaultActiveKey,P=n.onChange,A=n.items,w=c(r,y),K=s([],{value:k,onChange:function(e){return null==P?void 0:P(e)},defaultValue:E,postState:C}),R=e(K,2),g=R[0],j=R[1];p(!b,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var M=h(A,b,{prefixCls:r,accordion:u,openMotion:I,expandIcon:N,collapsible:x,destroyInactivePanel:f,onItemClick:function(e){return j((function(){return u?g[0]===e?[]:[e]:g.indexOf(e)>-1?g.filter((function(n){return n!==e})):[].concat(o(g),[e])}))},activeKey:g});return m.createElement("div",t({ref:a,className:w,style:v,role:u?"tablist":void 0},d(n,{aria:!0,data:!0})),M)}));const I=Object.assign(x,{Panel:y});I.Panel;export{I as C};
