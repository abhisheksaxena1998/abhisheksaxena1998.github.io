import{h as pe,g as et,b as Q,e as Y,c as J,f as ne,d as gt}from"./@babel-RoFE0b8V.js";import{c as se}from"./classnames-96-Rrpk_.js";import{K as re,p as ht,o as bt}from"./rc-util-zVnptbHz.js";import{r as t}from"./react-jw9l9ZC3.js";var ve=t.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});function Oe(e,l,r){return(e-l)/(r-l)}function He(e,l,r,m){var o=Oe(l,r,m),i={};switch(e){case"rtl":i.right="".concat(o*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(o*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(o*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(o*100,"%"),i.transform="translateX(-50%)";break}return i}function be(e,l){return Array.isArray(e)?e[l]:e}var yt=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Ct=t.forwardRef(function(e,l){var r,m,o=e.prefixCls,i=e.value,c=e.valueIndex,b=e.onStartMove,E=e.style,k=e.render,y=e.dragging,C=e.onOffsetChange,g=pe(e,yt),u=t.useContext(ve),s=u.min,d=u.max,n=u.direction,v=u.disabled,a=u.keyboard,h=u.range,$=u.tabIndex,R=u.ariaLabelForHandle,A=u.ariaLabelledByForHandle,X=u.ariaValueTextFormatterForHandle,H=u.styles,_=u.classNames,x="".concat(o,"-handle"),w=function(D){v||b(D,c)},F=function(D){if(!v&&a){var S=null;switch(D.which||D.keyCode){case re.LEFT:S=n==="ltr"||n==="btt"?-1:1;break;case re.RIGHT:S=n==="ltr"||n==="btt"?1:-1;break;case re.UP:S=n!=="ttb"?1:-1;break;case re.DOWN:S=n!=="ttb"?-1:1;break;case re.HOME:S="min";break;case re.END:S="max";break;case re.PAGE_UP:S=2;break;case re.PAGE_DOWN:S=-2;break}S!==null&&(D.preventDefault(),C(S,c))}},W=He(n,i,s,d),z=t.createElement("div",et({ref:l,className:se(x,(r={},Q(r,"".concat(x,"-").concat(c+1),h),Q(r,"".concat(x,"-dragging"),y),r),_.handle),style:Y(Y(Y({},W),E),H.handle),onMouseDown:w,onTouchStart:w,onKeyDown:F,tabIndex:v?null:be($,c),role:"slider","aria-valuemin":s,"aria-valuemax":d,"aria-valuenow":i,"aria-disabled":v,"aria-label":be(R,c),"aria-labelledby":be(A,c),"aria-valuetext":(m=be(X,c))===null||m===void 0?void 0:m(i),"aria-orientation":n==="ltr"||n==="rtl"?"horizontal":"vertical"},g));return k&&(z=k(z,{index:c,prefixCls:o,value:i,dragging:y})),z}),St=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],kt=t.forwardRef(function(e,l){var r=e.prefixCls,m=e.style,o=e.onStartMove,i=e.onOffsetChange,c=e.values,b=e.handleRender,E=e.draggingIndex,k=pe(e,St),y=t.useRef({});return t.useImperativeHandle(l,function(){return{focus:function(g){var u;(u=y.current[g])===null||u===void 0||u.focus()}}}),t.createElement(t.Fragment,null,c.map(function(C,g){return t.createElement(Ct,et({ref:function(s){s?y.current[g]=s:delete y.current[g]},dragging:E===g,prefixCls:r,style:be(m,g),key:g,value:C,valueIndex:g,onStartMove:o,onOffsetChange:i,render:b},k))}))});function Ve(e){var l="touches"in e?e.touches[0]:e;return{pageX:l.pageX,pageY:l.pageY}}function Mt(e,l,r,m,o,i,c,b,E){var k=t.useState(null),y=J(k,2),C=y[0],g=y[1],u=t.useState(-1),s=J(u,2),d=s[0],n=s[1],v=t.useState(r),a=J(v,2),h=a[0],$=a[1],R=t.useState(r),A=J(R,2),X=A[0],H=A[1],_=t.useRef(null),x=t.useRef(null);t.useEffect(function(){d===-1&&$(r)},[r,d]),t.useEffect(function(){return function(){document.removeEventListener("mousemove",_.current),document.removeEventListener("mouseup",x.current),document.removeEventListener("touchmove",_.current),document.removeEventListener("touchend",x.current)}},[]);var w=function(S,L){h.some(function(T,V){return T!==S[V]})&&(L!==void 0&&g(L),$(S),c(S))},F=function(S,L){if(S===-1){var T=X[0],V=X[X.length-1],de=m-T,fe=o-V,K=L*(o-m);K=Math.max(K,de),K=Math.min(K,fe);var ye=i(T+K);K=ye-T;var Z=X.map(function(me){return me+K});w(Z)}else{var ue=(o-m)*L,p=ne(h);p[S]=X[S];var U=E(p,ue,S,"dist");w(U.values,U.value)}},W=t.useRef(F);W.current=F;var z=function(S,L,T){S.stopPropagation();var V=T||r,de=V[L];n(L),g(de),H(V);var fe=Ve(S),K=fe.pageX,ye=fe.pageY,Z=function(U){U.preventDefault();var me=Ve(U),Ne=me.pageX,xe=me.pageY,Ce=Ne-K,Se=xe-ye,ke=e.current.getBoundingClientRect(),Me=ke.width,ee=ke.height,q;switch(l){case"btt":q=-Se/ee;break;case"ttb":q=Se/ee;break;case"rtl":q=-Ce/Me;break;default:q=Ce/Me}W.current(L,q)},ue=function p(U){U.preventDefault(),document.removeEventListener("mouseup",p),document.removeEventListener("mousemove",Z),document.removeEventListener("touchend",p),document.removeEventListener("touchmove",Z),_.current=null,x.current=null,n(-1),b()};document.addEventListener("mouseup",ue),document.addEventListener("mousemove",Z),document.addEventListener("touchend",ue),document.addEventListener("touchmove",Z),_.current=Z,x.current=ue},B=t.useMemo(function(){var D=ne(r).sort(function(L,T){return L-T}),S=ne(h).sort(function(L,T){return L-T});return D.every(function(L,T){return L===S[T]})?h:r},[r,h]);return[d,C,B,z]}function Et(e,l,r,m,o,i){var c=t.useCallback(function(u){var s=isFinite(u)?u:e;return s=Math.min(l,u),s=Math.max(e,s),s},[e,l]),b=t.useCallback(function(u){if(r!==null){var s=e+Math.round((c(u)-e)/r)*r,d=function(h){return(String(h).split(".")[1]||"").length},n=Math.max(d(r),d(l),d(e)),v=Number(s.toFixed(n));return e<=v&&v<=l?v:null}return null},[r,e,l,c]),E=t.useCallback(function(u){var s=c(u),d=m.map(function(a){return a.value});r!==null&&d.push(b(u)),d.push(e,l);var n=d[0],v=l-e;return d.forEach(function(a){var h=Math.abs(s-a);h<=v&&(n=a,v=h)}),n},[e,l,m,r,c,b]),k=function u(s,d,n){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof d=="number"){var a,h=s[n],$=h+d,R=[];m.forEach(function(x){R.push(x.value)}),R.push(e,l),R.push(b(h));var A=d>0?1:-1;v==="unit"?R.push(b(h+A*r)):R.push(b($)),R=R.filter(function(x){return x!==null}).filter(function(x){return d<0?x<=h:x>=h}),v==="unit"&&(R=R.filter(function(x){return x!==h}));var X=v==="unit"?h:$;a=R[0];var H=Math.abs(a-X);if(R.forEach(function(x){var w=Math.abs(x-X);w<H&&(a=x,H=w)}),a===void 0)return d<0?e:l;if(v==="dist")return a;if(Math.abs(d)>1){var _=ne(s);return _[n]=a,u(_,d-A,n,v)}return a}else{if(d==="min")return e;if(d==="max")return l}},y=function(s,d,n){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",a=s[n],h=k(s,d,n,v);return{value:h,changed:h!==a}},C=function(s){return i===null&&s===0||typeof i=="number"&&s<i},g=function(s,d,n){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",a=s.map(E),h=a[n],$=k(a,d,n,v);if(a[n]=$,o===!1){var R=i||0;n>0&&a[n-1]!==h&&(a[n]=Math.max(a[n],a[n-1]+R)),n<a.length-1&&a[n+1]!==h&&(a[n]=Math.min(a[n],a[n+1]-R))}else if(typeof i=="number"||i===null){for(var A=n+1;A<a.length;A+=1)for(var X=!0;C(a[A]-a[A-1])&&X;){var H=y(a,1,A);a[A]=H.value,X=H.changed}for(var _=n;_>0;_-=1)for(var x=!0;C(a[_]-a[_-1])&&x;){var w=y(a,-1,_-1);a[_-1]=w.value,x=w.changed}for(var F=a.length-1;F>0;F-=1)for(var W=!0;C(a[F]-a[F-1])&&W;){var z=y(a,-1,F-1);a[F-1]=z.value,W=z.changed}for(var B=0;B<a.length-1;B+=1)for(var D=!0;C(a[B+1]-a[B])&&D;){var S=y(a,1,B+1);a[B+1]=S.value,D=S.changed}}return{value:a[n],values:a}};return[E,g]}function xt(e){var l=e.prefixCls,r=e.style,m=e.children,o=e.value,i=e.onClick,c=t.useContext(ve),b=c.min,E=c.max,k=c.direction,y=c.includedStart,C=c.includedEnd,g=c.included,u="".concat(l,"-text"),s=He(k,o,b,E);return t.createElement("span",{className:se(u,Q({},"".concat(u,"-active"),g&&y<=o&&o<=C)),style:Y(Y({},s),r),onMouseDown:function(n){n.stopPropagation()},onClick:function(){i(o)}},m)}function Rt(e){var l=e.prefixCls,r=e.marks,m=e.onClick,o="".concat(l,"-mark");return r.length?t.createElement("div",{className:o},r.map(function(i){var c=i.value,b=i.style,E=i.label;return t.createElement(xt,{key:c,prefixCls:o,style:b,value:c,onClick:m},E)})):null}function $t(e){var l=e.prefixCls,r=e.value,m=e.style,o=e.activeStyle,i=t.useContext(ve),c=i.min,b=i.max,E=i.direction,k=i.included,y=i.includedStart,C=i.includedEnd,g="".concat(l,"-dot"),u=k&&y<=r&&r<=C,s=Y(Y({},He(E,r,c,b)),typeof m=="function"?m(r):m);return u&&(s=Y(Y({},s),typeof o=="function"?o(r):o)),t.createElement("span",{className:se(g,Q({},"".concat(g,"-active"),u)),style:s})}function _t(e){var l=e.prefixCls,r=e.marks,m=e.dots,o=e.style,i=e.activeStyle,c=t.useContext(ve),b=c.min,E=c.max,k=c.step,y=t.useMemo(function(){var C=new Set;if(r.forEach(function(u){C.add(u.value)}),m&&k!==null)for(var g=b;g<=E;)C.add(g),g+=k;return Array.from(C)},[b,E,k,m,r]);return t.createElement("div",{className:"".concat(l,"-step")},y.map(function(C){return t.createElement($t,{prefixCls:l,key:C,value:C,style:o,activeStyle:i})}))}function Ze(e){var l,r=e.prefixCls,m=e.style,o=e.start,i=e.end,c=e.index,b=e.onStartMove,E=e.replaceCls,k=t.useContext(ve),y=k.direction,C=k.min,g=k.max,u=k.disabled,s=k.range,d=k.classNames,n="".concat(r,"-track"),v=Oe(o,C,g),a=Oe(i,C,g),h=function(X){!u&&b&&b(X,-1)},$={};switch(y){case"rtl":$.right="".concat(v*100,"%"),$.width="".concat(a*100-v*100,"%");break;case"btt":$.bottom="".concat(v*100,"%"),$.height="".concat(a*100-v*100,"%");break;case"ttb":$.top="".concat(v*100,"%"),$.height="".concat(a*100-v*100,"%");break;default:$.left="".concat(v*100,"%"),$.width="".concat(a*100-v*100,"%")}var R=E||se(n,(l={},Q(l,"".concat(n,"-").concat(c+1),c!==null&&s),Q(l,"".concat(r,"-track-draggable"),b),l),d.track);return t.createElement("div",{className:R,style:Y(Y({},$),m),onMouseDown:h,onTouchStart:h})}function wt(e){var l=e.prefixCls,r=e.style,m=e.values,o=e.startPoint,i=e.onStartMove,c=t.useContext(ve),b=c.included,E=c.range,k=c.min,y=c.styles,C=c.classNames,g=t.useMemo(function(){if(!E){if(m.length===0)return[];var s=o??k,d=m[0];return[{start:Math.min(s,d),end:Math.max(s,d)}]}for(var n=[],v=0;v<m.length-1;v+=1)n.push({start:m[v],end:m[v+1]});return n},[m,E,o,k]),u=null;return(C.tracks||y.tracks)&&(u=t.createElement(Ze,{index:null,prefixCls:l,start:g[0].start,end:g[g.length-1].end,replaceCls:se(C.tracks,"".concat(l,"-tracks")),style:y.tracks})),b?t.createElement(t.Fragment,null,u,g.map(function(s,d){var n=s.start,v=s.end;return t.createElement(Ze,{index:d,prefixCls:l,style:Y(Y({},be(r,d)),y.track),start:n,end:v,key:d,onStartMove:i})})):null}var Pt=t.forwardRef(function(e,l){var r,m=e.prefixCls,o=m===void 0?"rc-slider":m,i=e.className,c=e.style,b=e.classNames,E=e.styles,k=e.disabled,y=k===void 0?!1:k,C=e.keyboard,g=C===void 0?!0:C,u=e.autoFocus,s=e.onFocus,d=e.onBlur,n=e.min,v=n===void 0?0:n,a=e.max,h=a===void 0?100:a,$=e.step,R=$===void 0?1:$,A=e.value,X=e.defaultValue,H=e.range,_=e.count,x=e.onChange,w=e.onBeforeChange,F=e.onAfterChange,W=e.allowCross,z=W===void 0?!0:W,B=e.pushable,D=B===void 0?!1:B,S=e.draggableTrack,L=e.reverse,T=e.vertical,V=e.included,de=V===void 0?!0:V,fe=e.startPoint,K=e.trackStyle,ye=e.handleStyle,Z=e.railStyle,ue=e.dotStyle,p=e.activeDotStyle,U=e.marks,me=e.dots,Ne=e.handleRender,xe=e.tabIndex,Ce=xe===void 0?0:xe,Se=e.ariaLabelForHandle,ke=e.ariaLabelledByForHandle,Me=e.ariaValueTextFormatterForHandle,ee=t.useRef(),q=t.useRef(),Re=t.useMemo(function(){return T?L?"ttb":"btt":L?"rtl":"ltr"},[L,T]),j=t.useMemo(function(){return isFinite(v)?v:0},[v]),ge=t.useMemo(function(){return isFinite(h)?h:100},[h]),le=t.useMemo(function(){return R!==null&&R<=0?1:R},[R]),tt=t.useMemo(function(){return typeof D=="boolean"?D?le:!1:D>=0?D:!1},[D,le]),$e=t.useMemo(function(){var N=Object.keys(U||{});return N.map(function(M){var f=U[M],P={value:Number(M)};return f&&gt(f)==="object"&&!t.isValidElement(f)&&("label"in f||"style"in f)?(P.style=f.style,P.label=f.label):P.label=f,P}).filter(function(M){var f=M.label;return f||typeof f=="number"}).sort(function(M,f){return M.value-f.value})},[U]),at=Et(j,ge,le,$e,z,tt),Te=J(at,2),_e=Te[0],Ae=Te[1],rt=ht(X,{value:A}),Xe=J(rt,2),te=Xe[0],nt=Xe[1],I=t.useMemo(function(){var N=te==null?[]:Array.isArray(te)?te:[te],M=J(N,1),f=M[0],P=f===void 0?j:f,O=te===null?[]:[P];if(H){if(O=ne(N),_||te===void 0){var G=_>=0?_+1:2;for(O=O.slice(0,G);O.length<G;){var ie;O.push((ie=O[O.length-1])!==null&&ie!==void 0?ie:j)}}O.sort(function(ce,ae){return ce-ae})}return O.forEach(function(ce,ae){O[ae]=_e(ce)}),O},[te,H,j,_,_e]),we=t.useRef(I);we.current=I;var oe=function(M){return H?M:M[0]},De=function(M){var f=ne(M).sort(function(P,O){return P-O});x&&!bt(f,we.current,!0)&&x(oe(f)),nt(f)},ut=function(){F==null||F(oe(we.current))},lt=Mt(q,Re,I,j,ge,_e,De,ut,Ae),Fe=J(lt,4),Ye=Fe[0],ot=Fe[1],Le=Fe[2],Be=Fe[3],je=function(M,f){if(!y){var P=0,O=ge-j;I.forEach(function(ie,ce){var ae=Math.abs(M-ie);ae<=O&&(O=ae,P=ce)});var G=ne(I);G[P]=M,H&&!I.length&&_===void 0&&G.push(M),w==null||w(oe(G)),De(G),F==null||F(oe(G)),f&&Be(f,P,G)}},it=function(M){M.preventDefault();var f=q.current.getBoundingClientRect(),P=f.width,O=f.height,G=f.left,ie=f.top,ce=f.bottom,ae=f.right,Je=M.clientX,Qe=M.clientY,Ee;switch(Re){case"btt":Ee=(ce-Qe)/O;break;case"ttb":Ee=(Qe-ie)/O;break;case"rtl":Ee=(ae-Je)/P;break;default:Ee=(Je-G)/P}var mt=j+Ee*(ge-j);je(_e(mt),M)},ct=t.useState(null),Ke=J(ct,2),Pe=Ke[0],Ue=Ke[1],st=function(M,f){if(!y){var P=Ae(I,M,f);w==null||w(oe(I)),De(P.values),F==null||F(oe(P.values)),Ue(P.value)}};t.useEffect(function(){if(Pe!==null){var N=I.indexOf(Pe);N>=0&&ee.current.focus(N)}Ue(null)},[Pe]);var vt=t.useMemo(function(){return S&&le===null?!1:S},[S,le]),Ge=function(M,f){Be(M,f),w==null||w(oe(we.current))},We=Ye!==-1;t.useEffect(function(){if(!We){var N=I.lastIndexOf(ot);ee.current.focus(N)}},[We]);var he=t.useMemo(function(){return ne(Le).sort(function(N,M){return N-M})},[Le]),dt=t.useMemo(function(){return H?[he[0],he[he.length-1]]:[j,he[0]]},[he,H,j]),ze=J(dt,2),qe=ze[0],Ie=ze[1];t.useImperativeHandle(l,function(){return{focus:function(){ee.current.focus(0)},blur:function(){var M=document,f=M.activeElement;q.current.contains(f)&&(f==null||f.blur())}}}),t.useEffect(function(){u&&ee.current.focus(0)},[]);var ft=t.useMemo(function(){return{min:j,max:ge,direction:Re,disabled:y,keyboard:g,step:le,included:de,includedStart:qe,includedEnd:Ie,range:H,tabIndex:Ce,ariaLabelForHandle:Se,ariaLabelledByForHandle:ke,ariaValueTextFormatterForHandle:Me,styles:E||{},classNames:b||{}}},[j,ge,Re,y,g,le,de,qe,Ie,H,Ce,Se,ke,Me,E,b]);return t.createElement(ve.Provider,{value:ft},t.createElement("div",{ref:q,className:se(o,i,(r={},Q(r,"".concat(o,"-disabled"),y),Q(r,"".concat(o,"-vertical"),T),Q(r,"".concat(o,"-horizontal"),!T),Q(r,"".concat(o,"-with-marks"),$e.length),r)),style:c,onMouseDown:it},t.createElement("div",{className:se("".concat(o,"-rail"),b==null?void 0:b.rail),style:Y(Y({},Z),E==null?void 0:E.rail)}),t.createElement(wt,{prefixCls:o,style:K,values:he,startPoint:fe,onStartMove:vt?Ge:null}),t.createElement(_t,{prefixCls:o,marks:$e,dots:me,style:ue,activeStyle:p}),t.createElement(kt,{ref:ee,prefixCls:o,style:ye,values:Le,draggingIndex:Ye,onStartMove:Ge,onOffsetChange:st,onFocus:s,onBlur:d,handleRender:Ne}),t.createElement(Rt,{prefixCls:o,marks:$e,onClick:je})))});export{Pt as S};
