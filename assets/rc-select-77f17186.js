import{r as t,a as hn}from"./react-d998b26c.js";import{w as lt,k as ct,x as un,K as E,b as st,m as dt,e as ft,a as vt,p as Sn,c as mt,A as pt,q as gt,v as ht}from"./rc-util-49e5c6c2.js";import{c as Be}from"./classnames-325479d5.js";import{d as ln,c as ae,e as q,b as oe,g as Fe,h as qe,n as bt,f as Ee}from"./@babel-28107d12.js";import{F as St}from"./rc-overflow-7ed7d9e8.js";import{c as wt}from"./@rc-component-cbcfe761.js";import{L as Ct}from"./rc-virtual-list-797bb301.js";var cn=function(e){var a=e.className,o=e.customizeIcon,i=e.customizeIconProps,r=e.onMouseDown,c=e.onClick,d=e.children,f;return typeof o=="function"?f=o(i):f=o,t.createElement("span",{className:a,onMouseDown:function(h){h.preventDefault(),r&&r(h)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},f!==void 0?f:t.createElement("span",{className:Be(a.split(/\s+/).map(function(g){return"".concat(g,"-icon")}))},d))};function yt(n,e,a,o,i){var r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,c=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,f=hn.useMemo(function(){if(ln(o)==="object")return o.clearIcon;if(i)return i},[o,i]),g=hn.useMemo(function(){return!!(!r&&o&&(a.length||c)&&!(d==="combobox"&&c===""))},[o,r,a.length,c,d]);return{allowClear:g,clearIcon:hn.createElement(cn,{className:"".concat(n,"-clear"),onMouseDown:e,customizeIcon:f},"×")}}var An=t.createContext(null);function It(){return t.useContext(An)}function Et(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=t.useState(!1),a=ae(e,2),o=a[0],i=a[1],r=t.useRef(null),c=function(){window.clearTimeout(r.current)};t.useEffect(function(){return c},[]);var d=function(g,h){c(),r.current=window.setTimeout(function(){i(g),h&&h()},n)};return[o,d,c]}function Fn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=t.useRef(null),a=t.useRef(null);t.useEffect(function(){return function(){window.clearTimeout(a.current)}},[]);function o(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(a.current),a.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},o]}function Dt(n,e,a,o){var i=t.useRef(null);i.current={open:e,triggerOpen:a,customizedTrigger:o},t.useEffect(function(){function r(c){var d;if(!((d=i.current)!==null&&d!==void 0&&d.customizedTrigger)){var f=c.target;f.shadowRoot&&c.composed&&(f=c.composedPath()[0]||f),i.current.open&&n().filter(function(g){return g}).every(function(g){return!g.contains(f)&&g!==f})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",r),function(){return window.removeEventListener("mousedown",r)}},[])}var Rt=function(e,a){var o,i,r=e.prefixCls,c=e.id,d=e.inputElement,f=e.disabled,g=e.tabIndex,h=e.autoFocus,s=e.autoComplete,C=e.editable,u=e.activeDescendantId,b=e.value,N=e.maxLength,Y=e.onKeyDown,V=e.onMouseDown,L=e.onChange,A=e.onPaste,Z=e.onCompositionStart,z=e.onCompositionEnd,G=e.open,ue=e.attrs,$=d||t.createElement("input",null),j=$,W=j.ref,B=j.props,J=B.onKeyDown,ee=B.onChange,T=B.onMouseDown,ne=B.onCompositionStart,_=B.onCompositionEnd,y=B.style;return lt(!("maxLength"in $.props)),$=t.cloneElement($,q(q(q({type:"search"},B),{},{id:c,ref:ct(a,W),disabled:f,tabIndex:g,autoComplete:s||"off",autoFocus:h,className:Be("".concat(r,"-selection-search-input"),(o=$)===null||o===void 0||(i=o.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":G||!1,"aria-haspopup":"listbox","aria-owns":"".concat(c,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(c,"_list"),"aria-activedescendant":G?u:void 0},ue),{},{value:C?b:"",maxLength:N,readOnly:!C,unselectable:C?null:"on",style:q(q({},y),{},{opacity:C?null:0}),onKeyDown:function(P){Y(P),J&&J(P)},onMouseDown:function(P){V(P),T&&T(P)},onChange:function(P){L(P),ee&&ee(P)},onCompositionStart:function(P){Z(P),ne&&ne(P)},onCompositionEnd:function(P){z(P),_&&_(P)},onPaste:A})),$},yn=t.forwardRef(Rt);yn.displayName="Input";function kn(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var Ot=typeof window<"u"&&window.document&&window.document.documentElement,Mt=Ot;function xt(n){return n!=null}function Pt(n){return!n&&n!==0}function Pn(n){return["string","number"].includes(ln(n))}function Kn(n){var e=void 0;return n&&(Pn(n.title)?e=n.title.toString():Pn(n.label)&&(e=n.label.toString())),e}function Nt(n,e){Mt?t.useLayoutEffect(n,e):t.useEffect(n,e)}function Vt(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var Nn=function(e){e.preventDefault(),e.stopPropagation()},Tt=function(e){var a=e.id,o=e.prefixCls,i=e.values,r=e.open,c=e.searchValue,d=e.autoClearSearchValue,f=e.inputRef,g=e.placeholder,h=e.disabled,s=e.mode,C=e.showSearch,u=e.autoFocus,b=e.autoComplete,N=e.activeDescendantId,Y=e.tabIndex,V=e.removeIcon,L=e.maxTagCount,A=e.maxTagTextLength,Z=e.maxTagPlaceholder,z=Z===void 0?function(R){return"+ ".concat(R.length," ...")}:Z,G=e.tagRender,ue=e.onToggleOpen,$=e.onRemove,j=e.onInputChange,W=e.onInputPaste,B=e.onInputKeyDown,J=e.onInputMouseDown,ee=e.onInputCompositionStart,T=e.onInputCompositionEnd,ne=t.useRef(null),_=t.useState(0),y=ae(_,2),x=y[0],P=y[1],De=t.useState(!1),ve=ae(De,2),le=ve[0],Te=ve[1],k="".concat(o,"-selection"),ye=r||s==="multiple"&&d===!1||s==="tags"?c:"",Le=s==="tags"||s==="multiple"&&d===!1||C&&(r||le);Nt(function(){P(ne.current.scrollWidth)},[ye]);function I(R,U,re,ce,pe){return t.createElement("span",{className:Be("".concat(k,"-item"),oe({},"".concat(k,"-item-disabled"),re)),title:Kn(R)},t.createElement("span",{className:"".concat(k,"-item-content")},U),ce&&t.createElement(cn,{className:"".concat(k,"-item-remove"),onMouseDown:Nn,onClick:pe,customizeIcon:V},"×"))}function v(R,U,re,ce,pe){var se=function(me){Nn(me),ue(!r)};return t.createElement("span",{onMouseDown:se},G({label:U,value:R,disabled:re,closable:ce,onClose:pe}))}function D(R){var U=R.disabled,re=R.label,ce=R.value,pe=!h&&!U,se=re;if(typeof A=="number"&&(typeof re=="string"||typeof re=="number")){var de=String(se);de.length>A&&(se="".concat(de.slice(0,A),"..."))}var me=function(_e){_e&&_e.stopPropagation(),$(R)};return typeof G=="function"?v(ce,se,U,pe,me):I(R,se,U,pe,me)}function K(R){var U=typeof z=="function"?z(R):z;return I({title:U},U,!1)}var F=t.createElement("div",{className:"".concat(k,"-search"),style:{width:x},onFocus:function(){Te(!0)},onBlur:function(){Te(!1)}},t.createElement(yn,{ref:f,open:r,prefixCls:o,id:a,inputElement:null,disabled:h,autoFocus:u,autoComplete:b,editable:Le,activeDescendantId:N,value:ye,onKeyDown:B,onMouseDown:J,onChange:j,onPaste:W,onCompositionStart:ee,onCompositionEnd:T,tabIndex:Y,attrs:un(e,!0)}),t.createElement("span",{ref:ne,className:"".concat(k,"-search-mirror"),"aria-hidden":!0},ye," ")),H=t.createElement(St,{prefixCls:"".concat(k,"-overflow"),data:i,renderItem:D,renderRest:K,suffix:F,itemKey:Vt,maxCount:L});return t.createElement(t.Fragment,null,H,!i.length&&!ye&&t.createElement("span",{className:"".concat(k,"-placeholder")},g))},Lt=function(e){var a=e.inputElement,o=e.prefixCls,i=e.id,r=e.inputRef,c=e.disabled,d=e.autoFocus,f=e.autoComplete,g=e.activeDescendantId,h=e.mode,s=e.open,C=e.values,u=e.placeholder,b=e.tabIndex,N=e.showSearch,Y=e.searchValue,V=e.activeValue,L=e.maxLength,A=e.onInputKeyDown,Z=e.onInputMouseDown,z=e.onInputChange,G=e.onInputPaste,ue=e.onInputCompositionStart,$=e.onInputCompositionEnd,j=e.title,W=t.useState(!1),B=ae(W,2),J=B[0],ee=B[1],T=h==="combobox",ne=T||N,_=C[0],y=Y||"";T&&V&&!J&&(y=V),t.useEffect(function(){T&&ee(!1)},[T,V]);var x=h!=="combobox"&&!s&&!N?!1:!!y,P=j===void 0?Kn(_):j,De=function(){if(_)return null;var le=x?{visibility:"hidden"}:void 0;return t.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:le},u)};return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(o,"-selection-search")},t.createElement(yn,{ref:r,prefixCls:o,id:i,open:s,inputElement:a,disabled:c,autoFocus:d,autoComplete:f,editable:ne,activeDescendantId:g,value:y,onKeyDown:A,onMouseDown:Z,onChange:function(le){ee(!0),z(le)},onPaste:G,onCompositionStart:ue,onCompositionEnd:$,tabIndex:b,attrs:un(e,!0),maxLength:T?L:void 0})),!T&&_?t.createElement("span",{className:"".concat(o,"-selection-item"),title:P,style:x?{visibility:"hidden"}:void 0},_.label):null,De())};function _t(n){return![E.ESC,E.SHIFT,E.BACKSPACE,E.TAB,E.WIN_KEY,E.ALT,E.META,E.WIN_KEY_RIGHT,E.CTRL,E.SEMICOLON,E.EQUALS,E.CAPS_LOCK,E.CONTEXT_MENU,E.F1,E.F2,E.F3,E.F4,E.F5,E.F6,E.F7,E.F8,E.F9,E.F10,E.F11,E.F12].includes(n)}var At=function(e,a){var o=t.useRef(null),i=t.useRef(!1),r=e.prefixCls,c=e.open,d=e.mode,f=e.showSearch,g=e.tokenWithEnter,h=e.autoClearSearchValue,s=e.onSearch,C=e.onSearchSubmit,u=e.onToggleOpen,b=e.onInputKeyDown,N=e.domRef;t.useImperativeHandle(a,function(){return{focus:function(){o.current.focus()},blur:function(){o.current.blur()}}});var Y=Fn(0),V=ae(Y,2),L=V[0],A=V[1],Z=function(y){var x=y.which;(x===E.UP||x===E.DOWN)&&y.preventDefault(),b&&b(y),x===E.ENTER&&d==="tags"&&!i.current&&!c&&(C==null||C(y.target.value)),_t(x)&&u(!0)},z=function(){A(!0)},G=t.useRef(null),ue=function(y){s(y,!0,i.current)!==!1&&u(!0)},$=function(){i.current=!0},j=function(y){i.current=!1,d!=="combobox"&&ue(y.target.value)},W=function(y){var x=y.target.value;if(g&&G.current&&/[\r\n]/.test(G.current)){var P=G.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");x=x.replace(P,G.current)}G.current=null,ue(x)},B=function(y){var x=y.clipboardData,P=x.getData("text");G.current=P},J=function(y){var x=y.target;if(x!==o.current){var P=document.body.style.msTouchAction!==void 0;P?setTimeout(function(){o.current.focus()}):o.current.focus()}},ee=function(y){var x=L();y.target!==o.current&&!x&&d!=="combobox"&&y.preventDefault(),(d!=="combobox"&&(!f||!x)||!c)&&(c&&h!==!1&&s("",!0,!1),u())},T={inputRef:o,onInputKeyDown:Z,onInputMouseDown:z,onInputChange:W,onInputPaste:B,onInputCompositionStart:$,onInputCompositionEnd:j},ne=d==="multiple"||d==="tags"?t.createElement(Tt,Fe({},e,T)):t.createElement(Lt,Fe({},e,T));return t.createElement("div",{ref:N,className:"".concat(r,"-selector"),onClick:J,onMouseDown:ee},ne)},$n=t.forwardRef(At);$n.displayName="Selector";var Ft=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],kt=function(e){var a=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"}}},Kt=function(e,a){var o=e.prefixCls;e.disabled;var i=e.visible,r=e.children,c=e.popupElement,d=e.animation,f=e.transitionName,g=e.dropdownStyle,h=e.dropdownClassName,s=e.direction,C=s===void 0?"ltr":s,u=e.placement,b=e.builtinPlacements,N=e.dropdownMatchSelectWidth,Y=e.dropdownRender,V=e.dropdownAlign,L=e.getPopupContainer,A=e.empty,Z=e.getTriggerDOMNode,z=e.onPopupVisibleChange,G=e.onPopupMouseEnter,ue=qe(e,Ft),$="".concat(o,"-dropdown"),j=c;Y&&(j=Y(c));var W=t.useMemo(function(){return b||kt(N)},[b,N]),B=d?"".concat($,"-").concat(d):f,J=typeof N=="number",ee=t.useMemo(function(){return J?null:N===!1?"minWidth":"width"},[N,J]),T=g;J&&(T=q(q({},T),{},{width:N}));var ne=t.useRef(null);return t.useImperativeHandle(a,function(){return{getPopupElement:function(){return ne.current}}}),t.createElement(wt,Fe({},ue,{showAction:z?["click"]:[],hideAction:z?["click"]:[],popupPlacement:u||(C==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:W,prefixCls:$,popupTransitionName:B,popup:t.createElement("div",{ref:ne,onMouseEnter:G},j),stretch:ee,popupAlign:V,popupVisible:i,getPopupContainer:L,popupClassName:Be(h,oe({},"".concat($,"-empty"),A)),popupStyle:T,getTriggerDOMNode:Z,onPopupVisibleChange:z}),r)},Wn=t.forwardRef(Kt);Wn.displayName="SelectTrigger";function Vn(n,e){var a=n.key,o;return"value"in n&&(o=n.value),a??(o!==void 0?o:"rc-index-key-".concat(e))}function Bn(n,e){var a=n||{},o=a.label,i=a.value,r=a.options,c=a.groupLabel,d=o||(e?"children":"label");return{label:d,value:i||"value",options:r||"options",groupLabel:c||d}}function $t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.fieldNames,o=e.childrenAsData,i=[],r=Bn(a,!1),c=r.label,d=r.value,f=r.options,g=r.groupLabel;function h(s,C){s.forEach(function(u){if(C||!(f in u)){var b=u[d];i.push({key:Vn(u,i.length),groupOption:C,data:u,label:u[c],value:b})}else{var N=u[g];N===void 0&&o&&(N=u.label),i.push({key:Vn(u,i.length),group:!0,data:u,label:N}),h(u[f],!0)}})}return h(n,!1),i}function wn(n){var e=q({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return st(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function Wt(n,e){if(!e||!e.length)return null;var a=!1;function o(r,c){var d=bt(c),f=d[0],g=d.slice(1);if(!f)return[r];var h=r.split(f);return a=a||h.length>1,h.reduce(function(s,C){return[].concat(Ee(s),Ee(o(C,g)))},[]).filter(function(s){return s})}var i=o(n,e);return a?i:null}var Bt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Ht=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Cn(n){return n==="tags"||n==="multiple"}var Ut=t.forwardRef(function(n,e){var a,o,i=n.id,r=n.prefixCls,c=n.className,d=n.showSearch,f=n.tagRender,g=n.direction,h=n.omitDomProps,s=n.displayValues,C=n.onDisplayValuesChange,u=n.emptyOptions,b=n.notFoundContent,N=b===void 0?"Not Found":b,Y=n.onClear,V=n.mode,L=n.disabled,A=n.loading,Z=n.getInputElement,z=n.getRawInputElement,G=n.open,ue=n.defaultOpen,$=n.onDropdownVisibleChange,j=n.activeValue,W=n.onActiveValueChange,B=n.activeDescendantId,J=n.searchValue,ee=n.autoClearSearchValue,T=n.onSearch,ne=n.onSearchSplit,_=n.tokenSeparators,y=n.allowClear,x=n.suffixIcon,P=n.clearIcon,De=n.OptionList,ve=n.animation,le=n.transitionName,Te=n.dropdownStyle,k=n.dropdownClassName,ye=n.dropdownMatchSelectWidth,Le=n.dropdownRender,I=n.dropdownAlign,v=n.placement,D=n.builtinPlacements,K=n.getPopupContainer,F=n.showAction,H=F===void 0?[]:F,R=n.onFocus,U=n.onBlur,re=n.onKeyUp,ce=n.onKeyDown,pe=n.onMouseDown,se=qe(n,Bt),de=Cn(V),me=(d!==void 0?d:de)||V==="combobox",Q=q({},se);Ht.forEach(function(O){delete Q[O]}),h==null||h.forEach(function(O){delete Q[O]});var _e=t.useState(!1),ze=ae(_e,2),be=ze[0],Se=ze[1];t.useEffect(function(){Se(dt())},[]);var je=t.useRef(null),ge=t.useRef(null),Ae=t.useRef(null),Ie=t.useRef(null),we=t.useRef(null),Re=t.useRef(!1),sn=Et(),Ge=ae(sn,3),Je=Ge[0],ke=Ge[1],dn=Ge[2];t.useImperativeHandle(e,function(){var O,w;return{focus:(O=Ie.current)===null||O===void 0?void 0:O.focus,blur:(w=Ie.current)===null||w===void 0?void 0:w.blur,scrollTo:function(he){var te;return(te=we.current)===null||te===void 0?void 0:te.scrollTo(he)}}});var Oe=t.useMemo(function(){var O;if(V!=="combobox")return J;var w=(O=s[0])===null||O===void 0?void 0:O.value;return typeof w=="string"||typeof w=="number"?String(w):""},[J,V,s]),en=V==="combobox"&&typeof Z=="function"&&Z()||null,Ne=typeof z=="function"&&z(),nn=ft(ge,Ne==null||(a=Ne.props)===null||a===void 0?void 0:a.ref),tn=t.useState(!1),He=ae(tn,2),on=He[0],fn=He[1];vt(function(){fn(!0)},[]);var vn=Sn(!1,{defaultValue:ue,value:G}),an=ae(vn,2),rn=an[0],p=an[1],l=on?rn:!1,m=!N&&u;(L||m&&l&&V==="combobox")&&(l=!1);var S=m?!1:l,M=t.useCallback(function(O){var w=O!==void 0?O:!l;L||(p(w),l!==w&&($==null||$(w)))},[L,l,p,$]),X=t.useMemo(function(){return(_||[]).some(function(O){return[`
`,`\r
`].includes(O)})},[_]),Me=function(w,fe,he){var te=!0,Ce=w;W==null||W(null);var Pe=he?null:Wt(w,_);return V!=="combobox"&&Pe&&(Ce="",ne==null||ne(Pe),M(!1),te=!1),T&&Oe!==Ce&&T(Ce,{source:fe?"typing":"effect"}),te},Ve=function(w){!w||!w.trim()||T(w,{source:"submit"})};t.useEffect(function(){!l&&!de&&V!=="combobox"&&Me("",!1,!1)},[l]),t.useEffect(function(){rn&&L&&p(!1),L&&!Re.current&&ke(!1)},[L]);var Ue=Fn(),ie=ae(Ue,2),Ke=ie[0],mn=ie[1],pn=function(w){var fe=Ke(),he=w.which;if(he===E.ENTER&&(V!=="combobox"&&w.preventDefault(),l||M(!0)),mn(!!Oe),he===E.BACKSPACE&&!fe&&de&&!Oe&&s.length){for(var te=Ee(s),Ce=null,Pe=te.length-1;Pe>=0;Pe-=1){var Ze=te[Pe];if(!Ze.disabled){te.splice(Pe,1),Ce=Ze;break}}Ce&&C(te,{type:"remove",values:[Ce]})}for(var $e=arguments.length,Ye=new Array($e>1?$e-1:0),We=1;We<$e;We++)Ye[We-1]=arguments[We];if(l&&we.current){var xn;(xn=we.current).onKeyDown.apply(xn,[w].concat(Ye))}ce==null||ce.apply(void 0,[w].concat(Ye))},In=function(w){for(var fe=arguments.length,he=new Array(fe>1?fe-1:0),te=1;te<fe;te++)he[te-1]=arguments[te];if(l&&we.current){var Ce;(Ce=we.current).onKeyUp.apply(Ce,[w].concat(he))}re==null||re.apply(void 0,[w].concat(he))},Qe=function(w){var fe=s.filter(function(he){return he!==w});C(fe,{type:"remove",values:[w]})},xe=t.useRef(!1),Yn=function(){ke(!0),L||(R&&!xe.current&&R.apply(void 0,arguments),H.includes("focus")&&M(!0)),xe.current=!0},qn=function(){Re.current=!0,ke(!1,function(){xe.current=!1,Re.current=!1,M(!1)}),!L&&(Oe&&(V==="tags"?T(Oe,{source:"submit"}):V==="multiple"&&T("",{source:"blur"})),U&&U.apply(void 0,arguments))},Xe=[];t.useEffect(function(){return function(){Xe.forEach(function(O){return clearTimeout(O)}),Xe.splice(0,Xe.length)}},[]);var Jn=function(w){var fe,he=w.target,te=(fe=Ae.current)===null||fe===void 0?void 0:fe.getPopupElement();if(te&&te.contains(he)){var Ce=setTimeout(function(){var Ye=Xe.indexOf(Ce);if(Ye!==-1&&Xe.splice(Ye,1),dn(),!be&&!te.contains(document.activeElement)){var We;(We=Ie.current)===null||We===void 0||We.focus()}});Xe.push(Ce)}for(var Pe=arguments.length,Ze=new Array(Pe>1?Pe-1:0),$e=1;$e<Pe;$e++)Ze[$e-1]=arguments[$e];pe==null||pe.apply(void 0,[w].concat(Ze))},Qn=t.useState({}),Zn=ae(Qn,2),et=Zn[1];function nt(){et({})}var En;Ne&&(En=function(w){M(w)}),Dt(function(){var O;return[je.current,(O=Ae.current)===null||O===void 0?void 0:O.getPopupElement()]},S,M,!!Ne);var tt=t.useMemo(function(){return q(q({},n),{},{notFoundContent:N,open:l,triggerOpen:S,id:i,showSearch:me,multiple:de,toggleOpen:M})},[n,N,S,l,i,me,de,M]),Dn=!!x||A,Rn;Dn&&(Rn=t.createElement(cn,{className:Be("".concat(r,"-arrow"),oe({},"".concat(r,"-arrow-loading"),A)),customizeIcon:x,customizeIconProps:{loading:A,searchValue:Oe,open:l,focused:Je,showSearch:me}}));var ot=function(){var w;Y==null||Y(),(w=Ie.current)===null||w===void 0||w.focus(),C([],{type:"clear",values:s}),Me("",!1,!1)},On=yt(r,ot,s,y,P,L,Oe,V),at=On.allowClear,rt=On.clearIcon,it=t.createElement(De,{ref:we}),ut=Be(r,c,(o={},oe(o,"".concat(r,"-focused"),Je),oe(o,"".concat(r,"-multiple"),de),oe(o,"".concat(r,"-single"),!de),oe(o,"".concat(r,"-allow-clear"),y),oe(o,"".concat(r,"-show-arrow"),Dn),oe(o,"".concat(r,"-disabled"),L),oe(o,"".concat(r,"-loading"),A),oe(o,"".concat(r,"-open"),l),oe(o,"".concat(r,"-customize-input"),en),oe(o,"".concat(r,"-show-search"),me),o)),Mn=t.createElement(Wn,{ref:Ae,disabled:L,prefixCls:r,visible:S,popupElement:it,animation:ve,transitionName:le,dropdownStyle:Te,dropdownClassName:k,direction:g,dropdownMatchSelectWidth:ye,dropdownRender:Le,dropdownAlign:I,placement:v,builtinPlacements:D,getPopupContainer:K,empty:u,getTriggerDOMNode:function(){return ge.current},onPopupVisibleChange:En,onPopupMouseEnter:nt},Ne?t.cloneElement(Ne,{ref:nn}):t.createElement($n,Fe({},n,{domRef:ge,prefixCls:r,inputElement:en,ref:Ie,id:i,showSearch:me,autoClearSearchValue:ee,mode:V,activeDescendantId:B,tagRender:f,values:s,open:l,onToggleOpen:M,activeValue:j,searchValue:Oe,onSearch:Me,onSearchSubmit:Ve,onRemove:Qe,tokenWithEnter:X}))),gn;return Ne?gn=Mn:gn=t.createElement("div",Fe({className:ut},Q,{ref:je,onMouseDown:Jn,onKeyDown:pn,onKeyUp:In,onFocus:Yn,onBlur:qn}),Je&&!l&&t.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(s.map(function(O){var w=O.label,fe=O.value;return["number","string"].includes(ln(w))?w:fe}).join(", "))),Mn,Rn,at&&rt),t.createElement(An.Provider,{value:tt},gn)});const zt=function(n,e){var a=t.useRef({values:new Map,options:new Map}),o=t.useMemo(function(){var r=a.current,c=r.values,d=r.options,f=n.map(function(s){if(s.label===void 0){var C;return q(q({},s),{},{label:(C=c.get(s.value))===null||C===void 0?void 0:C.label})}return s}),g=new Map,h=new Map;return f.forEach(function(s){g.set(s.value,s),h.set(s.value,e.get(s.value)||d.get(s.value))}),a.current.values=g,a.current.options=h,f},[n,e]),i=t.useCallback(function(r){return e.get(r)||a.current.options.get(r)},[e]);return[o,i]};function bn(n,e){return kn(n).join("").toUpperCase().includes(e)}const jt=function(n,e,a,o,i){return t.useMemo(function(){if(!a||o===!1)return n;var r=e.options,c=e.label,d=e.value,f=[],g=typeof o=="function",h=a.toUpperCase(),s=g?o:function(u,b){return i?bn(b[i],h):b[r]?bn(b[c!=="children"?c:"label"],h):bn(b[d],h)},C=g?function(u){return wn(u)}:function(u){return u};return n.forEach(function(u){if(u[r]){var b=s(a,C(u));if(b)f.push(u);else{var N=u[r].filter(function(Y){return s(a,C(Y))});N.length&&f.push(q(q({},u),{},oe({},r,N)))}return}s(a,C(u))&&f.push(u)}),f},[n,o,i,a,e])};var Tn=0,Gt=mt();function Xt(){var n;return Gt?(n=Tn,Tn+=1):n="TEST_OR_SSR",n}function Yt(n){var e=t.useState(),a=ae(e,2),o=a[0],i=a[1];return t.useEffect(function(){i("rc_select_".concat(Xt()))},[]),n||o}var qt=["children","value"],Jt=["children"];function Qt(n){var e=n,a=e.key,o=e.props,i=o.children,r=o.value,c=qe(o,qt);return q({key:a,value:r!==void 0?r:a,children:i},c)}function Hn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return pt(n).map(function(a,o){if(!t.isValidElement(a)||!a.type)return null;var i=a,r=i.type.isSelectOptGroup,c=i.key,d=i.props,f=d.children,g=qe(d,Jt);return e||!r?Qt(a):q(q({key:"__RC_SELECT_GRP__".concat(c===null?o:c,"__"),label:c},g),{},{options:Hn(f)})}).filter(function(a){return a})}function Zt(n,e,a,o,i){return t.useMemo(function(){var r=n,c=!n;c&&(r=Hn(e));var d=new Map,f=new Map,g=function(C,u,b){b&&typeof b=="string"&&C.set(u[b],u)};function h(s){for(var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=0;u<s.length;u+=1){var b=s[u];!b[a.options]||C?(d.set(b[a.value],b),g(f,b,a.label),g(f,b,o),g(f,b,i)):h(b[a.options],!0)}}return h(r),{options:r,valueOptions:d,labelOptions:f}},[n,e,a,o,i])}function Ln(n){var e=t.useRef();e.current=n;var a=t.useCallback(function(){return e.current.apply(e,arguments)},[]);return a}var Un=function(){return null};Un.isSelectOptGroup=!0;var zn=function(){return null};zn.isSelectOption=!0;var jn=t.createContext(null);function eo(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var no=["disabled","title","children","style","className"];function _n(n){return typeof n=="string"||typeof n=="number"}var to=function(e,a){var o=It(),i=o.prefixCls,r=o.id,c=o.open,d=o.multiple,f=o.mode,g=o.searchValue,h=o.toggleOpen,s=o.notFoundContent,C=o.onPopupScroll,u=t.useContext(jn),b=u.flattenOptions,N=u.onActiveValue,Y=u.defaultActiveFirstOption,V=u.onSelect,L=u.menuItemSelectedIcon,A=u.rawValues,Z=u.fieldNames,z=u.virtual,G=u.direction,ue=u.listHeight,$=u.listItemHeight,j="".concat(i,"-item"),W=gt(function(){return b},[c,b],function(I,v){return v[0]&&I[1]!==v[1]}),B=t.useRef(null),J=function(v){v.preventDefault()},ee=function(v){B.current&&B.current.scrollTo(typeof v=="number"?{index:v}:v)},T=function(v){for(var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,K=W.length,F=0;F<K;F+=1){var H=(v+F*D+K)%K,R=W[H],U=R.group,re=R.data;if(!U&&!re.disabled)return H}return-1},ne=t.useState(function(){return T(0)}),_=ae(ne,2),y=_[0],x=_[1],P=function(v){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;x(v);var K={source:D?"keyboard":"mouse"},F=W[v];if(!F){N(null,-1,K);return}N(F.value,v,K)};t.useEffect(function(){P(Y!==!1?T(0):-1)},[W.length,g]);var De=t.useCallback(function(I){return A.has(I)&&f!=="combobox"},[f,Ee(A).toString(),A.size]);t.useEffect(function(){var I=setTimeout(function(){if(!d&&c&&A.size===1){var D=Array.from(A)[0],K=W.findIndex(function(F){var H=F.data;return H.value===D});K!==-1&&(P(K),ee(K))}});if(c){var v;(v=B.current)===null||v===void 0||v.scrollTo(void 0)}return function(){return clearTimeout(I)}},[c,g]);var ve=function(v){v!==void 0&&V(v,{selected:!A.has(v)}),d||h(!1)};if(t.useImperativeHandle(a,function(){return{onKeyDown:function(v){var D=v.which,K=v.ctrlKey;switch(D){case E.N:case E.P:case E.UP:case E.DOWN:{var F=0;if(D===E.UP?F=-1:D===E.DOWN?F=1:eo()&&K&&(D===E.N?F=1:D===E.P&&(F=-1)),F!==0){var H=T(y+F,F);ee(H),P(H,!0)}break}case E.ENTER:{var R=W[y];R&&!R.data.disabled?ve(R.value):ve(void 0),c&&v.preventDefault();break}case E.ESC:h(!1),c&&v.stopPropagation()}},onKeyUp:function(){},scrollTo:function(v){ee(v)}}}),W.length===0)return t.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(j,"-empty"),onMouseDown:J},s);var le=Object.keys(Z).map(function(I){return Z[I]}),Te=function(v){return v.label};function k(I,v){var D=I.group;return{role:D?"presentation":"option",id:"".concat(r,"_list_").concat(v)}}var ye=function(v){var D=W[v];if(!D)return null;var K=D.data||{},F=K.value,H=D.group,R=un(K,!0),U=Te(D);return D?t.createElement("div",Fe({"aria-label":typeof U=="string"&&!H?U:null},R,{key:v},k(D,v),{"aria-selected":De(F)}),F):null},Le={role:"listbox",id:"".concat(r,"_list")};return t.createElement(t.Fragment,null,z&&t.createElement("div",Fe({},Le,{style:{height:0,width:0,overflow:"hidden"}}),ye(y-1),ye(y),ye(y+1)),t.createElement(Ct,{itemKey:"key",ref:B,data:W,height:ue,itemHeight:$,fullHeight:!1,onMouseDown:J,onScroll:C,virtual:z,direction:G,innerProps:z?null:Le},function(I,v){var D,K=I.group,F=I.groupOption,H=I.data,R=I.label,U=I.value,re=H.key;if(K){var ce,pe=(ce=H.title)!==null&&ce!==void 0?ce:_n(R)?R.toString():void 0;return t.createElement("div",{className:Be(j,"".concat(j,"-group")),title:pe},R!==void 0?R:re)}var se=H.disabled,de=H.title;H.children;var me=H.style,Q=H.className,_e=qe(H,no),ze=ht(_e,le),be=De(U),Se="".concat(j,"-option"),je=Be(j,Se,Q,(D={},oe(D,"".concat(Se,"-grouped"),F),oe(D,"".concat(Se,"-active"),y===v&&!se),oe(D,"".concat(Se,"-disabled"),se),oe(D,"".concat(Se,"-selected"),be),D)),ge=Te(I),Ae=!L||typeof L=="function"||be,Ie=typeof ge=="number"?ge:ge||U,we=_n(Ie)?Ie.toString():void 0;return de!==void 0&&(we=de),t.createElement("div",Fe({},un(ze),z?{}:k(I,v),{"aria-selected":be,className:je,title:we,onMouseMove:function(){y===v||se||P(v)},onClick:function(){se||ve(U)},style:me}),t.createElement("div",{className:"".concat(Se,"-content")},Ie),t.isValidElement(L)||be,Ae&&t.createElement(cn,{className:"".concat(j,"-option-state"),customizeIcon:L,customizeIconProps:{value:U,disabled:se,isSelected:be}},be?"✓":null))}))},Gn=t.forwardRef(to);Gn.displayName="OptionList";var oo=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],ao=["inputValue"];function ro(n){return!n||ln(n)!=="object"}var io=t.forwardRef(function(n,e){var a=n.id,o=n.mode,i=n.prefixCls,r=i===void 0?"rc-select":i,c=n.backfill,d=n.fieldNames,f=n.inputValue,g=n.searchValue,h=n.onSearch,s=n.autoClearSearchValue,C=s===void 0?!0:s,u=n.onSelect,b=n.onDeselect,N=n.dropdownMatchSelectWidth,Y=N===void 0?!0:N,V=n.filterOption,L=n.filterSort,A=n.optionFilterProp,Z=n.optionLabelProp,z=n.options,G=n.children,ue=n.defaultActiveFirstOption,$=n.menuItemSelectedIcon,j=n.virtual,W=n.direction,B=n.listHeight,J=B===void 0?200:B,ee=n.listItemHeight,T=ee===void 0?20:ee,ne=n.value,_=n.defaultValue,y=n.labelInValue,x=n.onChange,P=qe(n,oo),De=Yt(a),ve=Cn(o),le=!!(!z&&G),Te=t.useMemo(function(){return V===void 0&&o==="combobox"?!1:V},[V,o]),k=t.useMemo(function(){return Bn(d,le)},[JSON.stringify(d),le]),ye=Sn("",{value:g!==void 0?g:f,postState:function(l){return l||""}}),Le=ae(ye,2),I=Le[0],v=Le[1],D=Zt(z,G,k,A,Z),K=D.valueOptions,F=D.labelOptions,H=D.options,R=t.useCallback(function(p){var l=kn(p);return l.map(function(m){var S,M,X,Me,Ve;if(ro(m))S=m;else{var Ue;X=m.key,M=m.label,S=(Ue=m.value)!==null&&Ue!==void 0?Ue:X}var ie=K.get(S);if(ie){var Ke;M===void 0&&(M=ie==null?void 0:ie[Z||k.label]),X===void 0&&(X=(Ke=ie==null?void 0:ie.key)!==null&&Ke!==void 0?Ke:S),Me=ie==null?void 0:ie.disabled,Ve=ie==null?void 0:ie.title}return{label:M,value:S,key:X,disabled:Me,title:Ve}})},[k,Z,K]),U=Sn(_,{value:ne}),re=ae(U,2),ce=re[0],pe=re[1],se=t.useMemo(function(){var p,l=R(ce);return o==="combobox"&&Pt((p=l[0])===null||p===void 0?void 0:p.value)?[]:l},[ce,R,o]),de=zt(se,K),me=ae(de,2),Q=me[0],_e=me[1],ze=t.useMemo(function(){if(!o&&Q.length===1){var p=Q[0];if(p.value===null&&(p.label===null||p.label===void 0))return[]}return Q.map(function(l){var m;return q(q({},l),{},{label:(m=l.label)!==null&&m!==void 0?m:l.value})})},[o,Q]),be=t.useMemo(function(){return new Set(Q.map(function(p){return p.value}))},[Q]);t.useEffect(function(){if(o==="combobox"){var p,l=(p=Q[0])===null||p===void 0?void 0:p.value;v(xt(l)?String(l):"")}},[Q]);var Se=Ln(function(p,l){var m,S=l??p;return m={},oe(m,k.value,p),oe(m,k.label,S),m}),je=t.useMemo(function(){if(o!=="tags")return H;var p=Ee(H),l=function(S){return K.has(S)};return Ee(Q).sort(function(m,S){return m.value<S.value?-1:1}).forEach(function(m){var S=m.value;l(S)||p.push(Se(S,m.label))}),p},[Se,H,K,Q,o]),ge=jt(je,k,I,Te,A),Ae=t.useMemo(function(){return o!=="tags"||!I||ge.some(function(p){return p[A||"value"]===I})||ge.some(function(p){return p[k.value]===I})?ge:[Se(I)].concat(Ee(ge))},[Se,A,o,ge,I,k]),Ie=t.useMemo(function(){return L?Ee(Ae).sort(function(p,l){return L(p,l)}):Ae},[Ae,L]),we=t.useMemo(function(){return $t(Ie,{fieldNames:k,childrenAsData:le})},[Ie,k,le]),Re=function(l){var m=R(l);if(pe(m),x&&(m.length!==Q.length||m.some(function(X,Me){var Ve;return((Ve=Q[Me])===null||Ve===void 0?void 0:Ve.value)!==(X==null?void 0:X.value)}))){var S=y?m:m.map(function(X){return X.value}),M=m.map(function(X){return wn(_e(X.value))});x(ve?S:S[0],ve?M:M[0])}},sn=t.useState(null),Ge=ae(sn,2),Je=Ge[0],ke=Ge[1],dn=t.useState(0),Oe=ae(dn,2),en=Oe[0],Ne=Oe[1],nn=ue!==void 0?ue:o!=="combobox",tn=t.useCallback(function(p,l){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=m.source,M=S===void 0?"keyboard":S;Ne(l),c&&o==="combobox"&&p!==null&&M==="keyboard"&&ke(String(p))},[c,o]),He=function(l,m,S){var M=function(){var Qe,xe=_e(l);return[y?{label:xe==null?void 0:xe[k.label],value:l,key:(Qe=xe==null?void 0:xe.key)!==null&&Qe!==void 0?Qe:l}:l,wn(xe)]};if(m&&u){var X=M(),Me=ae(X,2),Ve=Me[0],Ue=Me[1];u(Ve,Ue)}else if(!m&&b&&S!=="clear"){var ie=M(),Ke=ae(ie,2),mn=Ke[0],pn=Ke[1];b(mn,pn)}},on=Ln(function(p,l){var m,S=ve?l.selected:!0;S?m=ve?[].concat(Ee(Q),[p]):[p]:m=Q.filter(function(M){return M.value!==p}),Re(m),He(p,S),o==="combobox"?ke(""):(!Cn||C)&&(v(""),ke(""))}),fn=function(l,m){Re(l);var S=m.type,M=m.values;(S==="remove"||S==="clear")&&M.forEach(function(X){He(X.value,!1,S)})},vn=function(l,m){if(v(l),ke(null),m.source==="submit"){var S=(l||"").trim();if(S){var M=Array.from(new Set([].concat(Ee(be),[S])));Re(M),He(S,!0),v("")}return}m.source!=="blur"&&(o==="combobox"&&Re(l),h==null||h(l))},an=function(l){var m=l;o!=="tags"&&(m=l.map(function(M){var X=F.get(M);return X==null?void 0:X.value}).filter(function(M){return M!==void 0}));var S=Array.from(new Set([].concat(Ee(be),Ee(m))));Re(S),S.forEach(function(M){He(M,!0)})},rn=t.useMemo(function(){var p=j!==!1&&Y!==!1;return q(q({},D),{},{flattenOptions:we,onActiveValue:tn,defaultActiveFirstOption:nn,onSelect:on,menuItemSelectedIcon:$,rawValues:be,fieldNames:k,virtual:p,direction:W,listHeight:J,listItemHeight:T,childrenAsData:le})},[D,we,tn,nn,on,$,be,k,j,Y,J,T,le]);return t.createElement(jn.Provider,{value:rn},t.createElement(Ut,Fe({},P,{id:De,prefixCls:r,ref:e,omitDomProps:ao,mode:o,displayValues:ze,onDisplayValuesChange:fn,direction:W,searchValue:I,onSearch:vn,autoClearSearchValue:C,onSearchSplit:an,dropdownMatchSelectWidth:Y,OptionList:Gn,emptyOptions:!we.length,activeValue:Je,activeDescendantId:"".concat(De,"_list_").concat(en)})))}),Xn=io;Xn.Option=zn;Xn.OptGroup=Un;export{Ut as B,zn as O,Xn as T,Un as a,Yt as b,It as u};
