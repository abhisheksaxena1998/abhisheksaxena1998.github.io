import{r as i,j as x}from"./index-Ciz8jMhJ.js";import"./Earth-CrsAYT_o.js";import{B as v,V as O,M as U,F as R,u as X,a as F,T as W,b as C,c as Z,E as I,d as G,O as q,e as J,f as K,C as Q,P as Y}from"./Preload-D3Z3FQ_b.js";import V from"./Loader-Ca0OjtfA.js";import{_ as tt}from"./extends-CF3RwP-h.js";import{O as et}from"./OrbitControls-CnE-aEe-.js";import"./Computers-HsEmx6zX.js";import"./index-0332b2ed.esm-C3ZSnAaI.js";import{S as ot}from"./SectionWrapper-DNvej1gG.js";import{a as rt}from"./index-BHSQFgSr.js";import"./styles-h-xaJz8S.js";class st extends v{constructor(m,y,f,T){super();const l=[],w=[],M=[],u=new O,A=new U;A.makeRotationFromEuler(f),A.setPosition(y);const k=new U;k.copy(A).invert(),B(),this.setAttribute("position",new R(l,3)),this.setAttribute("normal",new R(w,3)),this.setAttribute("uv",new R(M,2));function B(){let t,e=[];const r=new O,n=new O;if(m.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=m.geometry,E=s.attributes.position,b=s.attributes.normal;if(s.index!==null){const p=s.index;for(t=0;t<p.count;t++)r.fromBufferAttribute(E,p.getX(t)),n.fromBufferAttribute(b,p.getX(t)),j(e,r,n)}else for(t=0;t<E.count;t++)r.fromBufferAttribute(E,t),n.fromBufferAttribute(b,t),j(e,r,n);for(e=h(e,u.set(1,0,0)),e=h(e,u.set(-1,0,0)),e=h(e,u.set(0,1,0)),e=h(e,u.set(0,-1,0)),e=h(e,u.set(0,0,1)),e=h(e,u.set(0,0,-1)),t=0;t<e.length;t++){const p=e[t];M.push(.5+p.position.x/T.x,.5+p.position.y/T.y),p.position.applyMatrix4(A),l.push(p.position.x,p.position.y,p.position.z),w.push(p.normal.x,p.normal.y,p.normal.z)}}function j(t,e,r){e.applyMatrix4(m.matrixWorld),e.applyMatrix4(k),r.transformDirection(m.matrixWorld),t.push(new H(e.clone(),r.clone()))}function h(t,e){const r=[],n=.5*Math.abs(T.dot(e));for(let s=0;s<t.length;s+=3){let E,b,p,P=0,c,d,g,D;const _=t[s+0].position.dot(e)-n,N=t[s+1].position.dot(e)-n,$=t[s+2].position.dot(e)-n;switch(E=_>0,b=N>0,p=$>0,P=(E?1:0)+(b?1:0)+(p?1:0),P){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(E&&(c=t[s+1],d=t[s+2],g=a(t[s],c,e,n),D=a(t[s],d,e,n)),b){c=t[s],d=t[s+2],g=a(t[s+1],c,e,n),D=a(t[s+1],d,e,n),r.push(g),r.push(d.clone()),r.push(c.clone()),r.push(d.clone()),r.push(g.clone()),r.push(D);break}p&&(c=t[s],d=t[s+1],g=a(t[s+2],c,e,n),D=a(t[s+2],d,e,n)),r.push(c.clone()),r.push(d.clone()),r.push(g),r.push(D),r.push(g.clone()),r.push(d.clone());break}case 2:{E||(c=t[s].clone(),d=a(c,t[s+1],e,n),g=a(c,t[s+2],e,n),r.push(c),r.push(d),r.push(g)),b||(c=t[s+1].clone(),d=a(c,t[s+2],e,n),g=a(c,t[s],e,n),r.push(c),r.push(d),r.push(g)),p||(c=t[s+2].clone(),d=a(c,t[s],e,n),g=a(c,t[s+1],e,n),r.push(c),r.push(d),r.push(g));break}}}return r}function a(t,e,r,n){const s=t.position.dot(r)-n,E=e.position.dot(r)-n,b=s/(s-E);return new H(new O(t.position.x+b*(e.position.x-t.position.x),t.position.y+b*(e.position.y-t.position.y),t.position.z+b*(e.position.z-t.position.z)),new O(t.normal.x+b*(e.normal.x-t.normal.x),t.normal.y+b*(e.normal.y-t.normal.y),t.normal.z+b*(e.normal.z-t.normal.z)))}}}class H{constructor(m,y){this.position=m,this.normal=y}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const z=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function L(o,m){const y=X(l=>l.gl),f=F(W,z(o)?Object.values(o):o);return i.useLayoutEffect(()=>{m==null||m(f)},[m]),i.useEffect(()=>{if("initTexture"in y){let l=[];Array.isArray(f)?l=f:f instanceof C?l=[f]:z(f)&&(l=Object.values(f)),l.forEach(w=>{w instanceof C&&y.initTexture(w)})}},[y,f]),i.useMemo(()=>{if(z(o)){const l={};let w=0;for(const M in o)l[M]=f[w++];return l}else return f},[o,f])}L.preload=o=>F.preload(W,o);L.clear=o=>F.clear(W,o);function nt(o){return Array.isArray(o)}function S(o=[0,0,0]){return nt(o)?o:o instanceof O||o instanceof I?[o.x,o.y,o.z]:[o,o,o]}const at=i.forwardRef(function({debug:m,depthTest:y=!1,polygonOffsetFactor:f=-10,map:T,mesh:l,children:w,position:M,rotation:u,scale:A,...k},B){const j=i.useRef(null);i.useImperativeHandle(B,()=>j.current);const h=i.useRef(null);return i.useLayoutEffect(()=>{const a=(l==null?void 0:l.current)||j.current.parent,t=j.current;if(!(a instanceof Z))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new O,rotation:new I,scale:new O(1,1,1)};if(a){G(e,{position:M,scale:A});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!u||typeof u=="number"){const n=new q;n.position.copy(e.position),n.lookAt(a.position),typeof u=="number"&&n.rotateZ(u),G(e,{rotation:n.rotation})}else G(e,{rotation:u});return t.geometry=new st(a,e.position,e.rotation,e.scale),h.current&&(G(h.current,e),h.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[l,...S(M),...S(A),...S(u)]),i.createElement("mesh",tt({ref:j,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":f,"material-depthTest":y,"material-map":T},k),w,m&&i.createElement("mesh",{ref:h},i.createElement("boxGeometry",null),i.createElement("meshNormalMaterial",{wireframe:!0}),i.createElement("axesHelper",null)))}),it=i.forwardRef(({children:o,enabled:m=!0,speed:y=1,rotationIntensity:f=1,floatIntensity:T=1,floatingRange:l=[-.1,.1],...w},M)=>{const u=i.useRef(null);i.useImperativeHandle(M,()=>u.current,[]);const A=i.useRef(Math.random()*1e4);return J(k=>{var B,j;if(!m||y===0)return;const h=A.current+k.clock.getElapsedTime();u.current.rotation.x=Math.cos(h/4*y)/8*f,u.current.rotation.y=Math.sin(h/4*y)/8*f,u.current.rotation.z=Math.sin(h/4*y)/20*f;let a=Math.sin(h/4*y)/10;a=K.mapLinear(a,-.1,.1,(B=l==null?void 0:l[0])!==null&&B!==void 0?B:-.1,(j=l==null?void 0:l[1])!==null&&j!==void 0?j:.1),u.current.position.y=a*T,u.current.updateMatrix()}),i.createElement("group",w,i.createElement("group",{ref:u,matrixAutoUpdate:!1},o))}),lt=i.memo(o=>{const m=i.useMemo(()=>L(o.imgUrl),[o.imgUrl]);return x.jsxs(it,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[x.jsx("ambientLight",{intensity:.25}),x.jsx("directionalLight",{position:[0,0,.05]}),x.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[x.jsx("icosahedronGeometry",{args:[1,1]}),x.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),x.jsx(at,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:m,flatShading:!0})]})]})}),ut=({icon:o})=>x.jsxs(Q,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0,antialias:!0},children:[x.jsxs(i.Suspense,{fallback:x.jsx(V,{}),children:[x.jsx(et,{enableZoom:!1}),x.jsx(lt,{imgUrl:o})]}),x.jsx(Y,{all:!0})]}),ct=()=>x.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:rt.map(o=>x.jsx("div",{className:"w-28 h-28",children:x.jsx(ut,{icon:o.icon})},o.name))}),Et=ot(ct,"");export{Et as default};
