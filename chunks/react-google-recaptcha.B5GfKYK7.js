import{r as e}from"./react.DlfX74Oz.js";import{P as t}from"./prop-types.DurDQcTs.js";import{m as n}from"./react-async-script.Bbj2ht6f.js";import"./classnames.BmZ8OyLm.js";import"./hoist-non-react-statics.DNgf3Sin.js";var i=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var s=function(t){var n,s;function c(){var e;return(e=t.call(this)||this).handleExpired=e.handleExpired.bind(o(e)),e.handleErrored=e.handleErrored.bind(o(e)),e.handleChange=e.handleChange.bind(o(e)),e.handleRecaptchaRef=e.handleRecaptchaRef.bind(o(e)),e}s=t,(n=c).prototype=Object.create(s.prototype),n.prototype.constructor=n,a(n,s);var h=c.prototype;return h.getCaptchaFunction=function(e){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[e]:this.props.grecaptcha[e]:null},h.getValue=function(){var e=this.getCaptchaFunction("getResponse");return e&&void 0!==this._widgetId?e(this._widgetId):null},h.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},h.execute=function(){var e=this.getCaptchaFunction("execute");if(e&&void 0!==this._widgetId)return e(this._widgetId);this._executeRequested=!0},h.executeAsync=function(){var e=this;return new Promise((function(t,n){e.executionResolve=t,e.executionReject=n,e.execute()}))},h.reset=function(){var e=this.getCaptchaFunction("reset");e&&void 0!==this._widgetId&&e(this._widgetId)},h.forceReset=function(){var e=this.getCaptchaFunction("reset");e&&e()},h.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},h.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},h.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},h.explicitRender=function(){var e=this.getCaptchaFunction("render");if(e&&void 0===this._widgetId){var t=document.createElement("div");this._widgetId=e(t,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(t)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},h.componentDidMount=function(){this.explicitRender()},h.componentDidUpdate=function(){this.explicitRender()},h.handleRecaptchaRef=function(e){this.captcha=e},h.render=function(){var t=this.props;t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,t.isolated;var n=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,i);return e.createElement("div",r({},n,{ref:this.handleRecaptchaRef}))},c}(e.Component);s.displayName="ReCAPTCHA",s.propTypes={sitekey:t.string.isRequired,onChange:t.func,grecaptcha:t.object,theme:t.oneOf(["dark","light"]),type:t.oneOf(["image","audio"]),tabindex:t.number,onExpired:t.func,onErrored:t.func,size:t.oneOf(["compact","normal","invisible"]),stoken:t.string,hl:t.string,badge:t.oneOf(["bottomright","bottomleft","inline"]),isolated:t.bool},s.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var c="onloadcallback";function h(){return"undefined"!=typeof window&&window.recaptchaOptions||{}}const p=n((function(){var e=h(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+c+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+c+"&render=explicit"}),{callbackName:c,globalName:"grecaptcha",attributes:h().nonce?{nonce:h().nonce}:{}})(s);export{s as ReCAPTCHA,p as default};
