import{h as Kr,i as Jr,a as We,_ as Ge,k as pt,e as D,d as Pe,c as x,b as R,g as ue,f as He,j as Xr,o as Qn,p as Pt}from"./@babel.CqxtU2kl.js";import{a as P,r as l}from"./react.DPZx3FLm.js";import{F as En}from"./@ant-design.BcPQSwEb.js";import{c as ge}from"./classnames.CIPFGIzL.js";import{d as Oe,e as Br,c as jt,u as ae,f as Kn,a as Jn,r as en,s as yr,h as Sn,i as Zn,j as Yn,k as Vr,l as Xn,g as Hr,m as ea,n as Nn,o as ta,p as ra}from"./rc-util.9PQy9ck0.js";import{r as Mn}from"./react-dom.stFbKHXB.js";import{R as Rn}from"./rc-resize-observer.XqflEGEn.js";import{C as Pn}from"./rc-motion.cq0Hvde5.js";var na=["b"],aa=["v"],qr=function(t){return Math.round(Number(t||0))},ia=function(t){if(t instanceof En)return t;if(t&&Pe(t)==="object"&&"h"in t&&"b"in t){var e=t,n=e.b,a=pt(e,na);return D(D({},a),{},{v:n})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},At=function(r){Kr(e,r);var t=Jr(e);function e(n){return We(this,e),t.call(this,ia(n))}return Ge(e,[{key:"toHsbString",value:function(){var a=this.toHsb(),i=qr(a.s*100),o=qr(a.b*100),s=qr(a.h),u=a.a,v="hsb(".concat(s,", ").concat(i,"%, ").concat(o,"%)"),d="hsba(".concat(s,", ").concat(i,"%, ").concat(o,"%, ").concat(u.toFixed(u===0?0:2),")");return u===1?v:d}},{key:"toHsb",value:function(){var a=this.toHsv(),i=a.v,o=pt(a,aa);return D(D({},o),{},{b:i,a:this.a})}}]),e}(En),oa="rc-color-picker",kt=function(t){return t instanceof At?t:new At(t)},sa=kt("#1677ff"),kn=function(t){var e=t.offset,n=t.targetRef,a=t.containerRef,i=t.color,o=t.type,s=a.current.getBoundingClientRect(),u=s.width,v=s.height,d=n.current.getBoundingClientRect(),h=d.width,g=d.height,m=h/2,f=g/2,y=(e.x+m)/u,c=1-(e.y+f)/v,w=i.toHsb(),b=y,N=(e.x+m)/u*360;if(o)switch(o){case"hue":return kt(D(D({},w),{},{h:N<=0?0:N}));case"alpha":return kt(D(D({},w),{},{a:b<=0?0:b}))}return kt({h:w.h,s:y<=0?0:y,b:c>=1?1:c,a:w.a})},An=function(t,e){var n=t.toHsb();switch(e){case"hue":return{x:n.h/360*100,y:50};case"alpha":return{x:t.a*100,y:50};default:return{x:n.s*100,y:(1-n.b)*100}}},ua=function(t){var e=t.color,n=t.prefixCls,a=t.className,i=t.style,o=t.onClick,s="".concat(n,"-color-block");return P.createElement("div",{className:ge(s,a),style:i,onClick:o},P.createElement("div",{className:"".concat(s,"-inner"),style:{background:e}}))};function la(r){var t="touches"in r?r.touches[0]:r,e=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,n=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-e,pageY:t.pageY-n}}function pn(r){var t=r.targetRef,e=r.containerRef,n=r.direction,a=r.onDragChange,i=r.onDragChangeComplete,o=r.calculate,s=r.color,u=r.disabledDrag,v=l.useState({x:0,y:0}),d=x(v,2),h=d[0],g=d[1],m=l.useRef(null),f=l.useRef(null);l.useEffect(function(){g(o())},[s]),l.useEffect(function(){return function(){document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",f.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",f.current),m.current=null,f.current=null}},[]);var y=function(C){var E=la(C),S=E.pageX,I=E.pageY,p=e.current.getBoundingClientRect(),F=p.x,L=p.y,O=p.width,K=p.height,V=t.current.getBoundingClientRect(),q=V.width,B=V.height,G=q/2,H=B/2,T=Math.max(0,Math.min(S-F,O))-G,A=Math.max(0,Math.min(I-L,K))-H,_={x:T,y:n==="x"?h.y:A};if(q===0&&B===0||q!==B)return!1;a==null||a(_)},c=function(C){C.preventDefault(),y(C)},w=function(C){C.preventDefault(),document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",f.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",f.current),m.current=null,f.current=null,i==null||i()},b=function(C){document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",f.current),!u&&(y(C),document.addEventListener("mousemove",c),document.addEventListener("mouseup",w),document.addEventListener("touchmove",c),document.addEventListener("touchend",w),m.current=c,f.current=w)};return[h,b]}var In=function(t){var e=t.size,n=e===void 0?"default":e,a=t.color,i=t.prefixCls;return P.createElement("div",{className:ge("".concat(i,"-handler"),R({},"".concat(i,"-handler-sm"),n==="small")),style:{backgroundColor:a}})},Dn=function(t){var e=t.children,n=t.style,a=t.prefixCls;return P.createElement("div",{className:"".concat(a,"-palette"),style:D({position:"relative"},n)},e)},Fn=l.forwardRef(function(r,t){var e=r.children,n=r.x,a=r.y;return P.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(n,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},e)}),ca=function(t){var e=t.color,n=t.onChange,a=t.prefixCls,i=t.onChangeComplete,o=t.disabled,s=l.useRef(),u=l.useRef(),v=l.useRef(e),d=Oe(function(y){var c=kn({offset:y,targetRef:u,containerRef:s,color:e});v.current=c,n(c)}),h=pn({color:e,containerRef:s,targetRef:u,calculate:function(){return An(e)},onDragChange:d,onDragChangeComplete:function(){return i==null?void 0:i(v.current)},disabledDrag:o}),g=x(h,2),m=g[0],f=g[1];return P.createElement("div",{ref:s,className:"".concat(a,"-select"),onMouseDown:f,onTouchStart:f},P.createElement(Dn,{prefixCls:a},P.createElement(Fn,{x:m.x,y:m.y,ref:u},P.createElement(In,{color:e.toRgbString(),prefixCls:a})),P.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(e.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},fa=function(t,e){var n=Br(t,{value:e}),a=x(n,2),i=a[0],o=a[1],s=l.useMemo(function(){return kt(i)},[i]);return[s,o]},va=function(t){var e=t.colors,n=t.children,a=t.direction,i=a===void 0?"to right":a,o=t.type,s=t.prefixCls,u=l.useMemo(function(){return e.map(function(v,d){var h=kt(v);return o==="alpha"&&d===e.length-1&&(h=new At(h.setA(1))),h.toRgbString()}).join(",")},[e,o]);return P.createElement("div",{className:"".concat(s,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(i,", ").concat(u,")")}},n)},da=function(t){var e=t.prefixCls,n=t.colors,a=t.disabled,i=t.onChange,o=t.onChangeComplete,s=t.color,u=t.type,v=l.useRef(),d=l.useRef(),h=l.useRef(s),g=function(E){return u==="hue"?E.getHue():E.a*100},m=Oe(function(C){var E=kn({offset:C,targetRef:d,containerRef:v,color:s,type:u});h.current=E,i(g(E))}),f=pn({color:s,targetRef:d,containerRef:v,calculate:function(){return An(s,u)},onDragChange:m,onDragChangeComplete:function(){o(g(h.current))},direction:"x",disabledDrag:a}),y=x(f,2),c=y[0],w=y[1],b=P.useMemo(function(){if(u==="hue"){var C=s.toHsb();C.s=1,C.b=1,C.a=1;var E=new At(C);return E}return s},[s,u]),N=P.useMemo(function(){return n.map(function(C){return"".concat(C.color," ").concat(C.percent,"%")})},[n]);return P.createElement("div",{ref:v,className:ge("".concat(e,"-slider"),"".concat(e,"-slider-").concat(u)),onMouseDown:w,onTouchStart:w},P.createElement(Dn,{prefixCls:e},P.createElement(Fn,{x:c.x,y:c.y,ref:d},P.createElement(In,{size:"small",color:b.toHexString(),prefixCls:e})),P.createElement(va,{colors:N,type:u,prefixCls:e})))};function ha(r){return l.useMemo(function(){var t=r||{},e=t.slider;return[e||da]},[r])}var ma=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Gi=l.forwardRef(function(r,t){var e=r.value,n=r.defaultValue,a=r.prefixCls,i=a===void 0?oa:a,o=r.onChange,s=r.onChangeComplete,u=r.className,v=r.style,d=r.panelRender,h=r.disabledAlpha,g=h===void 0?!1:h,m=r.disabled,f=m===void 0?!1:m,y=r.components,c=ha(y),w=x(c,1),b=w[0],N=fa(n||sa,e),C=x(N,2),E=C[0],S=C[1],I=l.useMemo(function(){return E.setA(1).toRgbString()},[E]),p=function(A,_){e||S(A),o==null||o(A,_)},F=function(A){return new At(E.setHue(A))},L=function(A){return new At(E.setA(A/100))},O=function(A){p(F(A),{type:"hue",value:A})},K=function(A){p(L(A),{type:"alpha",value:A})},V=function(A){s&&s(F(A))},q=function(A){s&&s(L(A))},B=ge("".concat(i,"-panel"),u,R({},"".concat(i,"-panel-disabled"),f)),G={prefixCls:i,disabled:f,color:E},H=P.createElement(P.Fragment,null,P.createElement(ca,ue({onChange:p},G,{onChangeComplete:s})),P.createElement("div",{className:"".concat(i,"-slider-container")},P.createElement("div",{className:ge("".concat(i,"-slider-group"),R({},"".concat(i,"-slider-group-disabled-alpha"),g))},P.createElement(b,ue({},G,{type:"hue",colors:ma,min:0,max:359,value:E.getHue(),onChange:O,onChangeComplete:V})),!g&&P.createElement(b,ue({},G,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:I}],min:0,max:100,value:E.a*100,onChange:K,onChangeComplete:q}))),P.createElement(ua,{color:E.toRgbString(),prefixCls:i})));return P.createElement("div",{className:B,style:v,ref:t},typeof d=="function"?d(H):H)}),xn=l.createContext(null),tn=[];function ga(r,t){var e=l.useState(function(){if(!jt())return null;var f=document.createElement("div");return f}),n=x(e,1),a=n[0],i=l.useRef(!1),o=l.useContext(xn),s=l.useState(tn),u=x(s,2),v=u[0],d=u[1],h=o||(i.current?void 0:function(f){d(function(y){var c=[f].concat(He(y));return c})});function g(){a.parentElement||document.body.appendChild(a),i.current=!0}function m(){var f;(f=a.parentElement)===null||f===void 0||f.removeChild(a),i.current=!1}return ae(function(){return r?o?o(g):g():m(),m},[r]),ae(function(){v.length&&(v.forEach(function(f){return f()}),d(tn))},[v]),[a,h]}function ya(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Ca="rc-util-locker-".concat(Date.now()),rn=0;function ba(r){var t=!!r,e=l.useState(function(){return rn+=1,"".concat(Ca,"_").concat(rn)}),n=x(e,1),a=n[0];ae(function(){if(t){var i=Kn(document.body).width,o=ya();Jn(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else en(a);return function(){en(a)}},[t,a])}var wa=!1;function Ea(r){return wa}var nn=function(t){return t===!1?!1:!jt()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Cr=l.forwardRef(function(r,t){var e=r.open,n=r.autoLock,a=r.getContainer;r.debug;var i=r.autoDestroy,o=i===void 0?!0:i,s=r.children,u=l.useState(e),v=x(u,2),d=v[0],h=v[1],g=d||e;l.useEffect(function(){(o||e)&&h(e)},[e,o]);var m=l.useState(function(){return nn(a)}),f=x(m,2),y=f[0],c=f[1];l.useEffect(function(){var O=nn(a);c(O??null)});var w=ga(g&&!y),b=x(w,2),N=b[0],C=b[1],E=y??N;ba(n&&e&&jt()&&(E===N||E===document.body));var S=null;if(s&&yr(s)&&t){var I=s;S=I.ref}var p=Sn(S,t);if(!g||!jt()||y===void 0)return null;var F=E===!1||Ea(),L=s;return t&&(L=l.cloneElement(s,{ref:p})),l.createElement(xn.Provider,{value:C},F?L:Mn.createPortal(L,E))});function Ur(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Wr=Ur();var Sa=/%[sdj%]/g,Na=function(){};function Gr(r){if(!r||!r.length)return null;var t={};return r.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function ke(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var a=0,i=e.length;if(typeof r=="function")return r.apply(null,e);if(typeof r=="string"){var o=r.replace(Sa,function(s){if(s==="%%")return"%";if(a>=i)return s;switch(s){case"%s":return String(e[a++]);case"%d":return Number(e[a++]);case"%j":try{return JSON.stringify(e[a++])}catch{return"[Circular]"}break;default:return s}});return o}return r}function Ma(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function ie(r,t){return!!(r==null||t==="array"&&Array.isArray(r)&&!r.length||Ma(t)&&typeof r=="string"&&!r)}function Ra(r,t,e){var n=[],a=0,i=r.length;function o(s){n.push.apply(n,He(s||[])),a++,a===i&&e(n)}r.forEach(function(s){t(s,o)})}function an(r,t,e){var n=0,a=r.length;function i(o){if(o&&o.length){e(o);return}var s=n;n=n+1,s<a?t(r[s],i):e([])}i([])}function Pa(r){var t=[];return Object.keys(r).forEach(function(e){t.push.apply(t,He(r[e]||[]))}),t}var on=function(r){Kr(e,r);var t=Jr(e);function e(n,a){var i;return We(this,e),i=t.call(this,"Async Validation Error"),R(Xr(i),"errors",void 0),R(Xr(i),"fields",void 0),i.errors=n,i.fields=a,i}return Ge(e)}(Qn(Error));function ka(r,t,e,n,a){if(t.first){var i=new Promise(function(g,m){var f=function(w){return n(w),w.length?m(new on(w,Gr(w))):g(a)},y=Pa(r);an(y,e,f)});return i.catch(function(g){return g}),i}var o=t.firstFields===!0?Object.keys(r):t.firstFields||[],s=Object.keys(r),u=s.length,v=0,d=[],h=new Promise(function(g,m){var f=function(c){if(d.push.apply(d,c),v++,v===u)return n(d),d.length?m(new on(d,Gr(d))):g(a)};s.length||(n(d),g(a)),s.forEach(function(y){var c=r[y];o.indexOf(y)!==-1?an(c,e,f):Ra(c,e,f)})});return h.catch(function(g){return g}),h}function Aa(r){return!!(r&&r.message!==void 0)}function pa(r,t){for(var e=r,n=0;n<t.length;n++){if(e==null)return e;e=e[t[n]]}return e}function sn(r,t){return function(e){var n;return r.fullFields?n=pa(t,r.fullFields):n=t[e.field||r.fullField],Aa(e)?(e.field=e.field||r.fullField,e.fieldValue=n,e):{message:typeof e=="function"?e():e,fieldValue:n,field:e.field||r.fullField}}}function un(r,t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];Pe(n)==="object"&&Pe(r[e])==="object"?r[e]=D(D({},r[e]),n):r[e]=n}}return r}var Mt="enum",Ia=function(t,e,n,a,i){t[Mt]=Array.isArray(t[Mt])?t[Mt]:[],t[Mt].indexOf(e)===-1&&a.push(ke(i.messages[Mt],t.fullField,t[Mt].join(", ")))},Da=function(t,e,n,a,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||a.push(ke(i.messages.pattern.mismatch,t.fullField,e,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(e)||a.push(ke(i.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},Fa=function(t,e,n,a,i){var o=typeof t.len=="number",s=typeof t.min=="number",u=typeof t.max=="number",v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=e,h=null,g=typeof e=="number",m=typeof e=="string",f=Array.isArray(e);if(g?h="number":m?h="string":f&&(h="array"),!h)return!1;f&&(d=e.length),m&&(d=e.replace(v,"_").length),o?d!==t.len&&a.push(ke(i.messages[h].len,t.fullField,t.len)):s&&!u&&d<t.min?a.push(ke(i.messages[h].min,t.fullField,t.min)):u&&!s&&d>t.max?a.push(ke(i.messages[h].max,t.fullField,t.max)):s&&u&&(d<t.min||d>t.max)&&a.push(ke(i.messages[h].range,t.fullField,t.min,t.max))},Ln=function(t,e,n,a,i,o){t.required&&(!n.hasOwnProperty(t.field)||ie(e,o||t.type))&&a.push(ke(i.messages.required,t.fullField))},mr;const xa=function(){if(mr)return mr;var r="[a-fA-F\\d:]",t=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(r,")|(?<=").concat(r,")(?=\\s|$))"):""},e="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(e,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(e,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(e,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(e,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(e,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(e,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(e,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(a.join("|"),")").concat(i),s=new RegExp("(?:^".concat(e,"$)|(?:^").concat(o,"$)")),u=new RegExp("^".concat(e,"$")),v=new RegExp("^".concat(o,"$")),d=function(S){return S&&S.exact?s:new RegExp("(?:".concat(t(S)).concat(e).concat(t(S),")|(?:").concat(t(S)).concat(o).concat(t(S),")"),"g")};d.v4=function(E){return E&&E.exact?u:new RegExp("".concat(t(E)).concat(e).concat(t(E)),"g")},d.v6=function(E){return E&&E.exact?v:new RegExp("".concat(t(E)).concat(o).concat(t(E)),"g")};var h="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",m=d.v4().source,f=d.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",c="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",w="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",N='(?:[/?#][^\\s"]*)?',C="(?:".concat(h,"|www\\.)").concat(g,"(?:localhost|").concat(m,"|").concat(f,"|").concat(y).concat(c).concat(w,")").concat(b).concat(N);return mr=new RegExp("(?:^".concat(C,"$)"),"i"),mr};var ln={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ht={integer:function(t){return Ht.number(t)&&parseInt(t,10)===t},float:function(t){return Ht.number(t)&&!Ht.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return Pe(t)==="object"&&!Ht.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(ln.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(xa())},hex:function(t){return typeof t=="string"&&!!t.match(ln.hex)}},La=function(t,e,n,a,i){if(t.required&&e===void 0){Ln(t,e,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?Ht[s](e)||a.push(ke(i.messages.types[s],t.fullField,t.type)):s&&Pe(e)!==t.type&&a.push(ke(i.messages.types[s],t.fullField,t.type))},_a=function(t,e,n,a,i){(/^\s+$/.test(e)||e==="")&&a.push(ke(i.messages.whitespace,t.fullField))};const z={required:Ln,whitespace:_a,type:La,range:Fa,enum:Ia,pattern:Da};var Ta=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e)&&!t.required)return n();z.required(t,e,a,o,i)}n(o)},za=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(e==null&&!t.required)return n();z.required(t,e,a,o,i,"array"),e!=null&&(z.type(t,e,a,o,i),z.range(t,e,a,o,i))}n(o)},Oa=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&z.type(t,e,a,o,i)}n(o)},qa=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e,"date")&&!t.required)return n();if(z.required(t,e,a,o,i),!ie(e,"date")){var u;e instanceof Date?u=e:u=new Date(e),z.type(t,u,a,o,i),u&&z.range(t,u.getTime(),a,o,i)}}n(o)},$a="enum",Ba=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&z[$a](t,e,a,o,i)}n(o)},Va=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&(z.type(t,e,a,o,i),z.range(t,e,a,o,i))}n(o)},Ha=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&(z.type(t,e,a,o,i),z.range(t,e,a,o,i))}n(o)},Ua=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&z.type(t,e,a,o,i)}n(o)},Wa=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(e===""&&(e=void 0),ie(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&(z.type(t,e,a,o,i),z.range(t,e,a,o,i))}n(o)},Ga=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e)&&!t.required)return n();z.required(t,e,a,o,i),e!==void 0&&z.type(t,e,a,o,i)}n(o)},ja=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e,"string")&&!t.required)return n();z.required(t,e,a,o,i),ie(e,"string")||z.pattern(t,e,a,o,i)}n(o)},Qa=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e)&&!t.required)return n();z.required(t,e,a,o,i),ie(e)||z.type(t,e,a,o,i)}n(o)},Ka=function(t,e,n,a,i){var o=[],s=Array.isArray(e)?"array":Pe(e);z.required(t,e,a,o,i,s),n(o)},Ja=function(t,e,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(ie(e,"string")&&!t.required)return n();z.required(t,e,a,o,i,"string"),ie(e,"string")||(z.type(t,e,a,o,i),z.range(t,e,a,o,i),z.pattern(t,e,a,o,i),t.whitespace===!0&&z.whitespace(t,e,a,o,i))}n(o)},$r=function(t,e,n,a,i){var o=t.type,s=[],u=t.required||!t.required&&a.hasOwnProperty(t.field);if(u){if(ie(e,o)&&!t.required)return n();z.required(t,e,a,s,i,o),ie(e,o)||z.type(t,e,a,s,i)}n(s)};const Wt={string:Ja,method:Ua,number:Wa,boolean:Oa,regexp:Qa,integer:Ha,float:Va,array:za,object:Ga,enum:Ba,pattern:ja,date:qa,url:$r,hex:$r,email:$r,required:Ka,any:Ta};var br=function(){function r(t){We(this,r),R(this,"rules",null),R(this,"_messages",Wr),this.define(t)}return Ge(r,[{key:"define",value:function(e){var n=this;if(!e)throw new Error("Cannot configure a schema with no rules");if(Pe(e)!=="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(a){var i=e[a];n.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(e){return e&&(this._messages=un(Ur(),e)),this._messages}},{key:"validate",value:function(e){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=e,s=a,u=i;if(typeof s=="function"&&(u=s,s={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,o),Promise.resolve(o);function v(f){var y=[],c={};function w(N){if(Array.isArray(N)){var C;y=(C=y).concat.apply(C,He(N))}else y.push(N)}for(var b=0;b<f.length;b++)w(f[b]);y.length?(c=Gr(y),u(y,c)):u(null,o)}if(s.messages){var d=this.messages();d===Wr&&(d=Ur()),un(d,s.messages),s.messages=d}else s.messages=this.messages();var h={},g=s.keys||Object.keys(this.rules);g.forEach(function(f){var y=n.rules[f],c=o[f];y.forEach(function(w){var b=w;typeof b.transform=="function"&&(o===e&&(o=D({},o)),c=o[f]=b.transform(c),c!=null&&(b.type=b.type||(Array.isArray(c)?"array":Pe(c)))),typeof b=="function"?b={validator:b}:b=D({},b),b.validator=n.getValidationMethod(b),b.validator&&(b.field=f,b.fullField=b.fullField||f,b.type=n.getType(b),h[f]=h[f]||[],h[f].push({rule:b,value:c,source:o,field:f}))})});var m={};return ka(h,s,function(f,y){var c=f.rule,w=(c.type==="object"||c.type==="array")&&(Pe(c.fields)==="object"||Pe(c.defaultField)==="object");w=w&&(c.required||!c.required&&f.value),c.field=f.field;function b(I,p){return D(D({},p),{},{fullField:"".concat(c.fullField,".").concat(I),fullFields:c.fullFields?[].concat(He(c.fullFields),[I]):[I]})}function N(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=Array.isArray(I)?I:[I];!s.suppressWarning&&p.length&&r.warning("async-validator:",p),p.length&&c.message!==void 0&&(p=[].concat(c.message));var F=p.map(sn(c,o));if(s.first&&F.length)return m[c.field]=1,y(F);if(!w)y(F);else{if(c.required&&!f.value)return c.message!==void 0?F=[].concat(c.message).map(sn(c,o)):s.error&&(F=[s.error(c,ke(s.messages.required,c.field))]),y(F);var L={};c.defaultField&&Object.keys(f.value).map(function(V){L[V]=c.defaultField}),L=D(D({},L),f.rule.fields);var O={};Object.keys(L).forEach(function(V){var q=L[V],B=Array.isArray(q)?q:[q];O[V]=B.map(b.bind(null,V))});var K=new r(O);K.messages(s.messages),f.rule.options&&(f.rule.options.messages=s.messages,f.rule.options.error=s.error),K.validate(f.value,f.rule.options||s,function(V){var q=[];F&&F.length&&q.push.apply(q,He(F)),V&&V.length&&q.push.apply(q,He(V)),y(q.length?q:null)})}}var C;if(c.asyncValidator)C=c.asyncValidator(c,f.value,N,f.source,s);else if(c.validator){try{C=c.validator(c,f.value,N,f.source,s)}catch(I){var E,S;(E=(S=console).error)===null||E===void 0||E.call(S,I),s.suppressValidatorError||setTimeout(function(){throw I},0),N(I.message)}C===!0?N():C===!1?N(typeof c.message=="function"?c.message(c.fullField||c.field):c.message||"".concat(c.fullField||c.field," fails")):C instanceof Array?N(C):C instanceof Error&&N(C.message)}C&&C.then&&C.then(function(){return N()},function(I){return N(I)})},function(f){v(f)},o)}},{key:"getType",value:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!Wt.hasOwnProperty(e.type))throw new Error(ke("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if(typeof e.validator=="function")return e.validator;var n=Object.keys(e),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?Wt.required:Wt[this.getType(e)]||void 0}}]),r}();R(br,"register",function(t,e){if(typeof e!="function")throw new Error("Cannot register a validator by type, validator is not a function");Wt[t]=e});R(br,"warning",Na);R(br,"messages",Wr);R(br,"validators",Wt);function Za(r){var t=r.prefixCls,e=r.align,n=r.arrow,a=r.arrowPos,i=n||{},o=i.className,s=i.content,u=a.x,v=u===void 0?0:u,d=a.y,h=d===void 0?0:d,g=l.useRef();if(!e||!e.points)return null;var m={position:"absolute"};if(e.autoArrow!==!1){var f=e.points[0],y=e.points[1],c=f[0],w=f[1],b=y[0],N=y[1];c===b||!["t","b"].includes(c)?m.top=h:c==="t"?m.top=0:m.bottom=0,w===N||!["l","r"].includes(w)?m.left=v:w==="l"?m.left=0:m.right=0}return l.createElement("div",{ref:g,className:ge("".concat(t,"-arrow"),o),style:m},s)}function Ya(r){var t=r.prefixCls,e=r.open,n=r.zIndex,a=r.mask,i=r.motion;return a?l.createElement(Pn,ue({},i,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(o){var s=o.className;return l.createElement("div",{style:{zIndex:n},className:ge("".concat(t,"-mask"),s)})}):null}var Xa=l.memo(function(r){var t=r.children;return t},function(r,t){return t.cache}),ei=l.forwardRef(function(r,t){var e=r.popup,n=r.className,a=r.prefixCls,i=r.style,o=r.target,s=r.onVisibleChanged,u=r.open,v=r.keepDom,d=r.fresh,h=r.onClick,g=r.mask,m=r.arrow,f=r.arrowPos,y=r.align,c=r.motion,w=r.maskMotion,b=r.forceRender,N=r.getPopupContainer,C=r.autoDestroy,E=r.portal,S=r.zIndex,I=r.onMouseEnter,p=r.onMouseLeave,F=r.onPointerEnter,L=r.ready,O=r.offsetX,K=r.offsetY,V=r.offsetR,q=r.offsetB,B=r.onAlign,G=r.onPrepare,H=r.stretch,T=r.targetWidth,A=r.targetHeight,_=typeof e=="function"?e():e,Y=u||v,oe=(N==null?void 0:N.length)>0,re=l.useState(!N||!oe),$=x(re,2),se=$[0],je=$[1];if(ae(function(){!se&&oe&&o&&je(!0)},[se,oe,o]),!se)return null;var ve="auto",j={left:"-1000vw",top:"-1000vh",right:ve,bottom:ve};if(L||!u){var Qe,Ke=y.points,Je=y.dynamicInset||((Qe=y._experimental)===null||Qe===void 0?void 0:Qe.dynamicInset),ye=Je&&Ke[0][1]==="r",Ae=Je&&Ke[0][0]==="b";ye?(j.right=V,j.left=ve):(j.left=O,j.right=ve),Ae?(j.bottom=q,j.top=ve):(j.top=K,j.bottom=ve)}var te={};return H&&(H.includes("height")&&A?te.height=A:H.includes("minHeight")&&A&&(te.minHeight=A),H.includes("width")&&T?te.width=T:H.includes("minWidth")&&T&&(te.minWidth=T)),u||(te.pointerEvents="none"),l.createElement(E,{open:b||Y,getContainer:N&&function(){return N(o)},autoDestroy:C},l.createElement(Ya,{prefixCls:a,open:u,zIndex:S,mask:g,motion:w}),l.createElement(Rn,{onResize:B,disabled:!u},function(pe){return l.createElement(Pn,ue({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(a,"-hidden")},c,{onAppearPrepare:G,onEnterPrepare:G,visible:u,onVisibleChanged:function(_e){var de;c==null||(de=c.onVisibleChanged)===null||de===void 0||de.call(c,_e),s(_e)}}),function(Le,_e){var de=Le.className,rt=Le.style,we=ge(a,de,n);return l.createElement("div",{ref:Zn(pe,t,_e),className:we,style:D(D(D(D({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},j),te),rt),{},{boxSizing:"border-box",zIndex:S},i),onMouseEnter:I,onMouseLeave:p,onPointerEnter:F,onClick:h},m&&l.createElement(Za,{prefixCls:a,arrow:m,arrowPos:f,align:y}),l.createElement(Xa,{cache:!u&&!d},_))})}))}),ti=l.forwardRef(function(r,t){var e=r.children,n=r.getTriggerDOMNode,a=yr(e),i=l.useCallback(function(s){Yn(t,n?n(s):s)},[n]),o=Sn(i,e.ref);return a?l.cloneElement(e,{ref:o}):e}),cn=l.createContext(null);function fn(r){return r?Array.isArray(r)?r:[r]:[]}function ri(r,t,e,n){return l.useMemo(function(){var a=fn(e??t),i=fn(n??t),o=new Set(a),s=new Set(i);return r&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]},[r,t,e,n])}function ni(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?r[0]===t[0]:r[0]===t[0]&&r[1]===t[1]}function ai(r,t,e,n){for(var a=e.points,i=Object.keys(r),o=0;o<i.length;o+=1){var s,u=i[o];if(ni((s=r[u])===null||s===void 0?void 0:s.points,a,n))return"".concat(t,"-placement-").concat(u)}return""}function vn(r,t,e,n){return t||(e?{motionName:"".concat(r,"-").concat(e)}:n?{motionName:n}:null)}function Kt(r){return r.ownerDocument.defaultView}function jr(r){for(var t=[],e=r==null?void 0:r.parentElement,n=["hidden","scroll","clip","auto"];e;){var a=Kt(e).getComputedStyle(e),i=a.overflowX,o=a.overflowY,s=a.overflow;[i,o,s].some(function(u){return n.includes(u)})&&t.push(e),e=e.parentElement}return t}function Qt(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?t:r}function Vt(r){return Qt(parseFloat(r),0)}function dn(r,t){var e=D({},r);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=Kt(n).getComputedStyle(n),i=a.overflow,o=a.overflowClipMargin,s=a.borderTopWidth,u=a.borderBottomWidth,v=a.borderLeftWidth,d=a.borderRightWidth,h=n.getBoundingClientRect(),g=n.offsetHeight,m=n.clientHeight,f=n.offsetWidth,y=n.clientWidth,c=Vt(s),w=Vt(u),b=Vt(v),N=Vt(d),C=Qt(Math.round(h.width/f*1e3)/1e3),E=Qt(Math.round(h.height/g*1e3)/1e3),S=(f-y-b-N)*C,I=(g-m-c-w)*E,p=c*E,F=w*E,L=b*C,O=N*C,K=0,V=0;if(i==="clip"){var q=Vt(o);K=q*C,V=q*E}var B=h.x+L-K,G=h.y+p-V,H=B+h.width+2*K-L-O-S,T=G+h.height+2*V-p-F-I;e.left=Math.max(e.left,B),e.top=Math.max(e.top,G),e.right=Math.min(e.right,H),e.bottom=Math.min(e.bottom,T)}}),e}function hn(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(t),n=e.match(/^(.*)\%$/);return n?r*(parseFloat(n[1])/100):parseFloat(e)}function mn(r,t){var e=t||[],n=x(e,2),a=n[0],i=n[1];return[hn(r.width,a),hn(r.height,i)]}function gn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function Rt(r,t){var e=t[0],n=t[1],a,i;return e==="t"?i=r.y:e==="b"?i=r.y+r.height:i=r.y+r.height/2,n==="l"?a=r.x:n==="r"?a=r.x+r.width:a=r.x+r.width/2,{x:a,y:i}}function ot(r,t){var e={t:"b",b:"t",l:"r",r:"l"};return r.map(function(n,a){return a===t?e[n]||"c":n}).join("")}function ii(r,t,e,n,a,i,o){var s=l.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),u=x(s,2),v=u[0],d=u[1],h=l.useRef(0),g=l.useMemo(function(){return t?jr(t):[]},[t]),m=l.useRef({}),f=function(){m.current={}};r||f();var y=Oe(function(){if(t&&e&&r){let Fe=function(Bt,Xe){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:st,fr=$.x+Bt,vr=$.y+Xe,Tr=fr+Ae,zr=vr+ye,M=Math.max(fr,mt.left),k=Math.max(vr,mt.top),Z=Math.min(Tr,mt.right),ee=Math.min(zr,mt.bottom);return Math.max(0,(Z-M)*(ee-k))},Nt=function(){ct=$.y+Q,ft=ct+ye,Ze=$.x+W,bt=Ze+Ae};var b,N,C,E,S=t,I=S.ownerDocument,p=Kt(S),F=p.getComputedStyle(S),L=F.width,O=F.height,K=F.position,V=S.style.left,q=S.style.top,B=S.style.right,G=S.style.bottom,H=S.style.overflow,T=D(D({},a[n]),i),A=I.createElement("div");(b=S.parentElement)===null||b===void 0||b.appendChild(A),A.style.left="".concat(S.offsetLeft,"px"),A.style.top="".concat(S.offsetTop,"px"),A.style.position=K,A.style.height="".concat(S.offsetHeight,"px"),A.style.width="".concat(S.offsetWidth,"px"),S.style.left="0",S.style.top="0",S.style.right="auto",S.style.bottom="auto",S.style.overflow="hidden";var _;if(Array.isArray(e))_={x:e[0],y:e[1],width:0,height:0};else{var Y,oe,re=e.getBoundingClientRect();re.x=(Y=re.x)!==null&&Y!==void 0?Y:re.left,re.y=(oe=re.y)!==null&&oe!==void 0?oe:re.top,_={x:re.x,y:re.y,width:re.width,height:re.height}}var $=S.getBoundingClientRect();$.x=(N=$.x)!==null&&N!==void 0?N:$.left,$.y=(C=$.y)!==null&&C!==void 0?C:$.top;var se=I.documentElement,je=se.clientWidth,ve=se.clientHeight,j=se.scrollWidth,Qe=se.scrollHeight,Ke=se.scrollTop,Je=se.scrollLeft,ye=$.height,Ae=$.width,te=_.height,pe=_.width,Le={left:0,top:0,right:je,bottom:ve},_e={left:-Je,top:-Ke,right:j-Je,bottom:Qe-Ke},de=T.htmlRegion,rt="visible",we="visibleFirst";de!=="scroll"&&de!==we&&(de=rt);var he=de===we,Dt=dn(_e,g),U=dn(Le,g),st=de===rt?U:Dt,Ie=he?U:st;S.style.left="auto",S.style.top="auto",S.style.right="0",S.style.bottom="0";var le=S.getBoundingClientRect();S.style.left=V,S.style.top=q,S.style.right=B,S.style.bottom=G,S.style.overflow=H,(E=S.parentElement)===null||E===void 0||E.removeChild(A);var Ee=Qt(Math.round(Ae/parseFloat(L)*1e3)/1e3),Ce=Qt(Math.round(ye/parseFloat(O)*1e3)/1e3);if(Ee===0||Ce===0||Vr(e)&&!Xn(e))return;var yt=T.offset,Ft=T.targetOffset,ut=mn($,yt),Se=x(ut,2),Ne=Se[0],ne=Se[1],xt=mn(_,Ft),fe=x(xt,2),J=fe[0],nt=fe[1];_.x-=J,_.y-=nt;var wr=T.points||[],Zt=x(wr,2),Er=Zt[0],Sr=Zt[1],qe=gn(Sr),Me=gn(Er),Lt=Rt(_,qe),me=Rt($,Me),at=D({},T),W=Lt.x-me.x+Ne,Q=Lt.y-me.y+ne,Te=Fe(W,Q),lt=Fe(W,Q,U),_t=Rt(_,["t","l"]),De=Rt($,["t","l"]),Yt=Rt(_,["b","r"]),Tt=Rt($,["b","r"]),it=T.overflow||{},Xt=it.adjustX,Nr=it.adjustY,zt=it.shiftX,Ct=it.shiftY,Ot=function(Xe){return typeof Xe=="boolean"?Xe:Xe>=0},ct,ft,Ze,bt;Nt();var vt=Ot(Nr),er=Me[0]===qe[0];if(vt&&Me[0]==="t"&&(ft>Ie.bottom||m.current.bt)){var ce=Q;er?ce-=ye-te:ce=_t.y-Tt.y-ne;var tr=Fe(W,ce),Mr=Fe(W,ce,U);tr>Te||tr===Te&&(!he||Mr>=lt)?(m.current.bt=!0,Q=ce,ne=-ne,at.points=[ot(Me,0),ot(qe,0)]):m.current.bt=!1}if(vt&&Me[0]==="b"&&(ct<Ie.top||m.current.tb)){var dt=Q;er?dt+=ye-te:dt=Yt.y-De.y-ne;var rr=Fe(W,dt),Rr=Fe(W,dt,U);rr>Te||rr===Te&&(!he||Rr>=lt)?(m.current.tb=!0,Q=dt,ne=-ne,at.points=[ot(Me,0),ot(qe,0)]):m.current.tb=!1}var nr=Ot(Xt),ar=Me[1]===qe[1];if(nr&&Me[1]==="l"&&(bt>Ie.right||m.current.rl)){var ht=W;ar?ht-=Ae-pe:ht=_t.x-Tt.x-Ne;var ir=Fe(ht,Q),wt=Fe(ht,Q,U);ir>Te||ir===Te&&(!he||wt>=lt)?(m.current.rl=!0,W=ht,Ne=-Ne,at.points=[ot(Me,1),ot(qe,1)]):m.current.rl=!1}if(nr&&Me[1]==="r"&&(Ze<Ie.left||m.current.lr)){var Ye=W;ar?Ye+=Ae-pe:Ye=Yt.x-De.x-Ne;var or=Fe(Ye,Q),sr=Fe(Ye,Q,U);or>Te||or===Te&&(!he||sr>=lt)?(m.current.lr=!0,W=Ye,Ne=-Ne,at.points=[ot(Me,1),ot(qe,1)]):m.current.lr=!1}Nt();var $e=zt===!0?0:zt;typeof $e=="number"&&(Ze<U.left&&(W-=Ze-U.left-Ne,_.x+pe<U.left+$e&&(W+=_.x-U.left+pe-$e)),bt>U.right&&(W-=bt-U.right-Ne,_.x>U.right-$e&&(W+=_.x-U.right+$e)));var ze=Ct===!0?0:Ct;typeof ze=="number"&&(ct<U.top&&(Q-=ct-U.top-ne,_.y+te<U.top+ze&&(Q+=_.y-U.top+te-ze)),ft>U.bottom&&(Q-=ft-U.bottom-ne,_.y>U.bottom-ze&&(Q+=_.y-U.bottom+ze)));var Et=$.x+W,St=Et+Ae,Be=$.y+Q,Pr=Be+ye,ur=_.x,kr=ur+pe,qt=_.y,Ar=qt+te,pr=Math.max(Et,ur),Ir=Math.min(St,kr),lr=(pr+Ir)/2,Dr=lr-Et,Fr=Math.max(Be,qt),cr=Math.min(Pr,Ar),xr=(Fr+cr)/2,Lr=xr-Be;o==null||o(t,at);var $t=le.right-$.x-(W+$.width),Ve=le.bottom-$.y-(Q+$.height);Ee===1&&(W=Math.round(W),$t=Math.round($t)),Ce===1&&(Q=Math.round(Q),Ve=Math.round(Ve));var _r={ready:!0,offsetX:W/Ee,offsetY:Q/Ce,offsetR:$t/Ee,offsetB:Ve/Ce,arrowX:Dr/Ee,arrowY:Lr/Ce,scaleX:Ee,scaleY:Ce,align:at};d(_r)}}),c=function(){h.current+=1;var N=h.current;Promise.resolve().then(function(){h.current===N&&y()})},w=function(){d(function(N){return D(D({},N),{},{ready:!1})})};return ae(w,[n]),ae(function(){r||w()},[r]),[v.ready,v.offsetX,v.offsetY,v.offsetR,v.offsetB,v.arrowX,v.arrowY,v.scaleX,v.scaleY,v.align,c]}function oi(r,t,e,n,a){ae(function(){if(r&&t&&e){let h=function(){n(),a()};var i=t,o=e,s=jr(i),u=jr(o),v=Kt(o),d=new Set([v].concat(He(s),He(u)));return d.forEach(function(g){g.addEventListener("scroll",h,{passive:!0})}),v.addEventListener("resize",h,{passive:!0}),n(),function(){d.forEach(function(g){g.removeEventListener("scroll",h),v.removeEventListener("resize",h)})}}},[r,t,e])}function si(r,t,e,n,a,i,o,s){var u=l.useRef(r);u.current=r,l.useEffect(function(){if(t&&n&&(!a||i)){var v=function(m){var f;u.current&&!o(((f=m.composedPath)===null||f===void 0||(f=f.call(m))===null||f===void 0?void 0:f[0])||m.target)&&s(!1)},d=Kt(n);d.addEventListener("mousedown",v,!0),d.addEventListener("contextmenu",v,!0);var h=Hr(e);return h&&(h.addEventListener("mousedown",v,!0),h.addEventListener("contextmenu",v,!0)),function(){d.removeEventListener("mousedown",v,!0),d.removeEventListener("contextmenu",v,!0),h&&(h.removeEventListener("mousedown",v,!0),h.removeEventListener("contextmenu",v,!0))}}},[t,e,n,a,i])}var ui=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function li(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cr,t=l.forwardRef(function(e,n){var a=e.prefixCls,i=a===void 0?"rc-trigger-popup":a,o=e.children,s=e.action,u=s===void 0?"hover":s,v=e.showAction,d=e.hideAction,h=e.popupVisible,g=e.defaultPopupVisible,m=e.onPopupVisibleChange,f=e.afterPopupVisibleChange,y=e.mouseEnterDelay,c=e.mouseLeaveDelay,w=c===void 0?.1:c,b=e.focusDelay,N=e.blurDelay,C=e.mask,E=e.maskClosable,S=E===void 0?!0:E,I=e.getPopupContainer,p=e.forceRender,F=e.autoDestroy,L=e.destroyPopupOnHide,O=e.popup,K=e.popupClassName,V=e.popupStyle,q=e.popupPlacement,B=e.builtinPlacements,G=B===void 0?{}:B,H=e.popupAlign,T=e.zIndex,A=e.stretch,_=e.getPopupClassNameFromAlign,Y=e.fresh,oe=e.alignPoint,re=e.onPopupClick,$=e.onPopupAlign,se=e.arrow,je=e.popupMotion,ve=e.maskMotion,j=e.popupTransitionName,Qe=e.popupAnimation,Ke=e.maskTransitionName,Je=e.maskAnimation,ye=e.className,Ae=e.getTriggerDOMNode,te=pt(e,ui),pe=F||L||!1,Le=l.useState(!1),_e=x(Le,2),de=_e[0],rt=_e[1];ae(function(){rt(ea())},[]);var we=l.useRef({}),he=l.useContext(cn),Dt=l.useMemo(function(){return{registerSubPopup:function(k,Z){we.current[k]=Z,he==null||he.registerSubPopup(k,Z)}}},[he]),U=Nn(),st=l.useState(null),Ie=x(st,2),le=Ie[0],Ee=Ie[1],Ce=l.useRef(null),yt=Oe(function(M){Ce.current=M,Vr(M)&&le!==M&&Ee(M),he==null||he.registerSubPopup(U,M)}),Ft=l.useState(null),ut=x(Ft,2),Se=ut[0],Ne=ut[1],ne=l.useRef(null),xt=Oe(function(M){Vr(M)&&Se!==M&&(Ne(M),ne.current=M)}),fe=l.Children.only(o),J=(fe==null?void 0:fe.props)||{},nt={},wr=Oe(function(M){var k,Z,ee=Se;return(ee==null?void 0:ee.contains(M))||((k=Hr(ee))===null||k===void 0?void 0:k.host)===M||M===ee||(le==null?void 0:le.contains(M))||((Z=Hr(le))===null||Z===void 0?void 0:Z.host)===M||M===le||Object.values(we.current).some(function(X){return(X==null?void 0:X.contains(M))||M===X})}),Zt=vn(i,je,Qe,j),Er=vn(i,ve,Je,Ke),Sr=l.useState(g||!1),qe=x(Sr,2),Me=qe[0],Lt=qe[1],me=h??Me,at=Oe(function(M){h===void 0&&Lt(M)});ae(function(){Lt(h||!1)},[h]);var W=l.useRef(me);W.current=me;var Q=l.useRef([]);Q.current=[];var Te=Oe(function(M){var k;at(M),((k=Q.current[Q.current.length-1])!==null&&k!==void 0?k:me)!==M&&(Q.current.push(M),m==null||m(M))}),lt=l.useRef(),_t=function(){clearTimeout(lt.current)},De=function(k){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_t(),Z===0?Te(k):lt.current=setTimeout(function(){Te(k)},Z*1e3)};l.useEffect(function(){return _t},[]);var Yt=l.useState(!1),Tt=x(Yt,2),it=Tt[0],Xt=Tt[1];ae(function(M){(!M||me)&&Xt(!0)},[me]);var Nr=l.useState(null),zt=x(Nr,2),Ct=zt[0],Ot=zt[1],ct=l.useState(null),ft=x(ct,2),Ze=ft[0],bt=ft[1],vt=function(k){bt([k.clientX,k.clientY])},er=ii(me,le,oe&&Ze!==null?Ze:Se,q,G,H,$),ce=x(er,11),tr=ce[0],Mr=ce[1],dt=ce[2],rr=ce[3],Rr=ce[4],nr=ce[5],ar=ce[6],ht=ce[7],ir=ce[8],wt=ce[9],Ye=ce[10],or=ri(de,u,v,d),sr=x(or,2),$e=sr[0],ze=sr[1],Et=$e.has("click"),St=ze.has("click")||ze.has("contextMenu"),Be=Oe(function(){it||Ye()}),Pr=function(){W.current&&oe&&St&&De(!1)};oi(me,Se,le,Be,Pr),ae(function(){Be()},[Ze,q]),ae(function(){me&&!(G!=null&&G[q])&&Be()},[JSON.stringify(H)]);var ur=l.useMemo(function(){var M=ai(G,i,wt,oe);return ge(M,_==null?void 0:_(wt))},[wt,_,G,i,oe]);l.useImperativeHandle(n,function(){return{nativeElement:ne.current,popupElement:Ce.current,forceAlign:Be}});var kr=l.useState(0),qt=x(kr,2),Ar=qt[0],pr=qt[1],Ir=l.useState(0),lr=x(Ir,2),Dr=lr[0],Fr=lr[1],cr=function(){if(A&&Se){var k=Se.getBoundingClientRect();pr(k.width),Fr(k.height)}},xr=function(){cr(),Be()},Lr=function(k){Xt(!1),Ye(),f==null||f(k)},$t=function(){return new Promise(function(k){cr(),Ot(function(){return k})})};ae(function(){Ct&&(Ye(),Ct(),Ot(null))},[Ct]);function Ve(M,k,Z,ee){nt[M]=function(X){var dr;ee==null||ee(X),De(k,Z);for(var Or=arguments.length,Yr=new Array(Or>1?Or-1:0),hr=1;hr<Or;hr++)Yr[hr-1]=arguments[hr];(dr=J[M])===null||dr===void 0||dr.call.apply(dr,[J,X].concat(Yr))}}(Et||St)&&(nt.onClick=function(M){var k;W.current&&St?De(!1):!W.current&&Et&&(vt(M),De(!0));for(var Z=arguments.length,ee=new Array(Z>1?Z-1:0),X=1;X<Z;X++)ee[X-1]=arguments[X];(k=J.onClick)===null||k===void 0||k.call.apply(k,[J,M].concat(ee))}),si(me,St,Se,le,C,S,wr,De);var _r=$e.has("hover"),Fe=ze.has("hover"),Nt,Bt;_r&&(Ve("onMouseEnter",!0,y,function(M){vt(M)}),Ve("onPointerEnter",!0,y,function(M){vt(M)}),Nt=function(k){(me||it)&&le!==null&&le!==void 0&&le.contains(k.target)&&De(!0,y)},oe&&(nt.onMouseMove=function(M){var k;(k=J.onMouseMove)===null||k===void 0||k.call(J,M)})),Fe&&(Ve("onMouseLeave",!1,w),Ve("onPointerLeave",!1,w),Bt=function(){De(!1,w)}),$e.has("focus")&&Ve("onFocus",!0,b),ze.has("focus")&&Ve("onBlur",!1,N),$e.has("contextMenu")&&(nt.onContextMenu=function(M){var k;W.current&&ze.has("contextMenu")?De(!1):(vt(M),De(!0)),M.preventDefault();for(var Z=arguments.length,ee=new Array(Z>1?Z-1:0),X=1;X<Z;X++)ee[X-1]=arguments[X];(k=J.onContextMenu)===null||k===void 0||k.call.apply(k,[J,M].concat(ee))}),ye&&(nt.className=ge(J.className,ye));var Xe=D(D({},J),nt),mt={},fr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];fr.forEach(function(M){te[M]&&(mt[M]=function(){for(var k,Z=arguments.length,ee=new Array(Z),X=0;X<Z;X++)ee[X]=arguments[X];(k=Xe[M])===null||k===void 0||k.call.apply(k,[Xe].concat(ee)),te[M].apply(te,ee)})});var vr=l.cloneElement(fe,D(D({},Xe),mt)),Tr={x:nr,y:ar},zr=se?D({},se!==!0?se:{}):null;return l.createElement(l.Fragment,null,l.createElement(Rn,{disabled:!me,ref:xt,onResize:xr},l.createElement(ti,{getTriggerDOMNode:Ae},vr)),l.createElement(cn.Provider,{value:Dt},l.createElement(ei,{portal:r,ref:yt,prefixCls:i,popup:O,className:ge(K,ur),style:V,target:Se,onMouseEnter:Nt,onMouseLeave:Bt,onPointerEnter:Nt,zIndex:T,open:me,keepDom:it,fresh:Y,onClick:re,mask:C,motion:Zt,maskMotion:Er,onVisibleChanged:Lr,onPrepare:$t,forceRender:p,autoDestroy:pe,getPopupContainer:I,align:wt,arrow:zr,arrowPos:Tr,ready:tr,offsetX:Mr,offsetY:dt,offsetR:rr,offsetB:Rr,onAlign:Be,stretch:A,targetWidth:Ar/ht,targetHeight:Dr/ir})))});return t}const ci=li(Cr);function Qr(){return typeof BigInt=="function"}function _n(r){return!r&&r!==0&&!Number.isNaN(r)||!String(r).trim()}function Gt(r){var t=r.trim(),e=t.startsWith("-");e&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var n=t||"0",a=n.split("."),i=a[0]||"0",o=a[1]||"0";i==="0"&&o==="0"&&(e=!1);var s=e?"-":"";return{negative:e,negativeStr:s,trimStr:n,integerStr:i,decimalStr:o,fullStr:"".concat(s).concat(n)}}function Zr(r){var t=String(r);return!Number.isNaN(Number(t))&&t.includes("e")}function Ut(r){var t=String(r);if(Zr(r)){var e=Number(t.slice(t.indexOf("e-")+2)),n=t.match(/\.(\d+)/);return n!=null&&n[1]&&(e+=n[1].length),e}return t.includes(".")&&zn(t)?t.length-t.indexOf(".")-1:0}function Tn(r){var t=String(r);if(Zr(r)){if(r>Number.MAX_SAFE_INTEGER)return String(Qr()?BigInt(r).toString():Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return String(Qr()?BigInt(r).toString():Number.MIN_SAFE_INTEGER);t=r.toFixed(Ut(t))}return Gt(t).fullStr}function zn(r){return typeof r=="number"?!Number.isNaN(r):r?/^\s*-?\d+(\.\d+)?\s*$/.test(r)||/^\s*-?\d+\.\s*$/.test(r)||/^\s*-?\.\d+\s*$/.test(r):!1}var fi=function(){function r(t){if(We(this,r),R(this,"origin",""),R(this,"negative",void 0),R(this,"integer",void 0),R(this,"decimal",void 0),R(this,"decimalLen",void 0),R(this,"empty",void 0),R(this,"nan",void 0),_n(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var e=t;if(Zr(e)&&(e=Number(e)),e=typeof e=="string"?e:Tn(e),zn(e)){var n=Gt(e);this.negative=n.negative;var a=n.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return Ge(r,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(n)}},{key:"negate",value:function(){var e=new r(this.toString());return e.negative=!e.negative,e}},{key:"cal",value:function(e,n,a){var i=Math.max(this.getDecimalStr().length,e.getDecimalStr().length),o=this.alignDecimal(i),s=e.alignDecimal(i),u=n(o,s).toString(),v=a(i),d=Gt(u),h=d.negativeStr,g=d.trimStr,m="".concat(h).concat(g.padStart(v+1,"0"));return new r("".concat(m.slice(0,-v),".").concat(m.slice(-v)))}},{key:"add",value:function(e){if(this.isInvalidate())return new r(e);var n=new r(e);return n.isInvalidate()?this:this.cal(n,function(a,i){return a+i},function(a){return a})}},{key:"multi",value:function(e){var n=new r(e);return this.isInvalidate()||n.isInvalidate()?new r(NaN):this.cal(n,function(a,i){return a*i},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(e==null?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e?this.isInvalidate()?"":Gt("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),r}(),vi=function(){function r(t){if(We(this,r),R(this,"origin",""),R(this,"number",void 0),R(this,"empty",void 0),_n(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return Ge(r,[{key:"negate",value:function(){return new r(-this.toNumber())}},{key:"add",value:function(e){if(this.isInvalidate())return new r(e);var n=Number(e);if(Number.isNaN(n))return this;var a=this.number+n;if(a>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(Ut(this.number),Ut(n));return new r(a.toFixed(i))}},{key:"multi",value:function(e){var n=Number(e);if(this.isInvalidate()||Number.isNaN(n))return new r(NaN);var a=this.number*n;if(a>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(Ut(this.number),Ut(n));return new r(a.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(e==null?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e?this.isInvalidate()?"":Tn(this.number):this.origin}}]),r}();function di(r){return Qr()?new fi(r):new vi(r)}function hi(r,t,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(r==="")return"";var a=Gt(r),i=a.negativeStr,o=a.integerStr,s=a.decimalStr,u="".concat(t).concat(s),v="".concat(i).concat(o);if(e>=0){var d=Number(s[e]);if(d>=5&&!n){var h=di(r).add("".concat(i,"0.").concat("0".repeat(e)).concat(10-d));return hi(h.toString(),t,e,n)}return e===0?v:"".concat(v).concat(t).concat(s.padEnd(e,"0").slice(0,e))}return u===".0"?v:"".concat(v).concat(u)}var It,Jt;function be(r,t,e){if(t<0||t>31||r>>>t)throw new RangeError("Value out of range");for(var n=t-1;n>=0;n--)e.push(r>>>n&1)}function et(r,t){return(r>>>t&1)!=0}function Re(r){if(!r)throw new Error("Assertion error")}var Ue=function(){function r(t,e){We(this,r),R(this,"modeBits",void 0),R(this,"numBitsCharCount",void 0),this.modeBits=t,this.numBitsCharCount=e}return Ge(r,[{key:"numCharCountBits",value:function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}]),r}();It=Ue;R(Ue,"NUMERIC",new It(1,[10,12,14]));R(Ue,"ALPHANUMERIC",new It(2,[9,11,13]));R(Ue,"BYTE",new It(4,[8,16,16]));R(Ue,"KANJI",new It(8,[8,10,12]));R(Ue,"ECI",new It(7,[0,0,0]));var xe=Ge(function r(t,e){We(this,r),R(this,"ordinal",void 0),R(this,"formatBits",void 0),this.ordinal=t,this.formatBits=e});Jt=xe;R(xe,"LOW",new Jt(0,1));R(xe,"MEDIUM",new Jt(1,0));R(xe,"QUARTILE",new Jt(2,3));R(xe,"HIGH",new Jt(3,2));var gt=function(){function r(t,e,n){if(We(this,r),R(this,"mode",void 0),R(this,"numChars",void 0),R(this,"bitData",void 0),this.mode=t,this.numChars=e,this.bitData=n,e<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}return Ge(r,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(e){var n=[],a=Pt(e),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;be(o,8,n)}}catch(s){a.e(s)}finally{a.f()}return new r(Ue.BYTE,e.length,n)}},{key:"makeNumeric",value:function(e){if(!r.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var n=[],a=0;a<e.length;){var i=Math.min(e.length-a,3);be(parseInt(e.substring(a,a+i),10),i*3+1,n),a+=i}return new r(Ue.NUMERIC,e.length,n)}},{key:"makeAlphanumeric",value:function(e){if(!r.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var n=[],a;for(a=0;a+2<=e.length;a+=2){var i=r.ALPHANUMERIC_CHARSET.indexOf(e.charAt(a))*45;i+=r.ALPHANUMERIC_CHARSET.indexOf(e.charAt(a+1)),be(i,11,n)}return a<e.length&&be(r.ALPHANUMERIC_CHARSET.indexOf(e.charAt(a)),6,n),new r(Ue.ALPHANUMERIC,e.length,n)}},{key:"makeSegments",value:function(e){return e==""?[]:r.isNumeric(e)?[r.makeNumeric(e)]:r.isAlphanumeric(e)?[r.makeAlphanumeric(e)]:[r.makeBytes(r.toUtf8ByteArray(e))]}},{key:"makeEci",value:function(e){var n=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)be(e,8,n);else if(e<16384)be(2,2,n),be(e,14,n);else if(e<1e6)be(6,3,n),be(e,21,n);else throw new RangeError("ECI assignment value out of range");return new r(Ue.ECI,0,n)}},{key:"isNumeric",value:function(e){return r.NUMERIC_REGEX.test(e)}},{key:"isAlphanumeric",value:function(e){return r.ALPHANUMERIC_REGEX.test(e)}},{key:"getTotalBits",value:function(e,n){var a=0,i=Pt(e),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,u=s.mode.numCharCountBits(n);if(s.numChars>=1<<u)return 1/0;a+=4+u+s.bitData.length}}catch(v){i.e(v)}finally{i.f()}return a}},{key:"toUtf8ByteArray",value:function(e){for(var n=encodeURI(e),a=[],i=0;i<n.length;i++)n.charAt(i)!="%"?a.push(n.charCodeAt(i)):(a.push(parseInt(n.substring(i+1,i+3),16)),i+=2);return a}}]),r}();R(gt,"NUMERIC_REGEX",/^[0-9]*$/);R(gt,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/);R(gt,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var tt=function(){function r(t,e,n,a){We(this,r),R(this,"size",void 0),R(this,"mask",void 0),R(this,"modules",[]),R(this,"isFunction",[]),R(this,"version",void 0),R(this,"errorCorrectionLevel",void 0);var i=a;if(this.version=t,this.errorCorrectionLevel=e,t<r.MIN_VERSION||t>r.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=t*4+17;for(var o=[],s=0;s<this.size;s++)o.push(!1);for(var u=0;u<this.size;u++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();var v=this.addEccAndInterleave(n);if(this.drawCodewords(v),i==-1)for(var d=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var g=this.getPenaltyScore();g<d&&(i=h,d=g),this.applyMask(h)}Re(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}return Ge(r,[{key:"getModule",value:function(e,n){return 0<=e&&e<this.size&&0<=n&&n<this.size&&this.modules[n][e]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var n=this.getAlignmentPatternPositions(),a=n.length,i=0;i<a;i++)for(var o=0;o<a;o++)i==0&&o==0||i==0&&o==a-1||i==a-1&&o==0||this.drawAlignmentPattern(n[i],n[o]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(e){for(var n=this.errorCorrectionLevel.formatBits<<3|e,a=n,i=0;i<10;i++)a=a<<1^(a>>>9)*1335;var o=(n<<10|a)^21522;Re(o>>>15==0);for(var s=0;s<=5;s++)this.setFunctionModule(8,s,et(o,s));this.setFunctionModule(8,7,et(o,6)),this.setFunctionModule(8,8,et(o,7)),this.setFunctionModule(7,8,et(o,8));for(var u=9;u<15;u++)this.setFunctionModule(14-u,8,et(o,u));for(var v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,et(o,v));for(var d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,et(o,d));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var e=this.version,n=0;n<12;n++)e=e<<1^(e>>>11)*7973;var a=this.version<<12|e;Re(a>>>18==0);for(var i=0;i<18;i++){var o=et(a,i),s=this.size-11+i%3,u=Math.floor(i/3);this.setFunctionModule(s,u,o),this.setFunctionModule(u,s,o)}}}},{key:"drawFinderPattern",value:function(e,n){for(var a=-4;a<=4;a++)for(var i=-4;i<=4;i++){var o=Math.max(Math.abs(i),Math.abs(a)),s=e+i,u=n+a;0<=s&&s<this.size&&0<=u&&u<this.size&&this.setFunctionModule(s,u,o!=2&&o!=4)}}},{key:"drawAlignmentPattern",value:function(e,n){for(var a=-2;a<=2;a++)for(var i=-2;i<=2;i++)this.setFunctionModule(e+i,n+a,Math.max(Math.abs(i),Math.abs(a))!=1)}},{key:"setFunctionModule",value:function(e,n,a){this.modules[n][e]=a,this.isFunction[n][e]=!0}},{key:"addEccAndInterleave",value:function(e){var n=this.version,a=this.errorCorrectionLevel;if(e.length!=r.getNumDataCodewords(n,a))throw new RangeError("Invalid argument");for(var i=r.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][n],o=r.ECC_CODEWORDS_PER_BLOCK[a.ordinal][n],s=Math.floor(r.getNumRawDataModules(n)/8),u=i-s%i,v=Math.floor(s/i),d=[],h=r.reedSolomonComputeDivisor(o),g=0,m=0;g<i;g++){var f=e.slice(m,m+v-o+(g<u?0:1));m+=f.length;var y=r.reedSolomonComputeRemainder(f,h);g<u&&f.push(0),d.push(f.concat(y))}for(var c=[],w=function(C){d.forEach(function(E,S){(C!=v-o||S>=u)&&c.push(E[C])})},b=0;b<d[0].length;b++)w(b);return Re(c.length==s),c}},{key:"drawCodewords",value:function(e){if(e.length!=Math.floor(r.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var n=0,a=this.size-1;a>=1;a-=2){a==6&&(a=5);for(var i=0;i<this.size;i++)for(var o=0;o<2;o++){var s=a-o,u=(a+1&2)==0,v=u?this.size-1-i:i;!this.isFunction[v][s]&&n<e.length*8&&(this.modules[v][s]=et(e[n>>>3],7-(n&7)),n++)}}Re(n==e.length*8)}},{key:"applyMask",value:function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var n=0;n<this.size;n++)for(var a=0;a<this.size;a++){var i=void 0;switch(e){case 0:i=(a+n)%2==0;break;case 1:i=n%2==0;break;case 2:i=a%3==0;break;case 3:i=(a+n)%3==0;break;case 4:i=(Math.floor(a/3)+Math.floor(n/2))%2==0;break;case 5:i=a*n%2+a*n%3==0;break;case 6:i=(a*n%2+a*n%3)%2==0;break;case 7:i=((a+n)%2+a*n%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[n][a]&&i&&(this.modules[n][a]=!this.modules[n][a])}}},{key:"getPenaltyScore",value:function(){for(var e=0,n=0;n<this.size;n++){for(var a=!1,i=0,o=[0,0,0,0,0,0,0],s=0;s<this.size;s++)this.modules[n][s]==a?(i++,i==5?e+=r.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,o),a||(e+=this.finderPenaltyCountPatterns(o)*r.PENALTY_N3),a=this.modules[n][s],i=1);e+=this.finderPenaltyTerminateAndCount(a,i,o)*r.PENALTY_N3}for(var u=0;u<this.size;u++){for(var v=!1,d=0,h=[0,0,0,0,0,0,0],g=0;g<this.size;g++)this.modules[g][u]==v?(d++,d==5?e+=r.PENALTY_N1:d>5&&e++):(this.finderPenaltyAddHistory(d,h),v||(e+=this.finderPenaltyCountPatterns(h)*r.PENALTY_N3),v=this.modules[g][u],d=1);e+=this.finderPenaltyTerminateAndCount(v,d,h)*r.PENALTY_N3}for(var m=0;m<this.size-1;m++)for(var f=0;f<this.size-1;f++){var y=this.modules[m][f];y==this.modules[m][f+1]&&y==this.modules[m+1][f]&&y==this.modules[m+1][f+1]&&(e+=r.PENALTY_N2)}var c=0,w=Pt(this.modules),b;try{for(w.s();!(b=w.n()).done;){var N=b.value;c=N.reduce(function(S,I){return S+(I?1:0)},c)}}catch(S){w.e(S)}finally{w.f()}var C=this.size*this.size,E=Math.ceil(Math.abs(c*20-C*10)/C)-1;return Re(0<=E&&E<=9),e+=E*r.PENALTY_N4,Re(0<=e&&e<=2568888),e}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var e=Math.floor(this.version/7)+2,n=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,a=[6],i=this.size-7;a.length<e;i-=n)a.splice(1,0,i);return a}},{key:"finderPenaltyCountPatterns",value:function(e){var n=e[1];Re(n<=this.size*3);var a=n>0&&e[2]==n&&e[3]==n*3&&e[4]==n&&e[5]==n;return(a&&e[0]>=n*4&&e[6]>=n?1:0)+(a&&e[6]>=n*4&&e[0]>=n?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(e,n,a){var i=n;return e&&(this.finderPenaltyAddHistory(i,a),i=0),i+=this.size,this.finderPenaltyAddHistory(i,a),this.finderPenaltyCountPatterns(a)}},{key:"finderPenaltyAddHistory",value:function(e,n){var a=e;n[0]==0&&(a+=this.size),n.pop(),n.unshift(a)}}],[{key:"encodeText",value:function(e,n){var a=gt.makeSegments(e);return r.encodeSegments(a,n)}},{key:"encodeBinary",value:function(e,n){var a=gt.makeBytes(e);return r.encodeSegments([a],n)}},{key:"encodeSegments",value:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(r.MIN_VERSION<=a&&a<=i&&i<=r.MAX_VERSION)||o<-1||o>7)throw new RangeError("Invalid value");var u,v;for(u=a;;u++){var d=r.getNumDataCodewords(u,n)*8,h=gt.getTotalBits(e,u);if(h<=d){v=h;break}if(u>=i)throw new RangeError("Data too long")}for(var g=n,m=0,f=[xe.MEDIUM,xe.QUARTILE,xe.HIGH];m<f.length;m++){var y=f[m];s&&v<=r.getNumDataCodewords(u,y)*8&&(g=y)}var c=[],w=Pt(e),b;try{for(w.s();!(b=w.n()).done;){var N=b.value;be(N.mode.modeBits,4,c),be(N.numChars,N.mode.numCharCountBits(u),c);var C=Pt(N.getData()),E;try{for(C.s();!(E=C.n()).done;){var S=E.value;c.push(S)}}catch(L){C.e(L)}finally{C.f()}}}catch(L){w.e(L)}finally{w.f()}Re(c.length==v);var I=r.getNumDataCodewords(u,g)*8;Re(c.length<=I),be(0,Math.min(4,I-c.length),c),be(0,(8-c.length%8)%8,c),Re(c.length%8==0);for(var p=236;c.length<I;p^=253)be(p,8,c);for(var F=[];F.length*8<c.length;)F.push(0);return c.forEach(function(L,O){return F[O>>>3]|=L<<7-(O&7)}),new r(u,g,F,o)}},{key:"getNumRawDataModules",value:function(e){if(e<r.MIN_VERSION||e>r.MAX_VERSION)throw new RangeError("Version number out of range");var n=(16*e+128)*e+64;if(e>=2){var a=Math.floor(e/7)+2;n-=(25*a-10)*a-55,e>=7&&(n-=36)}return Re(208<=n&&n<=29648),n}},{key:"getNumDataCodewords",value:function(e,n){return Math.floor(r.getNumRawDataModules(e)/8)-r.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*r.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}},{key:"reedSolomonComputeDivisor",value:function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var n=[],a=0;a<e-1;a++)n.push(0);n.push(1);for(var i=1,o=0;o<e;o++){for(var s=0;s<n.length;s++)n[s]=r.reedSolomonMultiply(n[s],i),s+1<n.length&&(n[s]^=n[s+1]);i=r.reedSolomonMultiply(i,2)}return n}},{key:"reedSolomonComputeRemainder",value:function(e,n){var a=n.map(function(){return 0}),i=Pt(e),o;try{var s=function(){var v=o.value,d=v^a.shift();a.push(0),n.forEach(function(h,g){return a[g]^=r.reedSolomonMultiply(h,d)})};for(i.s();!(o=i.n()).done;)s()}catch(u){i.e(u)}finally{i.f()}return a}},{key:"reedSolomonMultiply",value:function(e,n){if(e>>>8||n>>>8)throw new RangeError("Byte out of range");for(var a=0,i=7;i>=0;i--)a=a<<1^(a>>>7)*285,a^=(n>>>i&1)*e;return Re(a>>>8==0),a}}]),r}();R(tt,"MIN_VERSION",1);R(tt,"MAX_VERSION",40);R(tt,"PENALTY_N1",3);R(tt,"PENALTY_N2",3);R(tt,"PENALTY_N3",40);R(tt,"PENALTY_N4",10);R(tt,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]);R(tt,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var mi={L:xe.LOW,M:xe.MEDIUM,Q:xe.QUARTILE,H:xe.HIGH},On=128,qn="L",$n="#FFFFFF",Bn="#000000",Vn=!1,Hn=1,gi=4,yi=0,Ci=.1;function Un(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=[];return r.forEach(function(n,a){var i=null;n.forEach(function(o,s){if(!o&&i!==null){e.push("M".concat(i+t," ").concat(a+t,"h").concat(s-i,"v1H").concat(i+t,"z")),i=null;return}if(s===n.length-1){if(!o)return;i===null?e.push("M".concat(s+t,",").concat(a+t," h1v1H").concat(s+t,"z")):e.push("M".concat(i+t,",").concat(a+t," h").concat(s+1-i,"v1H").concat(i+t,"z"));return}o&&i===null&&(i=s)})}),e.join("")}function Wn(r,t){return r.slice().map(function(e,n){return n<t.y||n>=t.y+t.h?e:e.map(function(a,i){return i<t.x||i>=t.x+t.w?a:!1})})}function bi(r,t,e,n){if(n==null)return null;var a=r.length+e*2,i=Math.floor(t*Ci),o=a/t,s=(n.width||i)*o,u=(n.height||i)*o,v=n.x==null?r.length/2-s/2:n.x*o,d=n.y==null?r.length/2-u/2:n.y*o,h=n.opacity==null?1:n.opacity,g=null;if(n.excavate){var m=Math.floor(v),f=Math.floor(d),y=Math.ceil(s+v-m),c=Math.ceil(u+d-f);g={x:m,y:f,w:y,h:c}}var w=n.crossOrigin;return{x:v,y:d,h:u,w:s,excavation:g,opacity:h,crossOrigin:w}}function wi(r,t){return t!=null?Math.floor(t):r?gi:yi}var Ei=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Gn(r){var t=r.value,e=r.level,n=r.minVersion,a=r.includeMargin,i=r.marginSize,o=r.imageSettings,s=r.size,u=l.useMemo(function(){var f=gt.makeSegments(t);return tt.encodeSegments(f,mi[e],n)},[t,e,n]),v=l.useMemo(function(){var f=u.getModules(),y=wi(a,i),c=f.length+y*2,w=bi(f,s,y,o);return{cells:f,margin:y,numCells:c,calculatedImageSettings:w}},[u,s,o,a,i]),d=v.cells,h=v.margin,g=v.numCells,m=v.calculatedImageSettings;return{qrcode:u,margin:h,cells:d,numCells:g,calculatedImageSettings:m}}var Si=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"],Ni=P.forwardRef(function(t,e){var n=t.value,a=t.size,i=a===void 0?On:a,o=t.level,s=o===void 0?qn:o,u=t.bgColor,v=u===void 0?$n:u,d=t.fgColor,h=d===void 0?Bn:d,g=t.includeMargin,m=g===void 0?Vn:g,f=t.minVersion,y=f===void 0?Hn:f,c=t.marginSize,w=t.style,b=t.imageSettings,N=pt(t,Si),C=b==null?void 0:b.src,E=l.useRef(null),S=l.useRef(null),I=l.useCallback(function(T){E.current=T,typeof e=="function"?e(T):e&&(e.current=T)},[e]),p=l.useState(!1),F=x(p,2),L=F[1],O=Gn({value:n,level:s,minVersion:y,includeMargin:m,marginSize:c,imageSettings:b,size:i}),K=O.margin,V=O.cells,q=O.numCells,B=O.calculatedImageSettings;l.useEffect(function(){if(E.current!=null){var T=E.current,A=T.getContext("2d");if(!A)return;var _=V,Y=S.current,oe=B!=null&&Y!==null&&Y.complete&&Y.naturalHeight!==0&&Y.naturalWidth!==0;oe&&B.excavation!=null&&(_=Wn(V,B.excavation));var re=window.devicePixelRatio||1;T.height=T.width=i*re;var $=i/q*re;A.scale($,$),A.fillStyle=v,A.fillRect(0,0,q,q),A.fillStyle=h,Ei?A.fill(new Path2D(Un(_,K))):V.forEach(function(se,je){se.forEach(function(ve,j){ve&&A.fillRect(j+K,je+K,1,1)})}),B&&(A.globalAlpha=B.opacity),oe&&A.drawImage(Y,B.x+K,B.y+K,B.w,B.h)}}),l.useEffect(function(){L(!1)},[C]);var G=D({height:i,width:i},w),H=null;return C!=null&&(H=P.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:function(){L(!0)},ref:S,crossOrigin:B==null?void 0:B.crossOrigin})),P.createElement(P.Fragment,null,P.createElement("canvas",ue({style:G,height:i,width:i,ref:I,role:"img"},N)),H)});Ni.displayName="QRCodeCanvas";var Mi=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"],Ri=P.forwardRef(function(t,e){var n=t.value,a=t.size,i=a===void 0?On:a,o=t.level,s=o===void 0?qn:o,u=t.bgColor,v=u===void 0?$n:u,d=t.fgColor,h=d===void 0?Bn:d,g=t.includeMargin,m=g===void 0?Vn:g,f=t.minVersion,y=f===void 0?Hn:f,c=t.title,w=t.marginSize,b=t.imageSettings,N=pt(t,Mi),C=Gn({value:n,level:s,minVersion:y,includeMargin:m,marginSize:w,imageSettings:b,size:i}),E=C.margin,S=C.cells,I=C.numCells,p=C.calculatedImageSettings,F=S,L=null;b!=null&&p!=null&&(p.excavation!=null&&(F=Wn(S,p.excavation)),L=P.createElement("image",{href:b.src,height:p.h,width:p.w,x:p.x+E,y:p.y+E,preserveAspectRatio:"none",opacity:p.opacity,crossOrigin:p.crossOrigin}));var O=Un(F,E);return P.createElement("svg",ue({height:i,width:i,viewBox:"0 0 ".concat(I," ").concat(I),ref:e,role:"img"},N),!!c&&P.createElement("title",null,c),P.createElement("path",{fill:v,d:"M0,0 h".concat(I,"v").concat(I,"H0z"),shapeRendering:"crispEdges"}),P.createElement("path",{fill:h,d:O,shapeRendering:"crispEdges"}),L)});Ri.displayName="QRCodeSVG";function ji(r){var t=l.createContext(void 0),e=function(a){var i=a.value,o=a.children,s=l.useRef(i);s.current=i;var u=l.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),v=x(u,1),d=v[0];return ae(function(){Mn.unstable_batchedUpdates(function(){d.listeners.forEach(function(h){h(i)})})},[i]),l.createElement(t.Provider,{value:d},o)};return{Context:t,Provider:e,defaultValue:r}}function Qi(r,t){var e=Oe(typeof t=="function"?t:function(h){if(t===void 0)return h;if(!Array.isArray(t))return h[t];var g={};return t.forEach(function(m){g[m]=h[m]}),g}),n=l.useContext(r==null?void 0:r.Context),a=n||{},i=a.listeners,o=a.getValue,s=l.useRef();s.current=e(n?o():r==null?void 0:r.defaultValue);var u=l.useState({}),v=x(u,2),d=v[1];return ae(function(){if(!n)return;function h(g){var m=e(g);ta(s.current,m,!0)||d({})}return i.add(h),function(){i.delete(h)}},[n]),s.current}function Ki(){var r=l.createContext(null);function t(){return l.useContext(r)}function e(a,i){var o=yr(a),s=function(v,d){var h=o?{ref:d}:{},g=l.useRef(0),m=l.useRef(v),f=t();return f!==null?l.createElement(a,ue({},v,h)):((!i||i(m.current,v))&&(g.current+=1),m.current=v,l.createElement(r.Provider,{value:g.current},l.createElement(a,ue({},v,h))))};return o?l.forwardRef(s):s}function n(a,i){var o=yr(a),s=function(v,d){var h=o?{ref:d}:{};return t(),l.createElement(a,ue({},v,h))};return o?l.memo(l.forwardRef(s),i):l.memo(s,i)}return{makeImmutable:e,responseImmutable:n,useImmutableMark:t}}function yn(r){return r!==null&&Pe(r)==="object"}function Cn(r,t,e){if(r===!1||t===!1&&(!yn(r)||!r.closeIcon))return null;var n=typeof t!="boolean"?t:void 0;if(yn(r)){var a;return D(D({},r),{},{closeIcon:(a=r.closeIcon)!==null&&a!==void 0?a:n})}return e||r||t?{closeIcon:n}:"empty"}function Pi(r,t,e,n){return l.useMemo(function(){var a=Cn(r,t,!1),i=Cn(e,n,!0);return a!=="empty"?a:i},[e,n,r,t])}function ki(r){var t=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,n=r.getBoundingClientRect(),a=n.top,i=n.right,o=n.bottom,s=n.left;return a>=0&&s>=0&&i<=t&&o<=e}function Ai(r,t,e){var n;return(n=e??t)!==null&&n!==void 0?n:r===null?"center":"bottom"}function pi(r){return typeof r=="number"&&!Number.isNaN(r)}function Ii(r,t,e,n){var a=l.useState(void 0),i=x(a,2),o=i[0],s=i[1];ae(function(){var y=typeof r=="function"?r():r;s(y||null)});var u=l.useState(null),v=x(u,2),d=v[0],h=v[1],g=Oe(function(){if(o){!ki(o)&&t&&o.scrollIntoView(n);var y=o.getBoundingClientRect(),c=y.left,w=y.top,b=y.width,N=y.height,C={left:c,top:w,width:b,height:N,radius:0};h(function(E){return JSON.stringify(E)!==JSON.stringify(C)?C:E})}else h(null)}),m=function(c){var w;return(w=Array.isArray(e==null?void 0:e.offset)?e==null?void 0:e.offset[c]:e==null?void 0:e.offset)!==null&&w!==void 0?w:6};ae(function(){return g(),window.addEventListener("resize",g),function(){window.removeEventListener("resize",g)}},[o,t,g]);var f=l.useMemo(function(){if(!d)return d;var y=m(0),c=m(1),w=pi(e==null?void 0:e.radius)?e==null?void 0:e.radius:2;return{left:d.left-y,top:d.top-c,width:d.width+y*2,height:d.height+c*2,radius:w}},[d,e]);return[f,o]}var gr={fill:"transparent",pointerEvents:"auto"},Di=function(t){var e=t.prefixCls,n=t.rootClassName,a=t.pos,i=t.showMask,o=t.style,s=o===void 0?{}:o,u=t.fill,v=u===void 0?"rgba(0,0,0,0.5)":u,d=t.open,h=t.animated,g=t.zIndex,m=t.disabledInteraction,f=Nn(),y="".concat(e,"-mask-").concat(f),c=Pe(h)==="object"?h==null?void 0:h.placeholder:h,w=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),b=w?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return P.createElement(Cr,{open:d,autoLock:!0},P.createElement("div",{className:ge("".concat(e,"-mask"),n),style:D({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:g,pointerEvents:a&&!m?"none":"auto"},s)},i?P.createElement("svg",{style:{width:"100%",height:"100%"}},P.createElement("defs",null,P.createElement("mask",{id:y},P.createElement("rect",ue({x:"0",y:"0"},b,{fill:"white"})),a&&P.createElement("rect",{x:a.left,y:a.top,rx:a.radius,width:a.width,height:a.height,fill:"black",className:c?"".concat(e,"-placeholder-animated"):""}))),P.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:v,mask:"url(#".concat(y,")")}),a&&P.createElement(P.Fragment,null,P.createElement("rect",ue({},gr,{x:"0",y:"0",width:"100%",height:a.top})),P.createElement("rect",ue({},gr,{x:"0",y:"0",width:a.left,height:"100%"})),P.createElement("rect",ue({},gr,{x:"0",y:a.top+a.height,width:"100%",height:"calc(100vh - ".concat(a.top+a.height,"px)")})),P.createElement("rect",ue({},gr,{x:a.left+a.width,y:"0",width:"calc(100vw - ".concat(a.left+a.width,"px)"),height:"100%"})))):null))},Fi=[0,0],bn={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function jn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t={};return Object.keys(bn).forEach(function(e){t[e]=D(D({},bn[e]),{},{autoArrow:r,targetOffset:Fi})}),t}jn();function xi(r){var t,e=r.prefixCls,n=r.current,a=r.total,i=r.title,o=r.description,s=r.onClose,u=r.onPrev,v=r.onNext,d=r.onFinish,h=r.className,g=r.closable,m=ra(g||{},!0),f=(t=g==null?void 0:g.closeIcon)!==null&&t!==void 0?t:l.createElement("span",{className:"".concat(e,"-close-x")},""),y=!!g;return l.createElement("div",{className:ge("".concat(e,"-content"),h)},l.createElement("div",{className:"".concat(e,"-inner")},y&&l.createElement("button",ue({type:"button",onClick:s,"aria-label":"Close"},m,{className:"".concat(e,"-close")}),f),l.createElement("div",{className:"".concat(e,"-header")},l.createElement("div",{className:"".concat(e,"-title")},i)),l.createElement("div",{className:"".concat(e,"-description")},o),l.createElement("div",{className:"".concat(e,"-footer")},l.createElement("div",{className:"".concat(e,"-sliders")},a>1?He(Array.from({length:a}).keys()).map(function(c,w){return l.createElement("span",{key:c,className:w===n?"active":""})}):null),l.createElement("div",{className:"".concat(e,"-buttons")},n!==0?l.createElement("button",{className:"".concat(e,"-prev-btn"),onClick:u},"Prev"):null,n===a-1?l.createElement("button",{className:"".concat(e,"-finish-btn"),onClick:d},"Finish"):l.createElement("button",{className:"".concat(e,"-next-btn"),onClick:v},"Next")))))}var Li=function(t){var e=t.current,n=t.renderPanel;return l.createElement(l.Fragment,null,typeof n=="function"?n(t,e):l.createElement(xi,t))},_i=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],Ti={left:"50%",top:"50%",width:1,height:1},wn={block:"center",inline:"center"},Ji=function(t){var e=t.prefixCls,n=e===void 0?"rc-tour":e,a=t.steps,i=a===void 0?[]:a,o=t.defaultCurrent,s=t.current,u=t.onChange,v=t.onClose,d=t.onFinish,h=t.open,g=t.mask,m=g===void 0?!0:g,f=t.arrow,y=f===void 0?!0:f,c=t.rootClassName,w=t.placement,b=t.renderPanel,N=t.gap,C=t.animated,E=t.scrollIntoViewOptions,S=E===void 0?wn:E,I=t.zIndex,p=I===void 0?1001:I,F=t.closeIcon,L=t.closable,O=t.builtinPlacements,K=t.disabledInteraction,V=pt(t,_i),q=l.useRef(),B=Br(0,{value:s,defaultValue:o}),G=x(B,2),H=G[0],T=G[1],A=Br(void 0,{value:h,postState:function(J){return H<0||H>=i.length?!1:J??!0}}),_=x(A,2),Y=_[0],oe=_[1],re=l.useState(Y),$=x(re,2),se=$[0],je=$[1],ve=l.useRef(Y);ae(function(){Y&&(ve.current||T(0),je(!0)),ve.current=Y},[Y]);var j=i[H]||{},Qe=j.target,Ke=j.placement,Je=j.style,ye=j.arrow,Ae=j.className,te=j.mask,pe=j.scrollIntoViewOptions,Le=pe===void 0?wn:pe,_e=j.closeIcon,de=j.closable,rt=Pi(de,_e,L,F),we=Y&&(te??m),he=Le??S,Dt=Ii(Qe,h,N,he),U=x(Dt,2),st=U[0],Ie=U[1],le=Ai(Ie,w,Ke),Ee=Ie?typeof ye>"u"?y:ye:!1,Ce=Pe(Ee)==="object"?Ee.pointAtCenter:!1;ae(function(){var fe;(fe=q.current)===null||fe===void 0||fe.forceAlign()},[Ce,H]);var yt=function(J){T(J),u==null||u(J)},Ft=l.useMemo(function(){return O?typeof O=="function"?O({arrowPointAtCenter:Ce}):O:jn(Ce)},[O,Ce]);if(Ie===void 0||!se)return null;var ut=function(){oe(!1),v==null||v(H)},Se=function(){return l.createElement(Li,ue({arrow:Ee,key:"content",prefixCls:n,total:i.length,renderPanel:b,onPrev:function(){yt(H-1)},onNext:function(){yt(H+1)},onClose:ut,current:H,onFinish:function(){ut(),d==null||d()}},i[H],{closable:rt}))},Ne=typeof we=="boolean"?we:!!we,ne=typeof we=="boolean"?void 0:we,xt=function(J){return J||Ie||document.body};return l.createElement(l.Fragment,null,l.createElement(Di,{zIndex:p,prefixCls:n,pos:st,showMask:Ne,style:ne==null?void 0:ne.style,fill:ne==null?void 0:ne.color,open:Y,animated:C,rootClassName:c,disabledInteraction:K}),l.createElement(ci,ue({},V,{builtinPlacements:Ft,ref:q,popupStyle:Je,popupPlacement:le,popupVisible:Y,popupClassName:ge(c,Ae),prefixCls:n,popup:Se,forceRender:!1,destroyPopupOnHide:!0,zIndex:p,getTriggerDOMNode:xt,arrow:!!Ee}),l.createElement(Cr,{open:Y,autoLock:!0},l.createElement("div",{className:ge(c,"".concat(n,"-target-placeholder")),style:D(D({},st||Ti),{},{position:"fixed",pointerEvents:"none"})}))))};P.Component;var zi={subtree:!0,childList:!0,attributeFilter:["style","class"]};function Zi(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zi;l.useEffect(function(){if(!(!jt()||!r)){var n,a=Array.isArray(r)?r:[r];return"MutationObserver"in window&&(n=new MutationObserver(t),a.forEach(function(i){n.observe(i,e)})),function(){var i,o;(i=n)===null||i===void 0||i.takeRecords(),(o=n)===null||o===void 0||o.disconnect()}}},[e,r])}export{At as C,Cr as P,Ni as Q,br as S,Ji as T,ua as a,Gi as b,Ri as c,ci as d,Ut as e,hi as f,di as g,Ki as h,ji as i,Qi as j,Tn as n,Gt as t,Zi as u,zn as v};
