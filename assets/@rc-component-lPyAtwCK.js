import{c as k,f as Qt,g as re,e as L,h as Kt,i as jr,j as Ur,a as Zt,_ as Xt,d as Yt,b as Ce}from"./@babel-Xj_bk_MP.js";import{r as o,a as M}from"./react-gY946ZKh.js";import{T as sn}from"./@ctrl-_Y40OLZn.js";import{c as ne}from"./classnames-uKr76nPM.js";import{c as Mt,a as Q,d as cn,u as fn,r as kr,s as Jt,e as Or,f as vn,h as dn,i as $e,j as Sr,k as mn,l as xr,g as Nr,m as gn,n as Qr,o as hn,p as Pr}from"./rc-util-RBoppPtV.js";import{r as Jr}from"./react-dom-Wc9rTDnX.js";import{R as Kr}from"./rc-resize-observer-QJ9n6sHl.js";import{C as Zr}from"./rc-motion-S_lIiSSJ.js";var Xr=o.createContext(null),Dr=[];function Cn(r,e){var t=o.useState(function(){if(!Mt())return null;var g=document.createElement("div");return g}),a=k(t,1),n=a[0],i=o.useRef(!1),u=o.useContext(Xr),l=o.useState(Dr),f=k(l,2),c=f[0],d=f[1],s=u||(i.current?void 0:function(g){d(function(h){var b=[g].concat(Qt(h));return b})});function m(){n.parentElement||document.body.appendChild(n),i.current=!0}function v(){var g;(g=n.parentElement)===null||g===void 0||g.removeChild(n),i.current=!1}return Q(function(){return r?u?u(m):m():v(),v},[r]),Q(function(){c.length&&(c.forEach(function(g){return g()}),d(Dr))},[c]),[n,s]}function yn(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var bn="rc-util-locker-".concat(Date.now()),Ir=0;function Sn(r){var e=!!r,t=o.useState(function(){return Ir+=1,"".concat(bn,"_").concat(Ir)}),a=k(t,1),n=a[0];Q(function(){if(e){var i=cn(),u=yn();fn(`
html body {
  overflow-y: hidden;
  `.concat(u?"width: calc(100% - ".concat(i,"px);"):"",`
}`),n)}else kr(n);return function(){kr(n)}},[e,n])}var _r=!1;function Nn(r){return typeof r=="boolean"&&(_r=r),_r}var Tr=function(e){return e===!1?!1:!Mt()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},pt=o.forwardRef(function(r,e){var t=r.open,a=r.autoLock,n=r.getContainer;r.debug;var i=r.autoDestroy,u=i===void 0?!0:i,l=r.children,f=o.useState(t),c=k(f,2),d=c[0],s=c[1],m=d||t;o.useEffect(function(){(u||t)&&s(t)},[t,u]);var v=o.useState(function(){return Tr(n)}),g=k(v,2),h=g[0],b=g[1];o.useEffect(function(){var U=Tr(n);b(U??null)});var S=Cn(m&&!h),w=k(S,2),N=w[0],C=w[1],R=h??N;Sn(a&&t&&Mt()&&(R===N||R===document.body));var _=null;if(l&&Jt(l)&&e){var B=l;_=B.ref}var F=Or(_,e);if(!m||!Mt()||h===void 0)return null;var V=R===!1||Nn(),T=l;return e&&(T=o.cloneElement(l,{ref:F})),o.createElement(Xr.Provider,{value:C},V?T:Jr.createPortal(T,R))});function En(r){var e=r.prefixCls,t=r.align,a=r.arrow,n=r.arrowPos,i=a||{},u=i.className,l=i.content,f=n.x,c=f===void 0?0:f,d=n.y,s=d===void 0?0:d,m=o.useRef();if(!t||!t.points)return null;var v={position:"absolute"};if(t.autoArrow!==!1){var g=t.points[0],h=t.points[1],b=g[0],S=g[1],w=h[0],N=h[1];b===w||!["t","b"].includes(b)?v.top=s:b==="t"?v.top=0:v.bottom=0,S===N||!["l","r"].includes(S)?v.left=c:S==="l"?v.left=0:v.right=0}return o.createElement("div",{ref:m,className:ne("".concat(e,"-arrow"),u),style:v},l)}function wn(r){var e=r.prefixCls,t=r.open,a=r.zIndex,n=r.mask,i=r.motion;return n?o.createElement(Zr,re({},i,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(u){var l=u.className;return o.createElement("div",{style:{zIndex:a},className:ne("".concat(e,"-mask"),l)})}):null}var Mn=o.memo(function(r){var e=r.children;return e},function(r,e){return e.cache}),Rn=o.forwardRef(function(r,e){var t=r.popup,a=r.className,n=r.prefixCls,i=r.style,u=r.target,l=r.onVisibleChanged,f=r.open,c=r.keepDom,d=r.fresh,s=r.onClick,m=r.mask,v=r.arrow,g=r.arrowPos,h=r.align,b=r.motion,S=r.maskMotion,w=r.forceRender,N=r.getPopupContainer,C=r.autoDestroy,R=r.portal,_=r.zIndex,B=r.onMouseEnter,F=r.onMouseLeave,V=r.onPointerEnter,T=r.ready,U=r.offsetX,de=r.offsetY,ae=r.offsetR,ie=r.offsetB,te=r.onAlign,P=r.onPrepare,A=r.stretch,D=r.targetWidth,K=r.targetHeight,x=typeof t=="function"?t():t,oe=f||c,Z=(N==null?void 0:N.length)>0,ue=o.useState(!N||!Z),Le=k(ue,2),Ne=Le[0],Ae=Le[1];if(Q(function(){!Ne&&Z&&u&&Ae(!0)},[Ne,Z,u]),!Ne)return null;var le="auto",q={left:"-1000vw",top:"-1000vh",right:le,bottom:le};if(T||!f){var p,se=h.points,ce=h.dynamicInset||((p=h._experimental)===null||p===void 0?void 0:p.dynamicInset),ye=ce&&se[0][1]==="r",Ue=ce&&se[0][0]==="b";ye?(q.right=ae,q.left=le):(q.left=U,q.right=le),Ue?(q.bottom=ie,q.top=le):(q.top=de,q.bottom=le)}var J={};return A&&(A.includes("height")&&K?J.height=K:A.includes("minHeight")&&K&&(J.minHeight=K),A.includes("width")&&D?J.width=D:A.includes("minWidth")&&D&&(J.minWidth=D)),f||(J.pointerEvents="none"),o.createElement(R,{open:w||oe,getContainer:N&&function(){return N(u)},autoDestroy:C},o.createElement(wn,{prefixCls:n,open:f,zIndex:_,mask:m,motion:S}),o.createElement(Kr,{onResize:te,disabled:!f},function(He){return o.createElement(Zr,re({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(n,"-hidden")},b,{onAppearPrepare:P,onEnterPrepare:P,visible:f,onVisibleChanged:function(ee){var fe;b==null||(fe=b.onVisibleChanged)===null||fe===void 0||fe.call(b,ee),l(ee)}}),function(Ee,ee){var fe=Ee.className,$=Ee.style,be=ne(n,fe,a);return o.createElement("div",{ref:vn(He,e,ee),className:be,style:L(L(L(L({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},q),J),$),{},{boxSizing:"border-box",zIndex:_},i),onMouseEnter:B,onMouseLeave:F,onPointerEnter:V,onClick:s},v&&o.createElement(En,{prefixCls:n,arrow:v,arrowPos:g,align:h}),o.createElement(Mn,{cache:!f&&!d},x))})}))}),kn=o.forwardRef(function(r,e){var t=r.children,a=r.getTriggerDOMNode,n=Jt(t),i=o.useCallback(function(l){dn(e,a?a(l):l)},[a]),u=Or(i,t.ref);return n?o.cloneElement(t,{ref:u}):t}),$r=o.createContext(null);function Lr(r){return r?Array.isArray(r)?r:[r]:[]}function xn(r,e,t,a){return o.useMemo(function(){var n=Lr(t??e),i=Lr(a??e),u=new Set(n),l=new Set(i);return r&&(u.has("hover")&&(u.delete("hover"),u.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[u,l]},[r,e,t,a])}function Pn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?r[0]===e[0]:r[0]===e[0]&&r[1]===e[1]}function Dn(r,e,t,a){for(var n=t.points,i=Object.keys(r),u=0;u<i.length;u+=1){var l,f=i[u];if(Pn((l=r[f])===null||l===void 0?void 0:l.points,n,a))return"".concat(e,"-placement-").concat(f)}return""}function Ar(r,e,t,a){return e||(t?{motionName:"".concat(r,"-").concat(t)}:a?{motionName:a}:null)}function kt(r){return r.ownerDocument.defaultView}function Er(r){for(var e=[],t=r==null?void 0:r.parentElement,a=["hidden","scroll","clip","auto"];t;){var n=kt(t).getComputedStyle(t),i=n.overflowX,u=n.overflowY,l=n.overflow;[i,u,l].some(function(f){return a.includes(f)})&&e.push(t),t=t.parentElement}return e}function Rt(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?e:r}function Nt(r){return Rt(parseFloat(r),0)}function Hr(r,e){var t=L({},r);return(e||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement||a instanceof HTMLHtmlElement)){var n=kt(a).getComputedStyle(a),i=n.overflow,u=n.overflowClipMargin,l=n.borderTopWidth,f=n.borderBottomWidth,c=n.borderLeftWidth,d=n.borderRightWidth,s=a.getBoundingClientRect(),m=a.offsetHeight,v=a.clientHeight,g=a.offsetWidth,h=a.clientWidth,b=Nt(l),S=Nt(f),w=Nt(c),N=Nt(d),C=Rt(Math.round(s.width/g*1e3)/1e3),R=Rt(Math.round(s.height/m*1e3)/1e3),_=(g-h-w-N)*C,B=(m-v-b-S)*R,F=b*R,V=S*R,T=w*C,U=N*C,de=0,ae=0;if(i==="clip"){var ie=Nt(u);de=ie*C,ae=ie*R}var te=s.x+T-de,P=s.y+F-ae,A=te+s.width+2*de-T-U-_,D=P+s.height+2*ae-F-V-B;t.left=Math.max(t.left,te),t.top=Math.max(t.top,P),t.right=Math.min(t.right,A),t.bottom=Math.min(t.bottom,D)}}),t}function Fr(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),a=t.match(/^(.*)\%$/);return a?r*(parseFloat(a[1])/100):parseFloat(t)}function Br(r,e){var t=e||[],a=k(t,2),n=a[0],i=a[1];return[Fr(r.width,n),Fr(r.height,i)]}function Vr(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function ft(r,e){var t=e[0],a=e[1],n,i;return t==="t"?i=r.y:t==="b"?i=r.y+r.height:i=r.y+r.height/2,a==="l"?n=r.x:a==="r"?n=r.x+r.width:n=r.x+r.width/2,{x:n,y:i}}function qe(r,e){var t={t:"b",b:"t",l:"r",r:"l"};return r.map(function(a,n){return n===e?t[a]||"c":a}).join("")}function In(r,e,t,a,n,i,u){var l=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:n[a]||{}}),f=k(l,2),c=f[0],d=f[1],s=o.useRef(0),m=o.useMemo(function(){return e?Er(e):[]},[e]),v=o.useRef({}),g=function(){v.current={}};r||g();var h=$e(function(){if(e&&t&&r){let Se=function(Te,et){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:be,ct=x.x+Te,bt=x.y+et,St=ct+p,qt=bt+q,mr=Math.max(ct,st.left),gr=Math.max(bt,st.top),hr=Math.min(St,st.right),Cr=Math.min(qt,st.bottom);return Math.max(0,(hr-mr)*(Cr-gr))},Gt=function(){Ve=x.y+I,ze=Ve+q,We=x.x+G,it=We+p};var w,N,C=e,R=C.ownerDocument,_=kt(C),B=_.getComputedStyle(C),F=B.width,V=B.height,T=B.position,U=C.style.left,de=C.style.top,ae=C.style.right,ie=C.style.bottom,te=C.style.overflow,P=L(L({},n[a]),i),A=R.createElement("div");(w=C.parentElement)===null||w===void 0||w.appendChild(A),A.style.left="".concat(C.offsetLeft,"px"),A.style.top="".concat(C.offsetTop,"px"),A.style.position=T,A.style.height="".concat(C.offsetHeight,"px"),A.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto",C.style.overflow="hidden";var D;if(Array.isArray(t))D={x:t[0],y:t[1],width:0,height:0};else{var K=t.getBoundingClientRect();D={x:K.x,y:K.y,width:K.width,height:K.height}}var x=C.getBoundingClientRect(),oe=R.documentElement,Z=oe.clientWidth,ue=oe.clientHeight,Le=oe.scrollWidth,Ne=oe.scrollHeight,Ae=oe.scrollTop,le=oe.scrollLeft,q=x.height,p=x.width,se=D.height,ce=D.width,ye={left:0,top:0,right:Z,bottom:ue},Ue={left:-le,top:-Ae,right:Le-le,bottom:Ne-Ae},J=P.htmlRegion,He="visible",Ee="visibleFirst";J!=="scroll"&&J!==Ee&&(J=He);var ee=J===Ee,fe=Hr(Ue,m),$=Hr(ye,m),be=J===He?$:fe,X=ee?$:be;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var Oe=C.getBoundingClientRect();C.style.left=U,C.style.top=de,C.style.right=ae,C.style.bottom=ie,C.style.overflow=te,(N=C.parentElement)===null||N===void 0||N.removeChild(A);var Pe=Rt(Math.round(p/parseFloat(F)*1e3)/1e3),we=Rt(Math.round(q/parseFloat(V)*1e3)/1e3);if(Pe===0||we===0||Sr(t)&&!mn(t))return;var tt=P.offset,me=P.targetOffset,Me=Br(x,tt),rt=k(Me,2),j=rt[0],H=rt[1],Re=Br(D,me),xt=k(Re,2),Pt=xt[0],er=xt[1];D.x-=Pt,D.y-=er;var nt=P.points||[],ge=k(nt,2),Fe=ge[0],tr=ge[1],De=Vr(tr),he=Vr(Fe),Dt=ft(D,De),vt=ft(x,he),Be=L({},P),G=Dt.x-vt.x+j,I=Dt.y-vt.y+H,ke=Se(G,I),xe=Se(G,I,$),Qe=ft(D,["t","l"]),dt=ft(x,["t","l"]),mt=ft(D,["b","r"]),gt=ft(x,["b","r"]),ve=P.overflow||{},rr=ve.adjustX,It=ve.adjustY,at=ve.shiftX,ht=ve.shiftY,_t=function(et){return typeof et=="boolean"?et:et>=0},Ve,ze,We,it;Gt();var Ct=_t(It),yt=he[0]===De[0];if(Ct&&he[0]==="t"&&(ze>X.bottom||v.current.bt)){var Je=I;yt?Je-=q-se:Je=Qe.y-gt.y-H;var Ke=Se(G,Je),nr=Se(G,Je,$);Ke>ke||Ke===ke&&(!ee||nr>=xe)?(v.current.bt=!0,I=Je,H=-H,Be.points=[qe(he,0),qe(De,0)]):v.current.bt=!1}if(Ct&&he[0]==="b"&&(Ve<X.top||v.current.tb)){var Y=I;yt?Y+=q-se:Y=mt.y-dt.y-H;var Tt=Se(G,Y),ar=Se(G,Y,$);Tt>ke||Tt===ke&&(!ee||ar>=xe)?(v.current.tb=!0,I=Y,H=-H,Be.points=[qe(he,0),qe(De,0)]):v.current.tb=!1}var $t=_t(rr),Lt=he[1]===De[1];if($t&&he[1]==="l"&&(it>X.right||v.current.rl)){var Ze=G;Lt?Ze-=p-ce:Ze=Qe.x-gt.x-j;var At=Se(Ze,I),ir=Se(Ze,I,$);At>ke||At===ke&&(!ee||ir>=xe)?(v.current.rl=!0,G=Ze,j=-j,Be.points=[qe(he,1),qe(De,1)]):v.current.rl=!1}if($t&&he[1]==="r"&&(We<X.left||v.current.lr)){var Xe=G;Lt?Xe+=p-ce:Xe=mt.x-dt.x-j;var Ht=Se(Xe,I),ot=Se(Xe,I,$);Ht>ke||Ht===ke&&(!ee||ot>=xe)?(v.current.lr=!0,G=Xe,j=-j,Be.points=[qe(he,1),qe(De,1)]):v.current.lr=!1}Gt();var Ie=at===!0?0:at;typeof Ie=="number"&&(We<$.left&&(G-=We-$.left-j,D.x+ce<$.left+Ie&&(G+=D.x-$.left+ce-Ie)),it>$.right&&(G-=it-$.right-j,D.x>$.right-Ie&&(G+=D.x-$.right+Ie)));var Ye=ht===!0?0:ht;typeof Ye=="number"&&(Ve<$.top&&(I-=Ve-$.top-H,D.y+se<$.top+Ye&&(I+=D.y-$.top+se-Ye)),ze>$.bottom&&(I-=ze-$.bottom-H,D.y>$.bottom-Ye&&(I+=D.y-$.bottom+Ye)));var ut=x.x+G,lt=ut+p,_e=x.y+I,Ft=_e+q,pe=D.x,Ge=pe+ce,Bt=D.y,or=Bt+se,ur=Math.max(ut,pe),Vt=Math.min(lt,Ge),lr=(ur+Vt)/2,sr=lr-ut,cr=Math.max(_e,Bt),zt=Math.min(Ft,or),fr=(cr+zt)/2,vr=fr-_e;u==null||u(e,Be);var Wt=Oe.right-x.x-(G+x.width),dr=Oe.bottom-x.y-(I+x.height);d({ready:!0,offsetX:G/Pe,offsetY:I/we,offsetR:Wt/Pe,offsetB:dr/we,arrowX:sr/Pe,arrowY:vr/we,scaleX:Pe,scaleY:we,align:Be})}}),b=function(){s.current+=1;var N=s.current;Promise.resolve().then(function(){s.current===N&&h()})},S=function(){d(function(N){return L(L({},N),{},{ready:!1})})};return Q(S,[a]),Q(function(){r||S()},[r]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,b]}function _n(r,e,t,a,n){Q(function(){if(r&&e&&t){let s=function(){a(),n()};var i=e,u=t,l=Er(i),f=Er(u),c=kt(u),d=new Set([c].concat(Qt(l),Qt(f)));return d.forEach(function(m){m.addEventListener("scroll",s,{passive:!0})}),c.addEventListener("resize",s,{passive:!0}),a(),function(){d.forEach(function(m){m.removeEventListener("scroll",s),c.removeEventListener("resize",s)})}}},[r,e,t])}function Tn(r,e,t,a,n,i,u,l){var f=o.useRef(r),c=o.useRef(!1);f.current!==r&&(c.current=!0,f.current=r),o.useEffect(function(){var d=xr(function(){c.current=!1});return function(){xr.cancel(d)}},[r]),o.useEffect(function(){if(e&&a&&(!n||i)){var d=function(){var _=!1,B=function(T){var U=T.target;_=u(U)},F=function(T){var U=T.target;!c.current&&f.current&&!_&&!u(U)&&l(!1)};return[B,F]},s=d(),m=k(s,2),v=m[0],g=m[1],h=d(),b=k(h,2),S=b[0],w=b[1],N=kt(a);N.addEventListener("mousedown",v,!0),N.addEventListener("click",g,!0),N.addEventListener("contextmenu",g,!0);var C=Nr(t);return C&&(C.addEventListener("mousedown",S,!0),C.addEventListener("click",w,!0),C.addEventListener("contextmenu",w,!0)),function(){N.removeEventListener("mousedown",v,!0),N.removeEventListener("click",g,!0),N.removeEventListener("contextmenu",g,!0),C&&(C.removeEventListener("mousedown",S,!0),C.removeEventListener("click",w,!0),C.removeEventListener("contextmenu",w,!0))}}},[e,t,a,n,i])}var $n=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Ln(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pt,e=o.forwardRef(function(t,a){var n=t.prefixCls,i=n===void 0?"rc-trigger-popup":n,u=t.children,l=t.action,f=l===void 0?"hover":l,c=t.showAction,d=t.hideAction,s=t.popupVisible,m=t.defaultPopupVisible,v=t.onPopupVisibleChange,g=t.afterPopupVisibleChange,h=t.mouseEnterDelay,b=t.mouseLeaveDelay,S=b===void 0?.1:b,w=t.focusDelay,N=t.blurDelay,C=t.mask,R=t.maskClosable,_=R===void 0?!0:R,B=t.getPopupContainer,F=t.forceRender,V=t.autoDestroy,T=t.destroyPopupOnHide,U=t.popup,de=t.popupClassName,ae=t.popupStyle,ie=t.popupPlacement,te=t.builtinPlacements,P=te===void 0?{}:te,A=t.popupAlign,D=t.zIndex,K=t.stretch,x=t.getPopupClassNameFromAlign,oe=t.fresh,Z=t.alignPoint,ue=t.onPopupClick,Le=t.onPopupAlign,Ne=t.arrow,Ae=t.popupMotion,le=t.maskMotion,q=t.popupTransitionName,p=t.popupAnimation,se=t.maskTransitionName,ce=t.maskAnimation,ye=t.className,Ue=t.getTriggerDOMNode,J=Kt(t,$n),He=V||T||!1,Ee=o.useState(!1),ee=k(Ee,2),fe=ee[0],$=ee[1];Q(function(){$(gn())},[]);var be=o.useRef({}),X=o.useContext($r),Oe=o.useMemo(function(){return{registerSubPopup:function(E,z){be.current[E]=z,X==null||X.registerSubPopup(E,z)}}},[X]),Pe=Qr(),we=o.useState(null),tt=k(we,2),me=tt[0],Me=tt[1],rt=$e(function(y){Sr(y)&&me!==y&&Me(y),X==null||X.registerSubPopup(Pe,y)}),j=o.useState(null),H=k(j,2),Re=H[0],xt=H[1],Pt=o.useRef(null),er=$e(function(y){Sr(y)&&Re!==y&&(xt(y),Pt.current=y)}),nt=o.Children.only(u),ge=(nt==null?void 0:nt.props)||{},Fe={},tr=$e(function(y){var E,z,O=Re;return(O==null?void 0:O.contains(y))||((E=Nr(O))===null||E===void 0?void 0:E.host)===y||y===O||(me==null?void 0:me.contains(y))||((z=Nr(me))===null||z===void 0?void 0:z.host)===y||y===me||Object.values(be.current).some(function(W){return(W==null?void 0:W.contains(y))||y===W})}),De=Ar(i,Ae,p,q),he=Ar(i,le,ce,se),Dt=o.useState(m||!1),vt=k(Dt,2),Be=vt[0],G=vt[1],I=s??Be,ke=$e(function(y){s===void 0&&G(y)});Q(function(){G(s||!1)},[s]);var xe=o.useRef(I);xe.current=I;var Qe=o.useRef([]);Qe.current=[];var dt=$e(function(y){var E;ke(y),((E=Qe.current[Qe.current.length-1])!==null&&E!==void 0?E:I)!==y&&(Qe.current.push(y),v==null||v(y))}),mt=o.useRef(),gt=function(){clearTimeout(mt.current)},ve=function(E){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;gt(),z===0?dt(E):mt.current=setTimeout(function(){dt(E)},z*1e3)};o.useEffect(function(){return gt},[]);var rr=o.useState(!1),It=k(rr,2),at=It[0],ht=It[1];Q(function(y){(!y||I)&&ht(!0)},[I]);var _t=o.useState(null),Ve=k(_t,2),ze=Ve[0],We=Ve[1],it=o.useState([0,0]),Ct=k(it,2),yt=Ct[0],Je=Ct[1],Ke=function(E){Je([E.clientX,E.clientY])},nr=In(I,me,Z?yt:Re,ie,P,A,Le),Y=k(nr,11),Tt=Y[0],ar=Y[1],$t=Y[2],Lt=Y[3],Ze=Y[4],At=Y[5],ir=Y[6],Xe=Y[7],Ht=Y[8],ot=Y[9],Ie=Y[10],Ye=xn(fe,f,c,d),ut=k(Ye,2),lt=ut[0],_e=ut[1],Ft=lt.has("click"),pe=_e.has("click")||_e.has("contextMenu"),Ge=$e(function(){at||Ie()}),Bt=function(){xe.current&&Z&&pe&&ve(!1)};_n(I,Re,me,Ge,Bt),Q(function(){Ge()},[yt,ie]),Q(function(){I&&!(P!=null&&P[ie])&&Ge()},[JSON.stringify(A)]);var or=o.useMemo(function(){var y=Dn(P,i,ot,Z);return ne(y,x==null?void 0:x(ot))},[ot,x,P,i,Z]);o.useImperativeHandle(a,function(){return{nativeElement:Pt.current,forceAlign:Ge}});var ur=o.useState(0),Vt=k(ur,2),lr=Vt[0],sr=Vt[1],cr=o.useState(0),zt=k(cr,2),fr=zt[0],vr=zt[1],Wt=function(){if(K&&Re){var E=Re.getBoundingClientRect();sr(E.width),vr(E.height)}},dr=function(){Wt(),Ge()},Se=function(E){ht(!1),Ie(),g==null||g(E)},Gt=function(){return new Promise(function(E){Wt(),We(function(){return E})})};Q(function(){ze&&(Ie(),ze(),We(null))},[ze]);function Te(y,E,z,O){Fe[y]=function(W){var jt;O==null||O(W),ve(E,z);for(var yr=arguments.length,Rr=new Array(yr>1?yr-1:0),Ut=1;Ut<yr;Ut++)Rr[Ut-1]=arguments[Ut];(jt=ge[y])===null||jt===void 0||jt.call.apply(jt,[ge,W].concat(Rr))}}(Ft||pe)&&(Fe.onClick=function(y){var E;xe.current&&pe?ve(!1):!xe.current&&Ft&&(Ke(y),ve(!0));for(var z=arguments.length,O=new Array(z>1?z-1:0),W=1;W<z;W++)O[W-1]=arguments[W];(E=ge.onClick)===null||E===void 0||E.call.apply(E,[ge,y].concat(O))}),Tn(I,pe,Re,me,C,_,tr,ve);var et=lt.has("hover"),st=_e.has("hover"),ct,bt;et&&(Te("onMouseEnter",!0,h,function(y){Ke(y)}),Te("onPointerEnter",!0,h,function(y){Ke(y)}),ct=function(){(I||at)&&ve(!0,h)},Z&&(Fe.onMouseMove=function(y){var E;(E=ge.onMouseMove)===null||E===void 0||E.call(ge,y)})),st&&(Te("onMouseLeave",!1,S),Te("onPointerLeave",!1,S),bt=function(){ve(!1,S)}),lt.has("focus")&&Te("onFocus",!0,w),_e.has("focus")&&Te("onBlur",!1,N),lt.has("contextMenu")&&(Fe.onContextMenu=function(y){var E;xe.current&&_e.has("contextMenu")?ve(!1):(Ke(y),ve(!0)),y.preventDefault();for(var z=arguments.length,O=new Array(z>1?z-1:0),W=1;W<z;W++)O[W-1]=arguments[W];(E=ge.onContextMenu)===null||E===void 0||E.call.apply(E,[ge,y].concat(O))}),ye&&(Fe.className=ne(ge.className,ye));var St=L(L({},ge),Fe),qt={},mr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];mr.forEach(function(y){J[y]&&(qt[y]=function(){for(var E,z=arguments.length,O=new Array(z),W=0;W<z;W++)O[W]=arguments[W];(E=St[y])===null||E===void 0||E.call.apply(E,[St].concat(O)),J[y].apply(J,O)})});var gr=o.cloneElement(nt,L(L({},St),qt)),hr={x:At,y:ir},Cr=Ne?L({},Ne!==!0?Ne:{}):null;return o.createElement(o.Fragment,null,o.createElement(Kr,{disabled:!I,ref:er,onResize:dr},o.createElement(kn,{getTriggerDOMNode:Ue},gr)),o.createElement($r.Provider,{value:Oe},o.createElement(Rn,{portal:r,ref:rt,prefixCls:i,popup:U,className:ne(de,or),style:ae,target:Re,onMouseEnter:ct,onMouseLeave:bt,onPointerEnter:ct,zIndex:D,open:I,keepDom:at,fresh:oe,onClick:ue,mask:C,motion:De,maskMotion:he,onVisibleChanged:Se,onPrepare:Gt,forceRender:F,autoDestroy:He,getPopupContainer:B,align:ot,arrow:Cr,arrowPos:hr,ready:Tt,offsetX:ar,offsetY:$t,offsetR:Lt,offsetB:Ze,onAlign:Ge,stretch:K,targetWidth:lr/Xe,targetHeight:fr/Ht})))});return e}const An=Ln(pt);var Hn=["b"],Fn=["v"],br=function(e){return Math.round(Number(e||0))},Bn=function(e){if(e&&Yt(e)==="object"&&"h"in e&&"b"in e){var t=e,a=t.b,n=Kt(t,Hn);return L(L({},n),{},{v:a})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},zr=function(r){jr(t,r);var e=Ur(t);function t(a){return Zt(this,t),e.call(this,Bn(a))}return Xt(t,[{key:"toHsbString",value:function(){var n=this.toHsb(),i=br(n.s*100),u=br(n.b*100),l=br(n.h),f=n.a,c="hsb(".concat(l,", ").concat(i,"%, ").concat(u,"%)"),d="hsba(".concat(l,", ").concat(i,"%, ").concat(u,"%, ").concat(f.toFixed(f===0?0:2),")");return f===1?c:d}},{key:"toHsb",value:function(){var n=this.toHsv();Yt(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(n=this.originalInput);var i=n;i.v;var u=Kt(i,Fn);return L(L({},u),{},{b:n.v})}}]),t}(sn),Vn="rc-color-picker",je=function(e){return e instanceof zr?e:new zr(e)},zn=je("#1677ff"),Yr=function(e){var t=e.offset,a=e.targetRef,n=e.containerRef,i=e.color,u=e.type,l=n.current.getBoundingClientRect(),f=l.width,c=l.height,d=a.current.getBoundingClientRect(),s=d.width,m=d.height,v=s/2,g=m/2,h=(t.x+v)/f,b=1-(t.y+g)/c,S=i.toHsb(),w=h,N=(t.x+v)/f*360;if(u)switch(u){case"hue":return je(L(L({},S),{},{h:N<=0?0:N}));case"alpha":return je(L(L({},S),{},{a:w<=0?0:w}))}return je({h:S.h,s:h<=0?0:h,b:b>=1?1:b,a:S.a})},pr=function(e,t,a,n){var i=e.current.getBoundingClientRect(),u=i.width,l=i.height,f=t.current.getBoundingClientRect(),c=f.width,d=f.height,s=c/2,m=d/2,v=a.toHsb();if(!(c===0&&d===0||c!==d)){if(n)switch(n){case"hue":return{x:v.h/360*u-s,y:-m/3};case"alpha":return{x:v.a/1*u-s,y:-m/3}}return{x:v.s*u-s,y:(1-v.b)*l-m}}},Wn=function(e){var t=e.color,a=e.prefixCls,n=e.className,i=e.style,u=e.onClick,l="".concat(a,"-color-block");return M.createElement("div",{className:ne(l,n),style:i,onClick:u},M.createElement("div",{className:"".concat(l,"-inner"),style:{background:t}}))};function Gn(r){var e="touches"in r?r.touches[0]:r,t=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,a=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-t,pageY:e.pageY-a}}function en(r){var e=r.offset,t=r.targetRef,a=r.containerRef,n=r.direction,i=r.onDragChange,u=r.onDragChangeComplete,l=r.calculate,f=r.color,c=r.disabledDrag,d=o.useState(e||{x:0,y:0}),s=k(d,2),m=s[0],v=s[1],g=o.useRef(null),h=o.useRef(null),b=o.useRef({flag:!1});o.useEffect(function(){if(b.current.flag===!1){var R=l==null?void 0:l(a);R&&v(R)}},[f,a]),o.useEffect(function(){return function(){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",h.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",h.current),g.current=null,h.current=null}},[]);var S=function(_){var B=Gn(_),F=B.pageX,V=B.pageY,T=a.current.getBoundingClientRect(),U=T.x,de=T.y,ae=T.width,ie=T.height,te=t.current.getBoundingClientRect(),P=te.width,A=te.height,D=P/2,K=A/2,x=Math.max(0,Math.min(F-U,ae))-D,oe=Math.max(0,Math.min(V-de,ie))-K,Z={x,y:n==="x"?m.y:oe};if(P===0&&A===0||P!==A)return!1;v(Z),i==null||i(Z)},w=function(_){_.preventDefault(),S(_)},N=function(_){_.preventDefault(),b.current.flag=!1,document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",h.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",h.current),g.current=null,h.current=null,u==null||u()},C=function(_){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",h.current),!c&&(S(_),b.current.flag=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",N),document.addEventListener("touchmove",w),document.addEventListener("touchend",N),g.current=w,h.current=N)};return[m,C]}var tn=function(e){var t=e.size,a=t===void 0?"default":t,n=e.color,i=e.prefixCls;return M.createElement("div",{className:ne("".concat(i,"-handler"),Ce({},"".concat(i,"-handler-sm"),a==="small")),style:{backgroundColor:n}})},rn=function(e){var t=e.children,a=e.style,n=e.prefixCls;return M.createElement("div",{className:"".concat(n,"-palette"),style:L({position:"relative"},a)},t)},nn=o.forwardRef(function(r,e){var t=r.children,a=r.offset;return M.createElement("div",{ref:e,style:{position:"absolute",left:a.x,top:a.y,zIndex:1}},t)}),qn=function(e){var t=e.color,a=e.onChange,n=e.prefixCls,i=e.onChangeComplete,u=e.disabled,l=o.useRef(),f=o.useRef(),c=o.useRef(t),d=en({color:t,containerRef:l,targetRef:f,calculate:function(h){return pr(h,f,t)},onDragChange:function(h){var b=Yr({offset:h,targetRef:f,containerRef:l,color:t});c.current=b,a(b)},onDragChangeComplete:function(){return i==null?void 0:i(c.current)},disabledDrag:u}),s=k(d,2),m=s[0],v=s[1];return M.createElement("div",{ref:l,className:"".concat(n,"-select"),onMouseDown:v,onTouchStart:v},M.createElement(rn,{prefixCls:n},M.createElement(nn,{offset:m,ref:f},M.createElement(tn,{color:t.toRgbString(),prefixCls:n})),M.createElement("div",{className:"".concat(n,"-saturation"),style:{backgroundColor:"hsl(".concat(t.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},jn=function(e){var t=e.colors,a=e.children,n=e.direction,i=n===void 0?"to right":n,u=e.type,l=e.prefixCls,f=o.useMemo(function(){return t.map(function(c,d){var s=je(c);return u==="alpha"&&d===t.length-1&&s.setAlpha(1),s.toRgbString()}).join(",")},[t,u]);return M.createElement("div",{className:"".concat(l,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(i,", ").concat(f,")")}},a)},Wr=function(e){var t=e.gradientColors,a=e.direction,n=e.type,i=n===void 0?"hue":n,u=e.color,l=e.value,f=e.onChange,c=e.onChangeComplete,d=e.disabled,s=e.prefixCls,m=o.useRef(),v=o.useRef(),g=o.useRef(u),h=en({color:u,targetRef:v,containerRef:m,calculate:function(C){return pr(C,v,u,i)},onDragChange:function(C){var R=Yr({offset:C,targetRef:v,containerRef:m,color:u,type:i});g.current=R,f(R)},onDragChangeComplete:function(){c==null||c(g.current,i)},direction:"x",disabledDrag:d}),b=k(h,2),S=b[0],w=b[1];return M.createElement("div",{ref:m,className:ne("".concat(s,"-slider"),"".concat(s,"-slider-").concat(i)),onMouseDown:w,onTouchStart:w},M.createElement(rn,{prefixCls:s},M.createElement(nn,{offset:S,ref:v},M.createElement(tn,{size:"small",color:l,prefixCls:s})),M.createElement(jn,{colors:t,direction:a,type:i,prefixCls:s})))};function Gr(r){return r!==void 0}var Un=function(e,t){var a=t.defaultValue,n=t.value,i=o.useState(function(){var c;return Gr(n)?c=n:Gr(a)?c=a:c=e,je(c)}),u=k(i,2),l=u[0],f=u[1];return o.useEffect(function(){n&&f(je(n))},[n]),[l,f]},On=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const ga=o.forwardRef(function(r,e){var t=r.value,a=r.defaultValue,n=r.prefixCls,i=n===void 0?Vn:n,u=r.onChange,l=r.onChangeComplete,f=r.className,c=r.style,d=r.panelRender,s=r.disabledAlpha,m=s===void 0?!1:s,v=r.disabled,g=v===void 0?!1:v,h=Un(zn,{value:t,defaultValue:a}),b=k(h,2),S=b[0],w=b[1],N=o.useMemo(function(){var F=je(S.toRgbString());return F.setAlpha(1),F.toRgbString()},[S]),C=ne("".concat(i,"-panel"),f,Ce({},"".concat(i,"-panel-disabled"),g)),R={prefixCls:i,onChangeComplete:l,disabled:g},_=function(V,T){t||w(V),u==null||u(V,T)},B=M.createElement(M.Fragment,null,M.createElement(qn,re({color:S,onChange:_},R)),M.createElement("div",{className:"".concat(i,"-slider-container")},M.createElement("div",{className:ne("".concat(i,"-slider-group"),Ce({},"".concat(i,"-slider-group-disabled-alpha"),m))},M.createElement(Wr,re({gradientColors:On,color:S,value:"hsl(".concat(S.toHsb().h,",100%, 50%)"),onChange:function(V){return _(V,"hue")}},R)),!m&&M.createElement(Wr,re({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",N],color:S,value:S.toRgbString(),onChange:function(V){return _(V,"alpha")}},R))),M.createElement(Wn,{color:S.toRgbString(),prefixCls:i})));return M.createElement("div",{className:C,style:c,ref:e},typeof d=="function"?d(B):B)});function wr(){return typeof BigInt=="function"}function an(r){return!r&&r!==0&&!Number.isNaN(r)||!String(r).trim()}function wt(r){var e=r.trim(),t=e.startsWith("-");t&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var a=e||"0",n=a.split("."),i=n[0]||"0",u=n[1]||"0";i==="0"&&u==="0"&&(t=!1);var l=t?"-":"";return{negative:t,negativeStr:l,trimStr:a,integerStr:i,decimalStr:u,fullStr:"".concat(l).concat(a)}}function Mr(r){var e=String(r);return!Number.isNaN(Number(e))&&e.includes("e")}function Et(r){var e=String(r);if(Mr(r)){var t=Number(e.slice(e.indexOf("e-")+2)),a=e.match(/\.(\d+)/);return a!=null&&a[1]&&(t+=a[1].length),t}return e.includes(".")&&un(e)?e.length-e.indexOf(".")-1:0}function on(r){var e=String(r);if(Mr(r)){if(r>Number.MAX_SAFE_INTEGER)return String(wr()?BigInt(r).toString():Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return String(wr()?BigInt(r).toString():Number.MIN_SAFE_INTEGER);e=r.toFixed(Et(e))}return wt(e).fullStr}function un(r){return typeof r=="number"?!Number.isNaN(r):r?/^\s*-?\d+(\.\d+)?\s*$/.test(r)||/^\s*-?\d+\.\s*$/.test(r)||/^\s*-?\.\d+\s*$/.test(r):!1}var Qn=function(){function r(e){if(Zt(this,r),Ce(this,"origin",""),Ce(this,"negative",void 0),Ce(this,"integer",void 0),Ce(this,"decimal",void 0),Ce(this,"decimalLen",void 0),Ce(this,"empty",void 0),Ce(this,"nan",void 0),an(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var t=e;if(Mr(t)&&(t=Number(t)),t=typeof t=="string"?t:on(t),un(t)){var a=wt(t);this.negative=a.negative;var n=a.trimStr.split(".");this.integer=BigInt(n[0]);var i=n[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return Xt(r,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var a="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(a)}},{key:"negate",value:function(){var t=new r(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,a,n){var i=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),u=this.alignDecimal(i),l=t.alignDecimal(i),f=a(u,l).toString(),c=n(i),d=wt(f),s=d.negativeStr,m=d.trimStr,v="".concat(s).concat(m.padStart(c+1,"0"));return new r("".concat(v.slice(0,-c),".").concat(v.slice(-c)))}},{key:"add",value:function(t){if(this.isInvalidate())return new r(t);var a=new r(t);return a.isInvalidate()?this:this.cal(a,function(n,i){return n+i},function(n){return n})}},{key:"multi",value:function(t){var a=new r(t);return this.isInvalidate()||a.isInvalidate()?new r(NaN):this.cal(a,function(n,i){return n*i},function(n){return n*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(t==null?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":wt("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),r}(),Jn=function(){function r(e){if(Zt(this,r),Ce(this,"origin",""),Ce(this,"number",void 0),Ce(this,"empty",void 0),an(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Xt(r,[{key:"negate",value:function(){return new r(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new r(t);var a=Number(t);if(Number.isNaN(a))return this;var n=this.number+a;if(n>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(Et(this.number),Et(a));return new r(n.toFixed(i))}},{key:"multi",value:function(t){var a=Number(t);if(this.isInvalidate()||Number.isNaN(a))return new r(NaN);var n=this.number*a;if(n>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(Et(this.number),Et(a));return new r(n.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(t==null?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":on(this.number):this.origin}}]),r}();function Kn(r){return wr()?new Qn(r):new Jn(r)}function Zn(r,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(r==="")return"";var n=wt(r),i=n.negativeStr,u=n.integerStr,l=n.decimalStr,f="".concat(e).concat(l),c="".concat(i).concat(u);if(t>=0){var d=Number(l[t]);if(d>=5&&!a){var s=Kn(r).add("".concat(i,"0.").concat("0".repeat(t)).concat(10-d));return Zn(s.toString(),e,t,a)}return t===0?c:"".concat(c).concat(e).concat(l.padEnd(t,"0").slice(0,t))}return f===".0"?c:"".concat(c).concat(f)}function ha(r){var e=o.createContext(void 0),t=function(n){var i=n.value,u=n.children,l=o.useRef(i);l.current=i;var f=o.useState(function(){return{getValue:function(){return l.current},listeners:new Set}}),c=k(f,1),d=c[0];return Q(function(){Jr.unstable_batchedUpdates(function(){d.listeners.forEach(function(s){s(i)})})},[i]),o.createElement(e.Provider,{value:d},u)};return{Context:e,Provider:t,defaultValue:r}}function Ca(r,e){var t=$e(typeof e=="function"?e:function(s){if(e===void 0)return s;if(!Array.isArray(e))return s[e];var m={};return e.forEach(function(v){m[v]=s[v]}),m}),a=o.useContext(r==null?void 0:r.Context),n=a||{},i=n.listeners,u=n.getValue,l=o.useRef();l.current=t(a?u():r==null?void 0:r.defaultValue);var f=o.useState({}),c=k(f,2),d=c[1];return Q(function(){if(!a)return;function s(m){var v=t(m);hn(l.current,v,!0)||d({})}return i.add(s),function(){i.delete(s)}},[a]),l.current}function ya(){var r=o.createContext(null);function e(){return o.useContext(r)}function t(n,i){var u=Jt(n),l=function(c,d){var s=u?{ref:d}:{},m=o.useRef(0),v=o.useRef(c),g=e();return g!==null?o.createElement(n,re({},c,s)):((!i||i(v.current,c))&&(m.current+=1),v.current=c,o.createElement(r.Provider,{value:m.current},o.createElement(n,re({},c,s))))};return u?o.forwardRef(l):l}function a(n,i){var u=Jt(n),l=function(c,d){var s=u?{ref:d}:{};return e(),o.createElement(n,re({},c,s))};return u?o.memo(o.forwardRef(l),i):o.memo(l,i)}return{makeImmutable:t,responseImmutable:a,useImmutableMark:e}}function Xn(r){var e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,a=r.getBoundingClientRect(),n=a.top,i=a.right,u=a.bottom,l=a.left;return n>=0&&l>=0&&i<=e&&u<=t}function Yn(r,e,t){var a;return(a=t??e)!==null&&a!==void 0?a:r===null?"center":"bottom"}function pn(r,e,t,a){var n=o.useState(void 0),i=k(n,2),u=i[0],l=i[1];Q(function(){var h=typeof r=="function"?r():r;l(h||null)});var f=o.useState(null),c=k(f,2),d=c[0],s=c[1],m=$e(function(){if(u){!Xn(u)&&e&&u.scrollIntoView(a);var h=u.getBoundingClientRect(),b=h.left,S=h.top,w=h.width,N=h.height,C={left:b,top:S,width:w,height:N,radius:0};s(function(R){return JSON.stringify(R)!==JSON.stringify(C)?C:R})}else s(null)}),v=function(b){var S;return(S=Array.isArray(t==null?void 0:t.offset)?t==null?void 0:t.offset[b]:t==null?void 0:t.offset)!==null&&S!==void 0?S:6};Q(function(){return m(),window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}},[u,e,m]);var g=o.useMemo(function(){if(!d)return d;var h=v(0),b=v(1),S=(t==null?void 0:t.radius)||2;return{left:d.left-h,top:d.top-b,width:d.width+h*2,height:d.height+b*2,radius:S}},[d,t]);return[g,u]}var Ot={fill:"transparent",pointerEvents:"auto"},ea=function(e){var t=e.prefixCls,a=e.rootClassName,n=e.pos,i=e.showMask,u=e.style,l=u===void 0?{}:u,f=e.fill,c=f===void 0?"rgba(0,0,0,0.5)":f,d=e.open,s=e.animated,m=e.zIndex,v=e.disabledInteraction,g=Qr(),h="".concat(t,"-mask-").concat(g),b=Yt(s)==="object"?s==null?void 0:s.placeholder:s,S=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),w=S?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return M.createElement(pt,{open:d,autoLock:!0},M.createElement("div",{className:ne("".concat(t,"-mask"),a),style:L({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:m,pointerEvents:n&&!v?"none":"auto"},l)},i?M.createElement("svg",{style:{width:"100%",height:"100%"}},M.createElement("defs",null,M.createElement("mask",{id:h},M.createElement("rect",re({x:"0",y:"0"},w,{fill:"white"})),n&&M.createElement("rect",{x:n.left,y:n.top,rx:n.radius,width:n.width,height:n.height,fill:"black",className:b?"".concat(t,"-placeholder-animated"):""}))),M.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:c,mask:"url(#".concat(h,")")}),n&&M.createElement(M.Fragment,null,M.createElement("rect",re({},Ot,{x:"0",y:"0",width:"100%",height:n.top})),M.createElement("rect",re({},Ot,{x:"0",y:"0",width:n.left,height:"100%"})),M.createElement("rect",re({},Ot,{x:"0",y:n.top+n.height,width:"100%",height:"calc(100vh - ".concat(n.top+n.height,"px)")})),M.createElement("rect",re({},Ot,{x:n.left+n.width,y:"0",width:"calc(100vw - ".concat(n.left+n.width,"px)"),height:"100%"})))):null))},ta=[0,0],qr={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function ln(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e={};return Object.keys(qr).forEach(function(t){e[t]=L(L({},qr[t]),{},{autoArrow:r,targetOffset:ta})}),e}ln();function ra(r){var e=r.prefixCls,t=r.current,a=r.total,n=r.title,i=r.description,u=r.onClose,l=r.onPrev,f=r.onNext,c=r.onFinish,d=r.className,s=r.closeIcon,m=s!==!1&&s!==null,v=s!==void 0&&s!==!0?s:o.createElement("span",{className:"".concat(e,"-close-x")},"×");return o.createElement("div",{className:ne("".concat(e,"-content"),d)},o.createElement("div",{className:"".concat(e,"-inner")},m&&o.createElement("button",{type:"button",onClick:u,"aria-label":"Close",className:"".concat(e,"-close")},v),o.createElement("div",{className:"".concat(e,"-header")},o.createElement("div",{className:"".concat(e,"-title")},n)),o.createElement("div",{className:"".concat(e,"-description")},i),o.createElement("div",{className:"".concat(e,"-footer")},o.createElement("div",{className:"".concat(e,"-sliders")},a>1?Qt(Array.from({length:a}).keys()).map(function(g,h){return o.createElement("span",{key:g,className:h===t?"active":""})}):null),o.createElement("div",{className:"".concat(e,"-buttons")},t!==0?o.createElement("button",{className:"".concat(e,"-prev-btn"),onClick:l},"Prev"):null,t===a-1?o.createElement("button",{className:"".concat(e,"-finish-btn"),onClick:c},"Finish"):o.createElement("button",{className:"".concat(e,"-next-btn"),onClick:f},"Next")))))}var na=function(e){var t=e.current,a=e.renderPanel;return o.createElement(o.Fragment,null,typeof a=="function"?a(e,t):o.createElement(ra,e))},aa=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","builtinPlacements","disabledInteraction"],ia={left:"50%",top:"50%",width:1,height:1},ba=function(e){var t=e.prefixCls,a=t===void 0?"rc-tour":t,n=e.steps,i=n===void 0?[]:n,u=e.defaultCurrent,l=e.current,f=e.onChange,c=e.onClose,d=e.onFinish,s=e.open,m=e.mask,v=m===void 0?!0:m,g=e.arrow,h=g===void 0?!0:g,b=e.rootClassName,S=e.placement,w=e.renderPanel,N=e.gap,C=e.animated,R=e.scrollIntoViewOptions,_=R===void 0?!0:R,B=e.zIndex,F=B===void 0?1001:B,V=e.closeIcon,T=e.builtinPlacements,U=e.disabledInteraction,de=Kt(e,aa),ae=o.useRef(),ie=Pr(0,{value:l,defaultValue:u}),te=k(ie,2),P=te[0],A=te[1],D=Pr(void 0,{value:s,postState:function(H){return P<0||P>=i.length?!1:H??!0}}),K=k(D,2),x=K[0],oe=K[1],Z=o.useRef(x);Q(function(){x&&!Z.current&&A(0),Z.current=x},[x]);var ue=i[P]||{},Le=ue.target,Ne=ue.placement,Ae=ue.style,le=ue.arrow,q=ue.className,p=ue.mask,se=ue.scrollIntoViewOptions,ce=ue.closeIcon,ye=x&&(p??v),Ue=ce??V,J=se??_,He=pn(Le,s,N,J),Ee=k(He,2),ee=Ee[0],fe=Ee[1],$=Yn(fe,S,Ne),be=fe?typeof le>"u"?h:le:!1,X=Yt(be)==="object"?be.pointAtCenter:!1;Q(function(){var j;(j=ae.current)===null||j===void 0||j.forceAlign()},[X,P]);var Oe=function(H){A(H),f==null||f(H)},Pe=o.useMemo(function(){return T?typeof T=="function"?T({arrowPointAtCenter:X}):T:ln(X)},[T,X]);if(fe===void 0)return null;var we=function(){oe(!1),c==null||c(P)},tt=function(){return o.createElement(na,re({arrow:be,key:"content",prefixCls:a,total:i.length,renderPanel:w,onPrev:function(){Oe(P-1)},onNext:function(){Oe(P+1)},onClose:we,current:P,onFinish:function(){we(),d==null||d()},closeIcon:Ue},i[P]))},me=typeof ye=="boolean"?ye:!!ye,Me=typeof ye=="boolean"?void 0:ye,rt=function(H){return H||fe||document.body};return o.createElement(o.Fragment,null,o.createElement(ea,{zIndex:F,prefixCls:a,pos:ee,showMask:me,style:Me==null?void 0:Me.style,fill:Me==null?void 0:Me.color,open:x,animated:C,rootClassName:b,disabledInteraction:U}),o.createElement(An,re({},de,{builtinPlacements:Pe,ref:ae,popupStyle:Ae,popupPlacement:$,popupVisible:x,popupClassName:ne(b,q),prefixCls:a,popup:tt,forceRender:!1,destroyPopupOnHide:!0,zIndex:F,getTriggerDOMNode:rt,arrow:!!be}),o.createElement(pt,{open:x,autoLock:!0},o.createElement("div",{className:ne(b,"".concat(a,"-target-placeholder")),style:L(L({},ee||ia),{},{position:"fixed",pointerEvents:"none"})}))))};M.Component;var oa={subtree:!0,childList:!0,attributeFilter:["style","class"]};function Sa(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oa;o.useEffect(function(){if(!(!Mt()||!r)){var a,n=Array.isArray(r)?r:[r];return"MutationObserver"in window&&(a=new MutationObserver(e),n.forEach(function(i){a.observe(i,t)})),function(){var i,u;(i=a)===null||i===void 0||i.takeRecords(),(u=a)===null||u===void 0||u.disconnect()}}},[t,r])}export{zr as C,pt as P,ba as T,ga as a,Wn as b,An as c,Et as d,Zn as e,ya as f,Kn as g,ha as h,Ca as i,on as n,wt as t,Sa as u,un as v};
