import{f as Wt,h as sn,i as te}from"./@rc-component-35XQ0ZVh.js";import{r as n}from"./react-jw9l9ZC3.js";import{q as Gn,o as qn,F as Jn,i as Qn,h as zn,A as At,c as Xt,I as Ye,d as Bn,J as $n,k as Dt,Q as Wn,D as Vt,x as An}from"./rc-util-fvOsdOwp.js";import{c as D,d as He,b as O,e as h,g as Q,h as Ee,f as ve}from"./@babel-lqQsMmn5.js";import{c as Y}from"./classnames-96-Rrpk_.js";import{R as un}from"./rc-resize-observer-bP1MRz7y.js";import{L as jt}from"./rc-virtual-list-2gUUidLJ.js";var Se={},qe="rc-table-internal-hook",dn=Wt(),Zn=dn.makeImmutable,_e=dn.responseImmutable,Ut=dn.useImmutableMark,ae=sn();function Yt(e,r){var a=n.useRef(0);a.current+=1;var t=n.useRef(e),o=[];Object.keys(e||{}).map(function(c){var s;(e==null?void 0:e[c])!==((s=t.current)===null||s===void 0?void 0:s[c])&&o.push(c)}),t.current=e;var l=n.useRef([]);return o.length&&(l.current=o),n.useDebugValue(a.current),n.useDebugValue(l.current.join(", ")),r&&console.log("".concat(r,":"),a.current,l.current),a.current}var Gt=n.memo(function(){var e=Yt();return n.createElement("h1",null,"Render Times: ",e)});Gt.displayName="RenderBlock";var et=n.createContext({renderWithProps:!1}),qt="RC_TABLE_KEY";function Jt(e){return e==null?[]:Array.isArray(e)?e:[e]}function Je(e){var r=[],a={};return e.forEach(function(t){for(var o=t||{},l=o.key,c=o.dataIndex,s=l||Jt(c).join("-")||qt;a[s];)s="".concat(s,"_next");a[s]=!0,r.push(s)}),r}function ln(e){return e!=null}function Qt(e){return e&&He(e)==="object"&&!Array.isArray(e)&&!n.isValidElement(e)}function Zt(e,r,a,t,o,l){var c=n.useContext(et),s=Ut(),i=Gn(function(){if(ln(t))return[t];var u=r==null||r===""?[]:Array.isArray(r)?r:[r],v=Jn(e,u),d=v,f=void 0;if(o){var m=o(v,e,a);Qt(m)?(d=m.children,f=m.props,c.renderWithProps=!0):d=m}return[d,f]},[s,e,t,r,o,a],function(u,v){if(l){var d=D(u,2),f=d[1],m=D(v,2),x=m[1];return l(x,f)}return c.renderWithProps?!0:!qn(u,v,!0)});return i}function er(e,r,a,t){var o=e+r-1;return e<=t&&o>=a}function nr(e,r){return te(ae,function(a){var t=er(e,r||1,a.hoverStartRow,a.hoverEndRow);return[t,a.onHover]})}var tr=function(r){var a=r.ellipsis,t=r.rowType,o=r.children,l,c=a===!0?{showTitle:!0}:a;return c&&(c.showTitle||t==="header")&&(typeof o=="string"||typeof o=="number"?l=o.toString():n.isValidElement(o)&&typeof o.props.children=="string"&&(l=o.props.children)),l};function rr(e){var r,a,t,o,l,c,s,i,u=e.component,v=e.children,d=e.ellipsis,f=e.scope,m=e.prefixCls,x=e.className,w=e.align,C=e.record,b=e.render,R=e.dataIndex,k=e.renderIndex,I=e.shouldCellUpdate,E=e.index,T=e.rowType,z=e.colSpan,B=e.rowSpan,H=e.fixLeft,$=e.fixRight,g=e.firstFixLeft,y=e.lastFixLeft,p=e.firstFixRight,S=e.lastFixRight,K=e.appendNode,L=e.additionalProps,N=L===void 0?{}:L,_=e.isSticky,A="".concat(m,"-cell"),G=te(ae,["supportSticky","allColumnsFixedLeft"]),X=G.supportSticky,me=G.allColumnsFixedLeft,ye=Zt(C,R,k,v,b,I),ue=D(ye,2),Z=ue[0],P=ue[1],re={},pe=typeof H=="number"&&X,V=typeof $=="number"&&X;pe&&(re.position="sticky",re.left=H),V&&(re.position="sticky",re.right=$);var j=(r=(a=(t=P==null?void 0:P.colSpan)!==null&&t!==void 0?t:N.colSpan)!==null&&a!==void 0?a:z)!==null&&r!==void 0?r:1,U=(o=(l=(c=P==null?void 0:P.rowSpan)!==null&&c!==void 0?c:N.rowSpan)!==null&&l!==void 0?l:B)!==null&&o!==void 0?o:1,xe=nr(E,U),be=D(xe,2),Pe=be[0],Ce=be[1],ke=function(oe){var le;C&&Ce(E,E+U-1),N==null||(le=N.onMouseEnter)===null||le===void 0||le.call(N,oe)},Ke=function(oe){var le;C&&Ce(-1,-1),N==null||(le=N.onMouseLeave)===null||le===void 0||le.call(N,oe)};if(j===0||U===0)return null;var he=(s=N.title)!==null&&s!==void 0?s:tr({rowType:T,ellipsis:d,children:Z}),de=Y(A,x,(i={},O(i,"".concat(A,"-fix-left"),pe&&X),O(i,"".concat(A,"-fix-left-first"),g&&X),O(i,"".concat(A,"-fix-left-last"),y&&X),O(i,"".concat(A,"-fix-left-all"),y&&me&&X),O(i,"".concat(A,"-fix-right"),V&&X),O(i,"".concat(A,"-fix-right-first"),p&&X),O(i,"".concat(A,"-fix-right-last"),S&&X),O(i,"".concat(A,"-ellipsis"),d),O(i,"".concat(A,"-with-append"),K),O(i,"".concat(A,"-fix-sticky"),(pe||V)&&_&&X),O(i,"".concat(A,"-row-hover"),!P&&Pe),i),N.className,P==null?void 0:P.className),W={};w&&(W.textAlign=w);var Fe=h(h(h(h({},re),N.style),W),P==null?void 0:P.style),ee=Z;return He(ee)==="object"&&!Array.isArray(ee)&&!n.isValidElement(ee)&&(ee=null),d&&(y||p)&&(ee=n.createElement("span",{className:"".concat(A,"-content")},ee)),n.createElement(u,Q({},P,N,{className:de,style:Fe,title:he,scope:f,onMouseEnter:ke,onMouseLeave:Ke,colSpan:j!==1?j:null,rowSpan:U!==1?U:null}),K,ee)}const Ne=n.memo(rr);function fn(e,r,a,t,o,l){var c=a[e]||{},s=a[r]||{},i,u;c.fixed==="left"?i=t.left[o==="rtl"?r:e]:s.fixed==="right"&&(u=t.right[o==="rtl"?e:r]);var v=!1,d=!1,f=!1,m=!1,x=a[r+1],w=a[e-1],C=!(l!=null&&l.children);if(o==="rtl"){if(i!==void 0){var b=w&&w.fixed==="left";m=!b&&C}else if(u!==void 0){var R=x&&x.fixed==="right";f=!R&&C}}else if(i!==void 0){var k=x&&x.fixed==="left";v=!k&&C}else if(u!==void 0){var I=w&&w.fixed==="right";d=!I&&C}return{fixLeft:i,fixRight:u,lastFixLeft:v,firstFixRight:d,lastFixRight:f,firstFixLeft:m,isSticky:t.isSticky}}var nt=n.createContext({});function ar(e){var r=e.className,a=e.index,t=e.children,o=e.colSpan,l=o===void 0?1:o,c=e.rowSpan,s=e.align,i=te(ae,["prefixCls","direction"]),u=i.prefixCls,v=i.direction,d=n.useContext(nt),f=d.scrollColumnIndex,m=d.stickyOffsets,x=d.flattenColumns,w=d.columns,C=a+l-1,b=C+1===f?l+1:l,R=fn(a,a+b-1,x,m,v,w==null?void 0:w[a]);return n.createElement(Ne,Q({className:r,index:a,component:"td",prefixCls:u,record:null,dataIndex:null,align:s,colSpan:b,rowSpan:c,render:function(){return t}},R))}var or=["children"];function lr(e){var r=e.children,a=Ee(e,or);return n.createElement("tr",a,r)}function Qe(e){var r=e.children;return r}Qe.Row=lr;Qe.Cell=ar;function ir(e){var r=e.children,a=e.stickyOffsets,t=e.flattenColumns,o=e.columns,l=te(ae,"prefixCls"),c=t.length-1,s=t[c],i=n.useMemo(function(){return{stickyOffsets:a,flattenColumns:t,scrollColumnIndex:s!=null&&s.scrollbar?c:null,columns:o}},[s,t,c,a,o]);return n.createElement(nt.Provider,{value:i},n.createElement("tfoot",{className:"".concat(l,"-summary")},r))}const Ge=_e(ir);var cr=Qe;function sr(e){return null}function ur(e){return null}function tt(e,r,a,t,o,l,c){e.push({record:r,indent:a,index:c});var s=l(r),i=o==null?void 0:o.has(s);if(r&&Array.isArray(r[t])&&i)for(var u=0;u<r[t].length;u+=1)tt(e,r[t][u],a+1,t,o,l,u)}function rt(e,r,a,t){var o=n.useMemo(function(){if(a!=null&&a.size){for(var l=[],c=0;c<(e==null?void 0:e.length);c+=1){var s=e[c];tt(l,s,0,r,a,t,c)}return l}return e==null?void 0:e.map(function(i,u){return{record:i,indent:0,index:u}})},[e,r,a,t]);return o}function at(e,r,a,t){var o=te(ae,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),l=o.flattenColumns,c=o.expandableType,s=o.expandedKeys,i=o.childrenColumnName,u=o.onTriggerExpand,v=o.rowExpandable,d=o.onRow,f=o.expandRowByClick,m=o.rowClassName,x=c==="nest",w=c==="row"&&(!v||v(e)),C=w||x,b=s&&s.has(r),R=i&&e&&e[i],k=Qn(u),I=d==null?void 0:d(e,a),E=I==null?void 0:I.onClick,T=function($){f&&C&&u(e,$);for(var g=arguments.length,y=new Array(g>1?g-1:0),p=1;p<g;p++)y[p-1]=arguments[p];E==null||E.apply(void 0,[$].concat(y))},z;typeof m=="string"?z=m:typeof m=="function"&&(z=m(e,a,t));var B=Je(l);return h(h({},o),{},{columnsKey:B,nestExpandable:x,expanded:b,hasNestChildren:R,record:e,onTriggerExpand:k,rowSupportExpand:w,expandable:C,rowProps:h(h({},I),{},{className:Y(z,I==null?void 0:I.className),onClick:T})})}function ot(e){var r=e.prefixCls,a=e.children,t=e.component,o=e.cellComponent,l=e.className,c=e.expanded,s=e.colSpan,i=e.isEmpty,u=te(ae,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),v=u.scrollbarSize,d=u.fixHeader,f=u.fixColumn,m=u.componentWidth,x=u.horizonScroll,w=a;return(i?x&&m:f)&&(w=n.createElement("div",{style:{width:m-(d?v:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(r,"-expanded-row-fixed")},w)),n.createElement(t,{className:l,style:{display:c?null:"none"}},n.createElement(Ne,{component:o,prefixCls:r,colSpan:s},w))}function lt(e,r,a,t,o){var l=e.record,c=e.prefixCls,s=e.columnsKey,i=e.fixedInfoList,u=e.expandIconColumnIndex,v=e.nestExpandable,d=e.indentSize,f=e.expandIcon,m=e.expanded,x=e.hasNestChildren,w=e.onTriggerExpand,C=s[a],b=i[a],R;a===(u||0)&&v&&(R=n.createElement(n.Fragment,null,n.createElement("span",{style:{paddingLeft:"".concat(d*t,"px")},className:"".concat(c,"-row-indent indent-level-").concat(t)}),f({prefixCls:c,expanded:m,expandable:x,record:l,onExpand:w})));var k;return r.onCell&&(k=r.onCell(l,o)),{key:C,fixedInfo:b,appendCellNode:R,additionalCellProps:k||{}}}function it(e){var r=e.className,a=e.style,t=e.record,o=e.index,l=e.renderIndex,c=e.rowKey,s=e.indent,i=s===void 0?0:s,u=e.rowComponent,v=e.cellComponent,d=e.scopeCellComponent,f=at(t,c,o,i),m=f.prefixCls,x=f.flattenColumns,w=f.expandedRowClassName,C=f.expandedRowRender,b=f.rowProps,R=f.expanded,k=f.rowSupportExpand,I=n.useRef(!1);I.current||(I.current=R);var E=n.createElement(u,Q({},b,{"data-row-key":c,className:Y(r,"".concat(m,"-row"),"".concat(m,"-row-level-").concat(i),b==null?void 0:b.className),style:h(h({},a),b==null?void 0:b.style)}),x.map(function(H,$){var g=H.render,y=H.dataIndex,p=H.className,S=lt(f,H,$,i,o),K=S.key,L=S.fixedInfo,N=S.appendCellNode,_=S.additionalCellProps;return n.createElement(Ne,Q({className:p,ellipsis:H.ellipsis,align:H.align,scope:H.rowScope,component:H.rowScope?d:v,prefixCls:m,key:K,record:t,index:o,renderIndex:l,dataIndex:y,render:g,shouldCellUpdate:H.shouldCellUpdate},L,{appendNode:N,additionalProps:_}))})),T;if(k&&(I.current||R)){var z=C(t,o,i+1,R),B=w&&w(t,o,i);T=n.createElement(ot,{expanded:R,className:Y("".concat(m,"-expanded-row"),"".concat(m,"-expanded-row-level-").concat(i+1),B),prefixCls:m,component:u,cellComponent:v,colSpan:x.length,isEmpty:!1},z)}return n.createElement(n.Fragment,null,E,T)}it.displayName="BodyRow";const dr=_e(it);function fr(e){var r=e.columnKey,a=e.onColumnResize,t=n.useRef();return n.useEffect(function(){t.current&&a(r,t.current.offsetWidth)},[]),n.createElement(un,{data:r},n.createElement("td",{ref:t,style:{padding:0,border:0,height:0}},n.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function vr(e){var r=e.prefixCls,a=e.columnsKey,t=e.onColumnResize;return n.createElement("tr",{"aria-hidden":"true",className:"".concat(r,"-measure-row"),style:{height:0,fontSize:0}},n.createElement(un.Collection,{onBatchResize:function(l){l.forEach(function(c){var s=c.data,i=c.size;t(s,i.offsetWidth)})}},a.map(function(o){return n.createElement(fr,{key:o,columnKey:o,onColumnResize:t})})))}function ct(e){var r=e.data,a=e.measureColumnWidth,t=te(ae,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),o=t.prefixCls,l=t.getComponent,c=t.onColumnResize,s=t.flattenColumns,i=t.getRowKey,u=t.expandedKeys,v=t.childrenColumnName,d=t.emptyNode,f=rt(r,v,u,i),m=n.useRef({renderWithProps:!1}),x=l(["body","wrapper"],"tbody"),w=l(["body","row"],"tr"),C=l(["body","cell"],"td"),b=l(["body","cell"],"th"),R;r.length?R=f.map(function(I,E){var T=I.record,z=I.indent,B=I.index,H=i(T,E);return n.createElement(dr,{key:H,rowKey:H,record:T,index:E,renderIndex:B,rowComponent:w,cellComponent:C,scopeCellComponent:b,getRowKey:i,indent:z})}):R=n.createElement(ot,{expanded:!0,className:"".concat(o,"-placeholder"),prefixCls:o,component:w,cellComponent:C,colSpan:s.length,isEmpty:!0},d);var k=Je(s);return n.createElement(et.Provider,{value:m.current},n.createElement(x,{className:"".concat(o,"-tbody")},a&&n.createElement(vr,{prefixCls:o,columnsKey:k,onColumnResize:c}),R))}ct.displayName="Body";const mr=_e(ct);var pr=["expandable"],st="RC_TABLE_INTERNAL_COL_DEFINE";function xr(e){var r=e.expandable,a=Ee(e,pr),t;return"expandable"in e?t=h(h({},a),r):t=a,t.showExpandColumn===!1&&(t.expandIconColumnIndex=-1),t}var Cr=["columnType"];function ut(e){for(var r=e.colWidths,a=e.columns,t=e.columCount,o=[],l=t||a.length,c=!1,s=l-1;s>=0;s-=1){var i=r[s],u=a&&a[s],v=u&&u[st];if(i||v||c){var d=v||{};d.columnType;var f=Ee(d,Cr);o.unshift(n.createElement("col",Q({key:s,style:{width:i}},f))),c=!0}}return n.createElement("colgroup",null,o)}var yr=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function hr(e,r){return n.useMemo(function(){for(var a=[],t=0;t<r;t+=1){var o=e[t];if(o!==void 0)a[t]=o;else return null}return a},[e.join("_"),r])}var dt=n.forwardRef(function(e,r){var a=e.className,t=e.noData,o=e.columns,l=e.flattenColumns,c=e.colWidths,s=e.columCount,i=e.stickyOffsets,u=e.direction,v=e.fixHeader,d=e.stickyTopOffset,f=e.stickyBottomOffset,m=e.stickyClassName,x=e.onScroll,w=e.maxContentScroll,C=e.children,b=Ee(e,yr),R=te(ae,["prefixCls","scrollbarSize","isSticky"]),k=R.prefixCls,I=R.scrollbarSize,E=R.isSticky,T=E&&!v?0:I,z=n.useRef(null),B=n.useCallback(function(L){zn(r,L),zn(z,L)},[]);n.useEffect(function(){var L;function N(_){var A=_,G=A.currentTarget,X=A.deltaX;X&&(x({currentTarget:G,scrollLeft:G.scrollLeft+X}),_.preventDefault())}return(L=z.current)===null||L===void 0||L.addEventListener("wheel",N),function(){var _;(_=z.current)===null||_===void 0||_.removeEventListener("wheel",N)}},[]);var H=n.useMemo(function(){return l.every(function(L){return L.width})},[l]),$=l[l.length-1],g={fixed:$?$.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(k,"-cell-scrollbar")}}},y=n.useMemo(function(){return T?[].concat(ve(o),[g]):o},[T,o]),p=n.useMemo(function(){return T?[].concat(ve(l),[g]):l},[T,l]),S=n.useMemo(function(){var L=i.right,N=i.left;return h(h({},i),{},{left:u==="rtl"?[].concat(ve(N.map(function(_){return _+T})),[0]):N,right:u==="rtl"?L:[].concat(ve(L.map(function(_){return _+T})),[0]),isSticky:E})},[T,i,E]),K=hr(c,s);return n.createElement("div",{style:h({overflow:"hidden"},E?{top:d,bottom:f}:{}),ref:B,className:Y(a,O({},m,!!m))},n.createElement("table",{style:{tableLayout:"fixed",visibility:t||K?null:"hidden"}},(!t||!w||H)&&n.createElement(ut,{colWidths:K?[].concat(ve(K),[T]):[],columCount:s+1,columns:p}),C(h(h({},b),{},{stickyOffsets:S,columns:y,flattenColumns:p}))))});dt.displayName="FixedHolder";const Xn=n.memo(dt);function ft(e){var r=e.cells,a=e.stickyOffsets,t=e.flattenColumns,o=e.rowComponent,l=e.cellComponent,c=e.tdCellComponent,s=e.onHeaderRow,i=e.index,u=te(ae,["prefixCls","direction"]),v=u.prefixCls,d=u.direction,f;s&&(f=s(r.map(function(x){return x.column}),i));var m=Je(r.map(function(x){return x.column}));return n.createElement(o,f,r.map(function(x,w){var C=x.column,b=fn(x.colStart,x.colEnd,t,a,d,C),R;return C&&C.onHeaderCell&&(R=x.column.onHeaderCell(C)),n.createElement(Ne,Q({},x,{scope:C.title?x.colSpan>1?"colgroup":"col":null,ellipsis:C.ellipsis,align:C.align,component:C.title?l:c,prefixCls:v,key:m[w]},b,{additionalProps:R,rowType:"header"}))}))}ft.displayName="HeaderRow";function gr(e){var r=[];function a(c,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;r[i]=r[i]||[];var u=s,v=c.filter(Boolean).map(function(d){var f={key:d.key,className:d.className||"",children:d.title,column:d,colStart:u},m=1,x=d.children;return x&&x.length>0&&(m=a(x,u,i+1).reduce(function(w,C){return w+C},0),f.hasSubColumns=!0),"colSpan"in d&&(m=d.colSpan),"rowSpan"in d&&(f.rowSpan=d.rowSpan),f.colSpan=m,f.colEnd=f.colStart+m-1,r[i].push(f),u+=m,m});return v}a(e,0);for(var t=r.length,o=function(s){r[s].forEach(function(i){!("rowSpan"in i)&&!i.hasSubColumns&&(i.rowSpan=t-s)})},l=0;l<t;l+=1)o(l);return r}function wr(e){var r=e.stickyOffsets,a=e.columns,t=e.flattenColumns,o=e.onHeaderRow,l=te(ae,["prefixCls","getComponent"]),c=l.prefixCls,s=l.getComponent,i=n.useMemo(function(){return gr(a)},[a]),u=s(["header","wrapper"],"thead"),v=s(["header","row"],"tr"),d=s(["header","cell"],"th"),f=s(["header","cell"],"td");return n.createElement(u,{className:"".concat(c,"-thead")},i.map(function(m,x){var w=n.createElement(ft,{key:x,flattenColumns:t,cells:m,stickyOffsets:r,rowComponent:v,cellComponent:d,tdCellComponent:f,onHeaderRow:o,index:x});return w}))}const Dn=_e(wr);function Vn(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof r=="number"?r:r.endsWith("%")?e*parseFloat(r)/100:null}function Rr(e,r,a){return n.useMemo(function(){if(r&&r>0){var t=0,o=0;e.forEach(function(f){var m=Vn(r,f.width);m?t+=m:o+=1});var l=Math.max(r,a),c=Math.max(l-t,o),s=o,i=c/o,u=0,v=e.map(function(f){var m=h({},f),x=Vn(r,m.width);if(x)m.width=x;else{var w=Math.floor(i);m.width=s===1?c:w,c-=w,s-=1}return u+=m.width,m});if(u<l){var d=l/u;c=l,v.forEach(function(f,m){var x=Math.floor(f.width*d);f.width=m===v.length-1?c:x,c-=x})}return[v,Math.max(u,l)]}return[e,r]},[e,r,a])}var Sr=["children"],Er=["fixed"];function vt(e){return At(e).filter(function(r){return n.isValidElement(r)}).map(function(r){var a=r.key,t=r.props,o=t.children,l=Ee(t,Sr),c=h({key:a},l);return o&&(c.children=vt(o)),c})}function cn(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(a){return a&&He(a)==="object"}).reduce(function(a,t,o){var l=t.fixed,c=l===!0?"left":l,s="".concat(r,"-").concat(o),i=t.children;return i&&i.length>0?[].concat(ve(a),ve(cn(i,s).map(function(u){return h({fixed:c},u)}))):[].concat(ve(a),[h(h({key:s},t),{},{fixed:c})])},[])}function Nr(e){return e.map(function(r){var a=r.fixed,t=Ee(r,Er),o=a;return a==="left"?o="right":a==="right"&&(o="left"),h({fixed:o},t)})}function br(e,r){var a=e.prefixCls,t=e.columns,o=e.children,l=e.expandable,c=e.expandedKeys,s=e.columnTitle,i=e.getRowKey,u=e.onTriggerExpand,v=e.expandIcon,d=e.rowExpandable,f=e.expandIconColumnIndex,m=e.direction,x=e.expandRowByClick,w=e.columnWidth,C=e.fixed,b=e.scrollWidth,R=e.clientWidth,k=n.useMemo(function(){return t||vt(o)},[t,o]),I=n.useMemo(function(){if(l){var g,y=k.slice();if(!y.includes(Se)){var p=f||0;p>=0&&y.splice(p,0,Se)}var S=y.indexOf(Se);y=y.filter(function(_,A){return _!==Se||A===S});var K=k[S],L;(C==="left"||C)&&!f?L="left":(C==="right"||C)&&f===k.length?L="right":L=K?K.fixed:null;var N=(g={},O(g,st,{className:"".concat(a,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),O(g,"title",s),O(g,"fixed",L),O(g,"className","".concat(a,"-row-expand-icon-cell")),O(g,"width",w),O(g,"render",function(A,G,X){var me=i(G,X),ye=c.has(me),ue=d?d(G):!0,Z=v({prefixCls:a,expanded:ye,expandable:ue,record:G,onExpand:u});return x?n.createElement("span",{onClick:function(re){return re.stopPropagation()}},Z):Z}),g);return y.map(function(_){return _===Se?N:_})}return k.filter(function(_){return _!==Se})},[l,k,i,c,v,m]),E=n.useMemo(function(){var g=I;return r&&(g=r(g)),g.length||(g=[{render:function(){return null}}]),g},[r,I,m]),T=n.useMemo(function(){return m==="rtl"?Nr(cn(E)):cn(E)},[E,m,b]),z=Rr(T,b,R),B=D(z,2),H=B[0],$=B[1];return[E,H,$]}function kr(e){var r,a=e.prefixCls,t=e.record,o=e.onExpand,l=e.expanded,c=e.expandable,s="".concat(a,"-row-expand-icon");if(!c)return n.createElement("span",{className:Y(s,"".concat(a,"-row-spaced"))});var i=function(v){o(t,v),v.stopPropagation()};return n.createElement("span",{className:Y(s,(r={},O(r,"".concat(a,"-row-expanded"),l),O(r,"".concat(a,"-row-collapsed"),!l),r)),onClick:i})}function Tr(e,r,a){var t=[];function o(l){(l||[]).forEach(function(c,s){t.push(r(c,s)),o(c[a])})}return o(e),t}function Ir(e,r,a){var t=xr(e),o=t.expandIcon,l=t.expandedRowKeys,c=t.defaultExpandedRowKeys,s=t.defaultExpandAllRows,i=t.expandedRowRender,u=t.onExpand,v=t.onExpandedRowsChange,d=t.childrenColumnName,f=o||kr,m=d||"children",x=n.useMemo(function(){return i?"row":e.expandable&&e.internalHooks===qe&&e.expandable.__PARENT_RENDER_ICON__||r.some(function(E){return E&&He(E)==="object"&&E[m]})?"nest":!1},[!!i,r]),w=n.useState(function(){return c||(s?Tr(r,a,m):[])}),C=D(w,2),b=C[0],R=C[1],k=n.useMemo(function(){return new Set(l||b||[])},[l,b]),I=n.useCallback(function(E){var T=a(E,r.indexOf(E)),z,B=k.has(T);B?(k.delete(T),z=ve(k)):z=[].concat(ve(k),[T]),R(z),u&&u(!B,E),v&&v(z)},[a,k,r,u,v]);return[t,x,k,f,m,I]}function Lr(e,r,a,t){var o=e.map(function(l,c){return fn(c,c,e,r,a,t==null?void 0:t[c])});return Gn(function(){return o},[o],function(l,c){return!qn(l,c)})}function mt(e){var r=n.useRef(e),a=n.useState({}),t=D(a,2),o=t[1],l=n.useRef(null),c=n.useRef([]);function s(i){c.current.push(i);var u=Promise.resolve();l.current=u,u.then(function(){if(l.current===u){var v=c.current,d=r.current;c.current=[],v.forEach(function(f){r.current=f(r.current)}),l.current=null,d!==r.current&&o({})}})}return n.useEffect(function(){return function(){l.current=null}},[]),[r.current,s]}function Hr(e){var r=n.useRef(e||null),a=n.useRef();function t(){window.clearTimeout(a.current)}function o(c){r.current=c,t(),a.current=window.setTimeout(function(){r.current=null,a.current=void 0},100)}function l(){return r.current}return n.useEffect(function(){return t},[]),[o,l]}function _r(){var e=n.useState(-1),r=D(e,2),a=r[0],t=r[1],o=n.useState(-1),l=D(o,2),c=l[0],s=l[1],i=n.useCallback(function(u,v){t(u),s(v)},[]);return[a,c,i]}var jn=Xt()?window:null;function Mr(e,r){var a=He(e)==="object"?e:{},t=a.offsetHeader,o=t===void 0?0:t,l=a.offsetSummary,c=l===void 0?0:l,s=a.offsetScroll,i=s===void 0?0:s,u=a.getContainer,v=u===void 0?function(){return jn}:u,d=v()||jn;return n.useMemo(function(){var f=!!e;return{isSticky:f,stickyClassName:f?"".concat(r,"-sticky-holder"):"",offsetHeader:o,offsetSummary:c,offsetScroll:i,container:d}},[i,o,c,r,d])}function Pr(e,r,a){var t=n.useMemo(function(){for(var o=[],l=[],c=0,s=0,i=0;i<r;i+=1)if(a==="rtl"){l[i]=s,s+=e[i]||0;var u=r-i-1;o[u]=c,c+=e[u]||0}else{o[i]=c,c+=e[i]||0;var v=r-i-1;l[v]=s,s+=e[v]||0}return{left:o,right:l}},[e,r,a]);return t}function Un(e){var r=e.className,a=e.children;return n.createElement("div",{className:r},a)}var Kr=function(r,a){var t,o,l=r.scrollBodyRef,c=r.onScroll,s=r.offsetScroll,i=r.container,u=te(ae,"prefixCls"),v=((t=l.current)===null||t===void 0?void 0:t.scrollWidth)||0,d=((o=l.current)===null||o===void 0?void 0:o.clientWidth)||0,f=v&&d*(d/v),m=n.useRef(),x=mt({scrollLeft:0,isHiddenScrollBar:!1}),w=D(x,2),C=w[0],b=w[1],R=n.useRef({delta:0,x:0}),k=n.useState(!1),I=D(k,2),E=I[0],T=I[1],z=function(){T(!1)},B=function(p){p.persist(),R.current.delta=p.pageX-C.scrollLeft,R.current.x=0,T(!0),p.preventDefault()},H=function(p){var S,K=p||((S=window)===null||S===void 0?void 0:S.event),L=K.buttons;if(!E||L===0){E&&T(!1);return}var N=R.current.x+p.pageX-R.current.x-R.current.delta;N<=0&&(N=0),N+f>=d&&(N=d-f),c({scrollLeft:N/d*(v+2)}),R.current.x=p.pageX},$=function(){if(l.current){var p=$n(l.current).top,S=p+l.current.offsetHeight,K=i===window?document.documentElement.scrollTop+window.innerHeight:$n(i).top+i.clientHeight;S-Bn()<=K||p>=K-s?b(function(L){return h(h({},L),{},{isHiddenScrollBar:!0})}):b(function(L){return h(h({},L),{},{isHiddenScrollBar:!1})})}},g=function(p){b(function(S){return h(h({},S),{},{scrollLeft:p/v*d||0})})};return n.useImperativeHandle(a,function(){return{setScrollLeft:g}}),n.useEffect(function(){var y=Ye(document.body,"mouseup",z,!1),p=Ye(document.body,"mousemove",H,!1);return $(),function(){y.remove(),p.remove()}},[f,E]),n.useEffect(function(){var y=Ye(i,"scroll",$,!1),p=Ye(window,"resize",$,!1);return function(){y.remove(),p.remove()}},[i]),n.useEffect(function(){C.isHiddenScrollBar||b(function(y){var p=l.current;return p?h(h({},y),{},{scrollLeft:p.scrollLeft/p.scrollWidth*p.clientWidth}):y})},[C.isHiddenScrollBar]),v<=d||!f||C.isHiddenScrollBar?null:n.createElement("div",{style:{height:Bn(),width:d,bottom:s},className:"".concat(u,"-sticky-scroll")},n.createElement("div",{onMouseDown:B,ref:m,className:Y("".concat(u,"-sticky-scroll-bar"),O({},"".concat(u,"-sticky-scroll-bar-active"),E)),style:{width:"".concat(f,"px"),transform:"translate3d(".concat(C.scrollLeft,"px, 0, 0)")}}))};const Fr=n.forwardRef(Kr);var pt="rc-table",Or=[],zr={};function Br(){return"No Data"}function $r(e,r){var a,t=h({rowKey:"key",prefixCls:pt,emptyText:Br},e),o=t.prefixCls,l=t.className,c=t.rowClassName,s=t.style,i=t.data,u=t.rowKey,v=t.scroll,d=t.tableLayout,f=t.direction,m=t.title,x=t.footer,w=t.summary,C=t.caption,b=t.id,R=t.showHeader,k=t.components,I=t.emptyText,E=t.onRow,T=t.onHeaderRow,z=t.internalHooks,B=t.transformColumns,H=t.internalRefs,$=t.tailor,g=t.getContainerWidth,y=t.sticky,p=i||Or,S=!!p.length,K=z===qe,L=n.useCallback(function(M,F){return Jn(k,M)||F},[k]),N=n.useMemo(function(){return typeof u=="function"?u:function(M){var F=M&&M[u];return F}},[u]),_=L(["body"]),A=_r(),G=D(A,3),X=G[0],me=G[1],ye=G[2],ue=Ir(t,p,N),Z=D(ue,6),P=Z[0],re=Z[1],pe=Z[2],V=Z[3],j=Z[4],U=Z[5],xe=v==null?void 0:v.x,be=n.useState(0),Pe=D(be,2),Ce=Pe[0],ke=Pe[1],Ke=br(h(h(h({},t),P),{},{expandable:!!P.expandedRowRender,columnTitle:P.columnTitle,expandedKeys:pe,getRowKey:N,onTriggerExpand:U,expandIcon:V,expandIconColumnIndex:P.expandIconColumnIndex,direction:f,scrollWidth:K&&$&&typeof xe=="number"?xe:null,clientWidth:Ce}),K?B:null),he=D(Ke,3),de=he[0],W=he[1],Fe=he[2],ee=Fe??xe,$e=n.useMemo(function(){return{columns:de,flattenColumns:W}},[de,W]),oe=n.useRef(),le=n.useRef(),q=n.useRef(),vn=n.useRef();n.useImperativeHandle(r,function(){return{nativeElement:oe.current,scrollTo:function(F){var ne;if(q.current instanceof HTMLElement){var J=F.index,se=F.top,Le=F.key;if(se){var we;(we=q.current)===null||we===void 0||we.scrollTo({top:se})}else{var Re,Be=Le??N(p[J]);(Re=q.current.querySelector('[data-row-key="'.concat(Be,'"]')))===null||Re===void 0||Re.scrollIntoView()}}else(ne=q.current)!==null&&ne!==void 0&&ne.scrollTo&&q.current.scrollTo(F)}}});var mn=n.useRef(),yt=n.useState(!1),pn=D(yt,2),ht=pn[0],We=pn[1],gt=n.useState(!1),xn=D(gt,2),wt=xn[0],Ae=xn[1],Rt=mt(new Map),Cn=D(Rt,2),St=Cn[0],Et=Cn[1],Nt=Je(W),yn=Nt.map(function(M){return St.get(M)}),hn=n.useMemo(function(){return yn},[yn.join("_")]),Xe=Pr(hn,W.length,f),ie=v&&ln(v.y),fe=v&&ln(ee)||!!P.fixed,Oe=fe&&W.some(function(M){var F=M.fixed;return F}),gn=n.useRef(),Te=Mr(y,o),ge=Te.isSticky,bt=Te.offsetHeader,kt=Te.offsetSummary,Tt=Te.offsetScroll,It=Te.stickyClassName,Lt=Te.container,ce=n.useMemo(function(){return w==null?void 0:w(p)},[w,p]),ze=(ie||ge)&&n.isValidElement(ce)&&ce.type===Qe&&ce.props.fixed,Ze,De,en;ie&&(De={overflowY:"scroll",maxHeight:v.y}),fe&&(Ze={overflowX:"auto"},ie||(De={overflowY:"hidden"}),en={width:ee===!0?"auto":ee,minWidth:"100%"});var wn=n.useCallback(function(M,F){Dt(oe.current)&&Et(function(ne){if(ne.get(M)!==F){var J=new Map(ne);return J.set(M,F),J}return ne})},[]),Ht=Hr(null),Rn=D(Ht,2),_t=Rn[0],Sn=Rn[1];function Ve(M,F){F&&(typeof F=="function"?F(M):F.scrollLeft!==M&&(F.scrollLeft=M,F.scrollLeft!==M&&setTimeout(function(){F.scrollLeft=M},0)))}var Ie=Qn(function(M){var F=M.currentTarget,ne=M.scrollLeft,J=f==="rtl",se=typeof ne=="number"?ne:F.scrollLeft,Le=F||zr;if(!Sn()||Sn()===Le){var we;_t(Le),Ve(se,le.current),Ve(se,q.current),Ve(se,mn.current),Ve(se,(we=gn.current)===null||we===void 0?void 0:we.setScrollLeft)}var Re=F||le.current;if(Re){var Be=Re.scrollWidth,on=Re.clientWidth;if(Be===on){We(!1),Ae(!1);return}J?(We(-se<Be-on),Ae(-se>0)):(We(se>0),Ae(se<Be-on))}}),En=function(){fe&&q.current?Ie({currentTarget:q.current}):(We(!1),Ae(!1))},Mt=function(F){var ne=F.width,J=oe.current?oe.current.offsetWidth:ne;K&&g&&oe.current&&(J=g(oe.current,J)||J),J!==Ce&&(En(),ke(J))},Nn=n.useRef(!1);n.useEffect(function(){Nn.current&&En()},[fe,i,de.length]),n.useEffect(function(){Nn.current=!0},[]);var Pt=n.useState(0),bn=D(Pt,2),je=bn[0],kn=bn[1],Kt=n.useState(!0),Tn=D(Kt,2),In=Tn[0],Ft=Tn[1];n.useEffect(function(){(!$||!K)&&(q.current instanceof Element?kn(Wn(q.current).width):kn(Wn(vn.current).width)),Ft(Vt("position","sticky"))},[]),n.useEffect(function(){K&&H&&(H.body.current=q.current)});var Ot=n.useCallback(function(M){return n.createElement(n.Fragment,null,n.createElement(Dn,M),ze==="top"&&n.createElement(Ge,M,ce))},[ze,ce]),zt=n.useCallback(function(M){return n.createElement(Ge,M,ce)},[ce]),Ln=L(["table"],"table"),Ue=n.useMemo(function(){return d||(Oe?ee==="max-content"?"auto":"fixed":ie||ge||W.some(function(M){var F=M.ellipsis;return F})?"fixed":"auto")},[ie,Oe,W,d,ge]),nn,tn={colWidths:hn,columCount:W.length,stickyOffsets:Xe,onHeaderRow:T,fixHeader:ie,scroll:v},Hn=n.useMemo(function(){return S?null:typeof I=="function"?I():I},[S,I]),_n=n.createElement(mr,{data:p,measureColumnWidth:ie||fe||ge}),Mn=n.createElement(ut,{colWidths:W.map(function(M){var F=M.width;return F}),columns:W}),Pn=C!=null?n.createElement("caption",{className:"".concat(o,"-caption")},C):void 0,Bt=An(t,{data:!0}),Kn=An(t,{aria:!0});if(ie||ge){var rn;typeof _=="function"?(rn=_(p,{scrollbarSize:je,ref:q,onScroll:Ie}),tn.colWidths=W.map(function(M,F){var ne=M.width,J=F===W.length-1?ne-je:ne;return typeof J=="number"&&!Number.isNaN(J)?J:0})):rn=n.createElement("div",{style:h(h({},Ze),De),onScroll:Ie,ref:q,className:Y("".concat(o,"-body"))},n.createElement(Ln,Q({style:h(h({},en),{},{tableLayout:Ue})},Kn),Pn,Mn,_n,!ze&&ce&&n.createElement(Ge,{stickyOffsets:Xe,flattenColumns:W,columns:de},ce)));var Fn=h(h(h({noData:!p.length,maxContentScroll:fe&&ee==="max-content"},tn),$e),{},{direction:f,stickyClassName:It,onScroll:Ie});nn=n.createElement(n.Fragment,null,R!==!1&&n.createElement(Xn,Q({},Fn,{stickyTopOffset:bt,className:"".concat(o,"-header"),ref:le}),Ot),rn,ze&&ze!=="top"&&n.createElement(Xn,Q({},Fn,{stickyBottomOffset:kt,className:"".concat(o,"-summary"),ref:mn}),zt),ge&&q.current&&q.current instanceof Element&&n.createElement(Fr,{ref:gn,offsetScroll:Tt,scrollBodyRef:q,onScroll:Ie,container:Lt}))}else nn=n.createElement("div",{style:h(h({},Ze),De),className:Y("".concat(o,"-content")),onScroll:Ie,ref:q},n.createElement(Ln,Q({style:h(h({},en),{},{tableLayout:Ue})},Kn),Pn,Mn,R!==!1&&n.createElement(Dn,Q({},tn,$e)),_n,ce&&n.createElement(Ge,{stickyOffsets:Xe,flattenColumns:W,columns:de},ce)));var an=n.createElement("div",Q({className:Y(o,l,(a={},O(a,"".concat(o,"-rtl"),f==="rtl"),O(a,"".concat(o,"-ping-left"),ht),O(a,"".concat(o,"-ping-right"),wt),O(a,"".concat(o,"-layout-fixed"),d==="fixed"),O(a,"".concat(o,"-fixed-header"),ie),O(a,"".concat(o,"-fixed-column"),Oe),O(a,"".concat(o,"-scroll-horizontal"),fe),O(a,"".concat(o,"-has-fix-left"),W[0]&&W[0].fixed),O(a,"".concat(o,"-has-fix-right"),W[W.length-1]&&W[W.length-1].fixed==="right"),a)),style:s,id:b,ref:oe},Bt),m&&n.createElement(Un,{className:"".concat(o,"-title")},m(p)),n.createElement("div",{ref:vn,className:"".concat(o,"-container")},nn),x&&n.createElement(Un,{className:"".concat(o,"-footer")},x(p)));fe&&(an=n.createElement(un,{onResize:Mt},an));var On=Lr(W,Xe,f,de),$t=n.useMemo(function(){return{scrollX:ee,prefixCls:o,getComponent:L,scrollbarSize:je,direction:f,fixedInfoList:On,isSticky:ge,supportSticky:In,componentWidth:Ce,fixHeader:ie,fixColumn:Oe,horizonScroll:fe,tableLayout:Ue,rowClassName:c,expandedRowClassName:P.expandedRowClassName,expandIcon:V,expandableType:re,expandRowByClick:P.expandRowByClick,expandedRowRender:P.expandedRowRender,onTriggerExpand:U,expandIconColumnIndex:P.expandIconColumnIndex,indentSize:P.indentSize,allColumnsFixedLeft:W.every(function(M){return M.fixed==="left"}),emptyNode:Hn,columns:de,flattenColumns:W,onColumnResize:wn,hoverStartRow:X,hoverEndRow:me,onHover:ye,rowExpandable:P.rowExpandable,onRow:E,getRowKey:N,expandedKeys:pe,childrenColumnName:j}},[ee,o,L,je,f,On,ge,In,Ce,ie,Oe,fe,Ue,c,P.expandedRowClassName,V,re,P.expandRowByClick,P.expandedRowRender,U,P.expandIconColumnIndex,P.indentSize,Hn,de,W,wn,X,me,ye,P.rowExpandable,E,N,pe,j]);return n.createElement(ae.Provider,{value:$t},an)}var Wr=n.forwardRef($r);function Ar(e){return Zn(Wr,e)}var Me=Ar();Me.EXPAND_COLUMN=Se;Me.INTERNAL_HOOKS=qe;Me.Column=sr;Me.ColumnGroup=ur;Me.Summary=cr;var xt=sn(null),Ct=sn(null);function Xr(e,r,a){var t=r||1;return a[e+t]-(a[e]||0)}function Dr(e){var r=e.rowInfo,a=e.column,t=e.colIndex,o=e.indent,l=e.index,c=e.renderIndex,s=e.record,i=e.style,u=e.className,v=e.inverse,d=e.getHeight,f=a.render,m=a.dataIndex,x=a.className,w=a.width,C=te(Ct,["columnsOffset"]),b=C.columnsOffset,R=lt(r,a,t,o,l),k=R.key,I=R.fixedInfo,E=R.appendCellNode,T=R.additionalCellProps,z=T.style,B=T.colSpan,H=B===void 0?1:B,$=T.rowSpan,g=$===void 0?1:$,y=t-1,p=Xr(y,H,b),S=H>1?w-p:0,K=h(h(h({},z),i),{},{flex:"0 0 ".concat(p,"px"),width:"".concat(p,"px"),marginRight:S,pointerEvents:"auto"}),L=n.useMemo(function(){return v?g<=1:H===0||g===0||g>1},[g,H,v]);L?K.visibility="hidden":v&&(K.height=d==null?void 0:d(g));var N=L?function(){return null}:f,_={};return(g===0||H===0)&&(_.rowSpan=1,_.colSpan=1),n.createElement(Ne,Q({className:Y(x,u),ellipsis:a.ellipsis,align:a.align,scope:a.rowScope,component:"div",prefixCls:r.prefixCls,key:k,record:s,index:l,renderIndex:c,dataIndex:m,render:N,shouldCellUpdate:a.shouldCellUpdate},I,{appendNode:E,additionalProps:h(h({},T),{},{style:K},_)}))}var Vr=["data","index","className","rowKey","style","extra","getHeight"],jr=n.forwardRef(function(e,r){var a=e.data,t=e.index,o=e.className,l=e.rowKey,c=e.style,s=e.extra,i=e.getHeight,u=Ee(e,Vr),v=a.record,d=a.indent,f=a.index,m=te(ae,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),x=m.scrollX,w=m.flattenColumns,C=m.prefixCls,b=m.fixColumn,R=m.componentWidth,k=at(v,l,t,d),I=k.rowSupportExpand,E=k.expanded,T=k.rowProps,z=k.expandedRowRender,B=k.expandedRowClassName,H;if(I&&E){var $=z(v,t,d+1,E),g=B==null?void 0:B(v,t,d),y={};b&&(y={style:O({},"--virtual-width","".concat(R,"px"))});var p="".concat(C,"-expanded-row-cell");H=n.createElement("div",{className:Y("".concat(C,"-expanded-row"),"".concat(C,"-expanded-row-level-").concat(d+1),g)},n.createElement(Ne,{component:"div",prefixCls:C,className:Y(p,O({},"".concat(p,"-fixed"),b)),additionalProps:y},$))}var S=h(h({},c),{},{width:x});s&&(S.position="absolute",S.pointerEvents="none");var K=n.createElement("div",Q({},T,u,{ref:I?null:r,className:Y(o,"".concat(C,"-row"),T==null?void 0:T.className,O({},"".concat(C,"-row-extra"),s)),style:h(h({},S),T==null?void 0:T.style)}),w.map(function(L,N){return n.createElement(Dr,{key:N,rowInfo:k,column:L,colIndex:N,indent:d,index:t,renderIndex:f,record:v,inverse:s,getHeight:i})}));return I?n.createElement("div",{ref:r},K,H):K}),Yn=_e(jr),Ur=n.forwardRef(function(e,r){var a=e.data,t=e.onScroll,o=te(ae,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),l=o.flattenColumns,c=o.onColumnResize,s=o.getRowKey,i=o.expandedKeys,u=o.prefixCls,v=o.childrenColumnName,d=o.emptyNode,f=o.scrollX,m=te(xt),x=m.sticky,w=m.scrollY,C=m.listItemHeight,b=n.useRef(),R=rt(a,v,i,s),k=n.useMemo(function(){var g=0;return l.map(function(y){var p=y.width,S=y.key;return g+=p,[S,p,g]})},[l]),I=n.useMemo(function(){return k.map(function(g){return g[2]})},[k]);n.useEffect(function(){k.forEach(function(g){var y=D(g,2),p=y[0],S=y[1];c(p,S)})},[k]),n.useImperativeHandle(r,function(){var g={scrollTo:function(p){var S;(S=b.current)===null||S===void 0||S.scrollTo(p)}};return Object.defineProperty(g,"scrollLeft",{get:function(){var p;return((p=b.current)===null||p===void 0?void 0:p.getScrollInfo().x)||0},set:function(p){var S;(S=b.current)===null||S===void 0||S.scrollTo({left:p})}}),g});var E=function(y,p){var S,K=(S=R[p])===null||S===void 0?void 0:S.record,L=y.onCell;if(L){var N,_=L(K,p);return(N=_==null?void 0:_.rowSpan)!==null&&N!==void 0?N:1}return 1},T=function(y){var p=y.start,S=y.end,K=y.getSize,L=y.offsetY;if(S<0)return null;for(var N=l.filter(function(V){return E(V,p)===0}),_=p,A=function(j){if(N=N.filter(function(U){return E(U,j)===0}),!N.length)return _=j,1},G=p;G>=0&&!A(G);G-=1);for(var X=l.filter(function(V){return E(V,S)!==1}),me=S,ye=function(j){if(X=X.filter(function(U){return E(U,j)!==1}),!X.length)return me=Math.max(j-1,S),1},ue=S;ue<R.length&&!ye(ue);ue+=1);for(var Z=[],P=function(j){var U=R[j];if(!U)return 1;l.some(function(xe){return E(xe,j)>1})&&Z.push(j)},re=_;re<=me;re+=1)P(re);var pe=Z.map(function(V){var j=R[V],U=s(j.record,V),xe=function(Ce){var ke=V+Ce-1,Ke=s(R[ke].record,ke),he=K(U,Ke);return he.bottom-he.top},be=K(U);return n.createElement(Yn,{key:V,data:j,rowKey:U,index:V,style:{top:-L+be.top},extra:!0,getHeight:xe})});return pe},z=n.useMemo(function(){return{columnsOffset:I}},[I]),B="".concat(u,"-tbody"),H;if(R.length){var $={};x&&($.position="sticky",$.bottom=0,He(x)==="object"&&x.offsetScroll&&($.bottom=x.offsetScroll)),H=n.createElement(jt,{fullHeight:!1,ref:b,styles:{horizontalScrollBar:$},className:Y(B,"".concat(B,"-virtual")),height:w,itemHeight:C||24,data:R,itemKey:function(y){return s(y.record)},scrollWidth:f,onVirtualScroll:function(y){var p=y.x;t({scrollLeft:p})},extraRender:T},function(g,y,p){var S=s(g.record,y);return n.createElement(Yn,Q({data:g,rowKey:S,index:y},p))})}else H=n.createElement("div",{className:Y("".concat(u,"-placeholder"))},n.createElement(Ne,{component:"div",prefixCls:u},d));return n.createElement(Ct.Provider,{value:z},H)}),Yr=_e(Ur),Gr=function(r,a){var t=a.ref,o=a.onScroll;return n.createElement(Yr,{ref:t,data:r,onScroll:o})};function qr(e,r){var a=e.columns,t=e.scroll,o=e.sticky,l=e.prefixCls,c=l===void 0?pt:l,s=e.className,i=e.listItemHeight,u=e.components,v=t||{},d=v.x,f=v.y;typeof d!="number"&&(d=1),typeof f!="number"&&(f=500);var m=n.useMemo(function(){return{sticky:o,scrollY:f,listItemHeight:i}},[o,f,i]);return n.createElement(xt.Provider,{value:m},n.createElement(Me,Q({},e,{className:Y(s,"".concat(c,"-virtual")),scroll:h(h({},t),{},{x:d}),components:h(h({},u),{},{body:Gr}),columns:a,internalHooks:qe,tailor:!0,ref:r})))}var Jr=n.forwardRef(qr);function Qr(e){return Zn(Jr,e)}Qr();export{Se as E,cr as F,st as I,Qr as a,qe as b,vt as c,Ar as g};
