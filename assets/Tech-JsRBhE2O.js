import{r as c,j as h}from"./index-8HtWgTNX.js";import"./Earth-QkvxBLjQ.js";import{B as $,V as O,M as P,F as G,u as X,a as S,T as F,b as Z,E as H,c as R,O as q,d as v,e as J,C as K,P as Q}from"./Preload-J16uAnyv.js";import Y from"./Loader-P9efYLaW.js";import{O as V}from"./OrbitControls-Ufz7bTis.js";import{m as tt}from"./index-0332b2ed.esm-vRYZFPaQ.js";import{_ as ot}from"./extends-dGVwEr9R.js";import"./Computers-M0b0du7T.js";import{S as et}from"./SectionWrapper-Ho4oYc4C.js";import{a as rt}from"./index-zrPh9aRe.js";import"./styles-ReNAtqpt.js";class st extends ${constructor(f,d,x,b){super();const g=[],M=[],T=[],i=new O,A=new P;A.makeRotationFromEuler(x),A.setPosition(d);const k=new P;k.copy(A).invert(),B(),this.setAttribute("position",new G(g,3)),this.setAttribute("normal",new G(M,3)),this.setAttribute("uv",new G(T,2));function B(){let t,o=[];const r=new O,n=new O;if(f.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=f.geometry,E=s.attributes.position,y=s.attributes.normal;if(s.index!==null){const u=s.index;for(t=0;t<u.count;t++)r.fromBufferAttribute(E,u.getX(t)),n.fromBufferAttribute(y,u.getX(t)),j(o,r,n)}else for(t=0;t<E.count;t++)r.fromBufferAttribute(E,t),n.fromBufferAttribute(y,t),j(o,r,n);for(o=p(o,i.set(1,0,0)),o=p(o,i.set(-1,0,0)),o=p(o,i.set(0,1,0)),o=p(o,i.set(0,-1,0)),o=p(o,i.set(0,0,1)),o=p(o,i.set(0,0,-1)),t=0;t<o.length;t++){const u=o[t];T.push(.5+u.position.x/b.x,.5+u.position.y/b.y),u.position.applyMatrix4(A),g.push(u.position.x,u.position.y,u.position.z),M.push(u.normal.x,u.normal.y,u.normal.z)}}function j(t,o,r){o.applyMatrix4(f.matrixWorld),o.applyMatrix4(k),r.transformDirection(f.matrixWorld),t.push(new C(o.clone(),r.clone()))}function p(t,o){const r=[],n=.5*Math.abs(b.dot(o));for(let s=0;s<t.length;s+=3){let E,y,u,L=0,l,m,w,D;const I=t[s+0].position.dot(o)-n,_=t[s+1].position.dot(o)-n,N=t[s+2].position.dot(o)-n;switch(E=I>0,y=_>0,u=N>0,L=(E?1:0)+(y?1:0)+(u?1:0),L){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(E&&(l=t[s+1],m=t[s+2],w=a(t[s],l,o,n),D=a(t[s],m,o,n)),y){l=t[s],m=t[s+2],w=a(t[s+1],l,o,n),D=a(t[s+1],m,o,n),r.push(w),r.push(m.clone()),r.push(l.clone()),r.push(m.clone()),r.push(w.clone()),r.push(D);break}u&&(l=t[s],m=t[s+1],w=a(t[s+2],l,o,n),D=a(t[s+2],m,o,n)),r.push(l.clone()),r.push(m.clone()),r.push(w),r.push(D),r.push(w.clone()),r.push(m.clone());break}case 2:{E||(l=t[s].clone(),m=a(l,t[s+1],o,n),w=a(l,t[s+2],o,n),r.push(l),r.push(m),r.push(w)),y||(l=t[s+1].clone(),m=a(l,t[s+2],o,n),w=a(l,t[s],o,n),r.push(l),r.push(m),r.push(w)),u||(l=t[s+2].clone(),m=a(l,t[s],o,n),w=a(l,t[s+1],o,n),r.push(l),r.push(m),r.push(w));break}}}return r}function a(t,o,r,n){const s=t.position.dot(r)-n,E=o.position.dot(r)-n,y=s/(s-E);return new C(new O(t.position.x+y*(o.position.x-t.position.x),t.position.y+y*(o.position.y-t.position.y),t.position.z+y*(o.position.z-t.position.z)),new O(t.normal.x+y*(o.normal.x-t.normal.x),t.normal.y+y*(o.normal.y-t.normal.y),t.normal.z+y*(o.normal.z-t.normal.z)))}}}class C{constructor(f,d){this.position=f,this.normal=d}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const U=e=>e===Object(e)&&!Array.isArray(e)&&typeof e!="function";function W(e,f){const d=X(b=>b.gl),x=S(F,U(e)?Object.values(e):e);if(c.useLayoutEffect(()=>{f==null||f(x)},[f]),c.useEffect(()=>{"initTexture"in d&&(Array.isArray(x)?x:[x]).forEach(d.initTexture)},[d,x]),U(e)){const b={};let g=0;for(const M in e)b[M]=x[g++];return b}else return x}W.preload=e=>S.preload(F,e);W.clear=e=>S.clear(F,e);function nt(e){return Array.isArray(e)}function z(e=[0,0,0]){return nt(e)?e:e instanceof O||e instanceof H?[e.x,e.y,e.z]:[e,e,e]}const at=c.forwardRef(function({debug:f,depthTest:d=!1,polygonOffsetFactor:x=-10,map:b,mesh:g,children:M,position:T,rotation:i,scale:A,...k},B){const j=c.useRef(null);c.useImperativeHandle(B,()=>j.current);const p=c.useRef(null);return c.useLayoutEffect(()=>{const a=(g==null?void 0:g.current)||j.current.parent,t=j.current;if(!(a instanceof Z))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const o={position:new O,rotation:new H,scale:new O(1,1,1)};if(a){R(o,{position:T,scale:A});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!i||typeof i=="number"){const n=new q;n.position.copy(o.position),n.lookAt(a.position),typeof i=="number"&&n.rotateZ(i),R(o,{rotation:n.rotation})}else R(o,{rotation:i});return t.geometry=new st(a,o.position,o.rotation,o.scale),p.current&&(R(p.current,o),p.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[g,...z(T),...z(A),...z(i)]),c.createElement("mesh",ot({ref:j,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":x,"material-depthTest":d,"material-map":b},k),M,f&&c.createElement("mesh",{ref:p},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}),it=c.forwardRef(({children:e,enabled:f=!0,speed:d=1,rotationIntensity:x=1,floatIntensity:b=1,floatingRange:g=[-.1,.1],...M},T)=>{const i=c.useRef(null),A=c.useRef(Math.random()*1e4);return v(k=>{var B,j;if(!f||d===0)return;const p=A.current+k.clock.getElapsedTime();i.current.rotation.x=Math.cos(p/4*d)/8*x,i.current.rotation.y=Math.sin(p/4*d)/8*x,i.current.rotation.z=Math.sin(p/4*d)/20*x;let a=Math.sin(p/4*d)/10;a=J.mapLinear(a,-.1,.1,(B=g==null?void 0:g[0])!==null&&B!==void 0?B:-.1,(j=g==null?void 0:g[1])!==null&&j!==void 0?j:.1),i.current.position.y=a*b,i.current.updateMatrix()}),c.createElement("group",M,c.createElement("group",{ref:tt([i,T]),matrixAutoUpdate:!1},e))}),lt=e=>{const[f]=W([e.imgUrl]);return h.jsxs(it,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[h.jsx("ambientLight",{intensity:.25}),h.jsx("directionalLight",{position:[0,0,.05]}),h.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[h.jsx("icosahedronGeometry",{args:[1,1]}),h.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),h.jsx(at,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:f,flatShading:!0})]})]})},ut=({icon:e})=>h.jsxs(K,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[h.jsxs(c.Suspense,{fallback:h.jsx(Y,{}),children:[h.jsx(V,{enableZoom:!1}),h.jsx(lt,{imgUrl:e})]}),h.jsx(Q,{all:!0})]}),ct=()=>h.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:rt.map(e=>h.jsx("div",{className:"w-28 h-28",children:h.jsx(ut,{icon:e.icon})},e.name))}),Et=et(ct,"");export{Et as default};
