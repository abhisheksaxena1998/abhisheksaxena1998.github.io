import{r as i,j as d}from"./index-ClLHF9zG.js";import"./Earth-DmZKA4tV.js";import{B as J,V as A,M as Z,F as L,u as K,a as W,T as v,b as $,E as q,c as Q,d as G,O as V,e as tt,f as et,C as ot,P as rt}from"./Preload-B1kfYFS-.js";import st from"./Loader-QGN9KHdW.js";import{_ as nt}from"./extends-CF3RwP-h.js";import{O as at}from"./OrbitControls-XKWx3tJR.js";import"./Computers-C6jYCMOK.js";import"./index-0332b2ed.esm-DxQxlb7S.js";import{S as it}from"./SectionWrapper-vRDJEDiw.js";import{a as lt}from"./index-BErekjIP.js";import"./styles-B9QZcb9_.js";class ut extends J{constructor(m,x,f,O){super();const c=[],E=[],T=[],y=new A,g=new Z;g.makeRotationFromEuler(f),g.setPosition(x);const B=new Z;B.copy(g).invert(),k(),this.setAttribute("position",new L(c,3)),this.setAttribute("normal",new L(E,3)),this.setAttribute("uv",new L(T,2));function k(){let t,e=[];const s=new A,n=new A;if(m.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const o=m.geometry,j=o.attributes.position,h=o.attributes.normal;if(o.index!==null){const l=o.index;for(t=0;t<l.count;t++)s.fromBufferAttribute(j,l.getX(t)),n.fromBufferAttribute(h,l.getX(t)),M(e,s,n)}else for(t=0;t<j.count;t++)s.fromBufferAttribute(j,t),n.fromBufferAttribute(h,t),M(e,s,n);for(e=b(e,y.set(1,0,0)),e=b(e,y.set(-1,0,0)),e=b(e,y.set(0,1,0)),e=b(e,y.set(0,-1,0)),e=b(e,y.set(0,0,1)),e=b(e,y.set(0,0,-1)),t=0;t<e.length;t++){const l=e[t];T.push(.5+l.position.x/O.x,.5+l.position.y/O.y),l.position.applyMatrix4(g),c.push(l.position.x,l.position.y,l.position.z),E.push(l.normal.x,l.normal.y,l.normal.z)}}function M(t,e,s){e.applyMatrix4(m.matrixWorld),e.applyMatrix4(B),s.transformDirection(m.matrixWorld),t.push(new X(e.clone(),s.clone()))}function b(t,e){const s=[],n=.5*Math.abs(O.dot(e));for(let o=0;o<t.length;o+=3){let j,h,l,R=0,u,p,w,D;const z=t[o+0].position.dot(e)-n,I=t[o+1].position.dot(e)-n,S=t[o+2].position.dot(e)-n;switch(j=z>0,h=I>0,l=S>0,R=(j?1:0)+(h?1:0)+(l?1:0),R){case 0:{s.push(t[o]),s.push(t[o+1]),s.push(t[o+2]);break}case 1:{if(j&&(u=t[o+1],p=t[o+2],w=a(t[o],u,e,n),D=a(t[o],p,e,n)),h){u=t[o],p=t[o+2],w=a(t[o+1],u,e,n),D=a(t[o+1],p,e,n),s.push(w),s.push(p.clone()),s.push(u.clone()),s.push(p.clone()),s.push(w.clone()),s.push(D);break}l&&(u=t[o],p=t[o+1],w=a(t[o+2],u,e,n),D=a(t[o+2],p,e,n)),s.push(u.clone()),s.push(p.clone()),s.push(w),s.push(D),s.push(w.clone()),s.push(p.clone());break}case 2:{j||(u=t[o].clone(),p=a(u,t[o+1],e,n),w=a(u,t[o+2],e,n),s.push(u),s.push(p),s.push(w)),h||(u=t[o+1].clone(),p=a(u,t[o+2],e,n),w=a(u,t[o],e,n),s.push(u),s.push(p),s.push(w)),l||(u=t[o+2].clone(),p=a(u,t[o],e,n),w=a(u,t[o+1],e,n),s.push(u),s.push(p),s.push(w));break}}}return s}function a(t,e,s,n){const o=t.position.dot(s)-n,j=e.position.dot(s)-n,h=o/(o-j);return new X(new A(t.position.x+h*(e.position.x-t.position.x),t.position.y+h*(e.position.y-t.position.y),t.position.z+h*(e.position.z-t.position.z)),new A(t.normal.x+h*(e.normal.x-t.normal.x),t.normal.y+h*(e.normal.y-t.normal.y),t.normal.z+h*(e.normal.z-t.normal.z)))}}}class X{constructor(m,x){this.position=m,this.normal=x}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const P=r=>r===Object(r)&&!Array.isArray(r)&&typeof r!="function";function C(r,m){const x=K(c=>c.gl),f=W(v,P(r)?Object.values(r):r);return i.useLayoutEffect(()=>{m==null||m(f)},[m]),i.useEffect(()=>{if("initTexture"in x){let c=[];Array.isArray(f)?c=f:f instanceof $?c=[f]:P(f)&&(c=Object.values(f)),c.forEach(E=>{E instanceof $&&x.initTexture(E)})}},[x,f]),i.useMemo(()=>{if(P(r)){const c={};let E=0;for(const T in r)c[T]=f[E++];return c}else return f},[r,f])}C.preload=r=>W.preload(v,r);C.clear=r=>W.clear(v,r);function ct(r){return Array.isArray(r)}function F(r=[0,0,0]){return ct(r)?r:r instanceof A||r instanceof q?[r.x,r.y,r.z]:[r,r,r]}const ft=i.forwardRef(function({debug:m,depthTest:x=!1,polygonOffsetFactor:f=-10,map:O,mesh:c,children:E,position:T,rotation:y,scale:g,...B},k){const M=i.useRef(null);i.useImperativeHandle(k,()=>M.current);const b=i.useRef(null),a=i.useRef({position:new A,rotation:new q,scale:new A(1,1,1)});return i.useLayoutEffect(()=>{const t=(c==null?void 0:c.current)||M.current.parent,e=M.current;if(!(t instanceof Q))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');if(t){G(a.current,{position:T,scale:g});const s=t.matrixWorld.clone();if(t.matrixWorld.identity(),!y||typeof y=="number"){const n=new V;n.position.copy(a.current.position);const o=t.geometry.attributes.position.array;t.geometry.attributes.normal===void 0&&t.geometry.computeVertexNormals();const j=t.geometry.attributes.normal.array;let h=1/0;new A;let l=new A;const R=n.position.x,u=n.position.y,p=n.position.z,w=o.length;let D=-1;for(let z=0;z<w;z+=3){const I=o[z],S=o[z+1],Y=o[z+2],H=I-R,N=S-u,U=Y-p,_=H*H+N*N+U*U;_<h&&(h=_,D=z)}l.fromArray(j,D),n.lookAt(n.position.clone().add(l)),n.rotateZ(Math.PI),n.rotateY(Math.PI),typeof y=="number"&&n.rotateZ(y),G(a.current,{rotation:n.rotation})}else G(a.current,{rotation:y});return e.geometry=new ut(t,a.current.position,a.current.rotation,a.current.scale),t.matrixWorld=s,()=>{e.geometry.dispose()}}},[c,...F(T),...F(g),...F(y)]),i.useLayoutEffect(()=>{b.current&&(G(b.current,a.current),b.current.traverse(t=>t.raycast=()=>null))},[m]),i.createElement("mesh",nt({ref:M,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":f,"material-depthTest":x,"material-map":O},B),E,m&&i.createElement("mesh",{ref:b},i.createElement("boxGeometry",null),i.createElement("meshNormalMaterial",{wireframe:!0}),i.createElement("axesHelper",null)))}),pt=i.forwardRef(({children:r,enabled:m=!0,speed:x=1,rotationIntensity:f=1,floatIntensity:O=1,floatingRange:c=[-.1,.1],autoInvalidate:E=!1,...T},y)=>{const g=i.useRef(null);i.useImperativeHandle(y,()=>g.current,[]);const B=i.useRef(Math.random()*1e4);return tt(k=>{var M,b;if(!m||x===0)return;E&&k.invalidate();const a=B.current+k.clock.getElapsedTime();g.current.rotation.x=Math.cos(a/4*x)/8*f,g.current.rotation.y=Math.sin(a/4*x)/8*f,g.current.rotation.z=Math.sin(a/4*x)/20*f;let t=Math.sin(a/4*x)/10;t=et.mapLinear(t,-.1,.1,(M=c==null?void 0:c[0])!==null&&M!==void 0?M:-.1,(b=c==null?void 0:c[1])!==null&&b!==void 0?b:.1),g.current.position.y=t*O,g.current.updateMatrix()}),i.createElement("group",T,i.createElement("group",{ref:g,matrixAutoUpdate:!1},r))}),mt=i.memo(r=>{const m=C(r.imgUrl);return d.jsxs(pt,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[d.jsx("ambientLight",{intensity:.25}),d.jsx("directionalLight",{position:[0,0,.05]}),d.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[d.jsx("icosahedronGeometry",{args:[1,1]}),d.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),d.jsx(ft,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:m,flatShading:!0})]})]})}),ht=({icon:r})=>d.jsxs(ot,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0,antialias:!0},children:[d.jsxs(i.Suspense,{fallback:d.jsx(st,{}),children:[d.jsx(at,{enableZoom:!1}),d.jsx(mt,{imgUrl:r})]}),d.jsx(rt,{all:!0})]}),dt=()=>d.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:lt.map(r=>d.jsx("div",{className:"w-28 h-28",children:d.jsx(ht,{icon:r.icon})},r.name))}),Dt=it(dt,"");export{Dt as default};
