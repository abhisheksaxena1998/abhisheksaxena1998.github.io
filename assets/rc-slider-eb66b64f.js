import{h as pe,g as et,b as J,e as X,c as V,f as ne,d as gt}from"./@babel-28107d12.js";import{c as se}from"./classnames-325479d5.js";import{K as re,p as ht,o as bt}from"./rc-util-cfa393e8.js";import{r as t}from"./react-d998b26c.js";var de=t.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});function He(e,u,r){return(e-u)/(r-u)}function Oe(e,u,r,m){var i=He(u,r,m),o={};switch(e){case"rtl":o.right="".concat(i*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(i*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(i*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(i*100,"%"),o.transform="translateX(-50%)";break}return o}function be(e,u){return Array.isArray(e)?e[u]:e}var yt=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Ct=t.forwardRef(function(e,u){var r,m,i=e.prefixCls,o=e.value,c=e.valueIndex,b=e.onStartMove,E=e.style,k=e.render,y=e.dragging,C=e.onOffsetChange,g=pe(e,yt),l=t.useContext(de),s=l.min,v=l.max,n=l.direction,d=l.disabled,a=l.keyboard,h=l.range,$=l.tabIndex,R=l.ariaLabelForHandle,B=l.ariaLabelledByForHandle,A=l.ariaValueTextFormatterForHandle,O=l.styles,F=l.classNames,x="".concat(i,"-handle"),_=function(D){d||b(D,c)},w=function(D){if(!d&&a){var S=null;switch(D.which||D.keyCode){case re.LEFT:S=n==="ltr"||n==="btt"?-1:1;break;case re.RIGHT:S=n==="ltr"||n==="btt"?1:-1;break;case re.UP:S=n!=="ttb"?1:-1;break;case re.DOWN:S=n!=="ttb"?-1:1;break;case re.HOME:S="min";break;case re.END:S="max";break;case re.PAGE_UP:S=2;break;case re.PAGE_DOWN:S=-2;break}S!==null&&(D.preventDefault(),C(S,c))}},I=Oe(n,o,s,v),W=t.createElement("div",et({ref:u,className:se(x,(r={},J(r,"".concat(x,"-").concat(c+1),h),J(r,"".concat(x,"-dragging"),y),r),F.handle),style:X(X(X({},I),E),O.handle),onMouseDown:_,onTouchStart:_,onKeyDown:w,tabIndex:d?null:be($,c),role:"slider","aria-valuemin":s,"aria-valuemax":v,"aria-valuenow":o,"aria-disabled":d,"aria-label":be(R,c),"aria-labelledby":be(B,c),"aria-valuetext":(m=be(A,c))===null||m===void 0?void 0:m(o),"aria-orientation":n==="ltr"||n==="rtl"?"horizontal":"vertical"},g));return k&&(W=k(W,{index:c,prefixCls:i,value:o,dragging:y})),W}),St=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],kt=t.forwardRef(function(e,u){var r=e.prefixCls,m=e.style,i=e.onStartMove,o=e.onOffsetChange,c=e.values,b=e.handleRender,E=e.draggingIndex,k=pe(e,St),y=t.useRef({});return t.useImperativeHandle(u,function(){return{focus:function(g){var l;(l=y.current[g])===null||l===void 0||l.focus()}}}),t.createElement(t.Fragment,null,c.map(function(C,g){return t.createElement(Ct,et({ref:function(s){s?y.current[g]=s:delete y.current[g]},dragging:E===g,prefixCls:r,style:be(m,g),key:g,value:C,valueIndex:g,onStartMove:i,onOffsetChange:o,render:b},k))}))});function Qe(e){var u="touches"in e?e.touches[0]:e;return{pageX:u.pageX,pageY:u.pageY}}function Mt(e,u,r,m,i,o,c,b,E){var k=t.useState(null),y=V(k,2),C=y[0],g=y[1],l=t.useState(-1),s=V(l,2),v=s[0],n=s[1],d=t.useState(r),a=V(d,2),h=a[0],$=a[1],R=t.useState(r),B=V(R,2),A=B[0],O=B[1],F=t.useRef(null),x=t.useRef(null);t.useEffect(function(){v===-1&&$(r)},[r,v]),t.useEffect(function(){return function(){document.removeEventListener("mousemove",F.current),document.removeEventListener("mouseup",x.current),document.removeEventListener("touchmove",F.current),document.removeEventListener("touchend",x.current)}},[]);var _=function(S,L){h.some(function(T,Q){return T!==S[Q]})&&(L!==void 0&&g(L),$(S),c(S))},w=function(S,L){if(S===-1){var T=A[0],Q=A[A.length-1],ve=m-T,fe=i-Q,K=L*(i-m);K=Math.max(K,ve),K=Math.min(K,fe);var ye=o(T+K);K=ye-T;var Z=A.map(function(me){return me+K});_(Z)}else{var le=(i-m)*L,p=ne(h);p[S]=A[S];var U=E(p,le,S,"dist");_(U.values,U.value)}},I=t.useRef(w);I.current=w;var W=function(S,L,T){S.stopPropagation();var Q=T||r,ve=Q[L];n(L),g(ve),O(Q);var fe=Qe(S),K=fe.pageX,ye=fe.pageY,Z=function(U){U.preventDefault();var me=Qe(U),Ne=me.pageX,xe=me.pageY,Ce=Ne-K,Se=xe-ye,ke=e.current.getBoundingClientRect(),Me=ke.width,ee=ke.height,z;switch(u){case"btt":z=-Se/ee;break;case"ttb":z=Se/ee;break;case"rtl":z=-Ce/Me;break;default:z=Ce/Me}I.current(L,z)},le=function p(U){U.preventDefault(),document.removeEventListener("mouseup",p),document.removeEventListener("mousemove",Z),document.removeEventListener("touchend",p),document.removeEventListener("touchmove",Z),F.current=null,x.current=null,n(-1),b()};document.addEventListener("mouseup",le),document.addEventListener("mousemove",Z),document.addEventListener("touchend",le),document.addEventListener("touchmove",Z),F.current=Z,x.current=le},Y=t.useMemo(function(){var D=ne(r).sort(function(L,T){return L-T}),S=ne(h).sort(function(L,T){return L-T});return D.every(function(L,T){return L===S[T]})?h:r},[r,h]);return[v,C,Y,W]}function Et(e,u,r,m,i,o){var c=t.useCallback(function(l){var s=isFinite(l)?l:e;return s=Math.min(u,l),s=Math.max(e,s),s},[e,u]),b=t.useCallback(function(l){if(r!==null){var s=e+Math.round((c(l)-e)/r)*r,v=function(h){return(String(h).split(".")[1]||"").length},n=Math.max(v(r),v(u),v(e)),d=Number(s.toFixed(n));return e<=d&&d<=u?d:null}return null},[r,e,u,c]),E=t.useCallback(function(l){var s=c(l),v=m.map(function(a){return a.value});r!==null&&v.push(b(l)),v.push(e,u);var n=v[0],d=u-e;return v.forEach(function(a){var h=Math.abs(s-a);h<=d&&(n=a,d=h)}),n},[e,u,m,r,c,b]),k=function l(s,v,n){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof v=="number"){var a,h=s[n],$=h+v,R=[];m.forEach(function(x){R.push(x.value)}),R.push(e,u),R.push(b(h));var B=v>0?1:-1;d==="unit"?R.push(b(h+B*r)):R.push(b($)),R=R.filter(function(x){return x!==null}).filter(function(x){return v<0?x<=h:x>=h}),d==="unit"&&(R=R.filter(function(x){return x!==h}));var A=d==="unit"?h:$;a=R[0];var O=Math.abs(a-A);if(R.forEach(function(x){var _=Math.abs(x-A);_<O&&(a=x,O=_)}),a===void 0)return v<0?e:u;if(d==="dist")return a;if(Math.abs(v)>1){var F=ne(s);return F[n]=a,l(F,v-B,n,d)}return a}else{if(v==="min")return e;if(v==="max")return u}},y=function(s,v,n){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",a=s[n],h=k(s,v,n,d);return{value:h,changed:h!==a}},C=function(s){return o===null&&s===0||typeof o=="number"&&s<o},g=function(s,v,n){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",a=s.map(E),h=a[n],$=k(a,v,n,d);if(a[n]=$,i===!1){var R=o||0;n>0&&a[n-1]!==h&&(a[n]=Math.max(a[n],a[n-1]+R)),n<a.length-1&&a[n+1]!==h&&(a[n]=Math.min(a[n],a[n+1]-R))}else if(typeof o=="number"||o===null){for(var B=n+1;B<a.length;B+=1)for(var A=!0;C(a[B]-a[B-1])&&A;){var O=y(a,1,B);a[B]=O.value,A=O.changed}for(var F=n;F>0;F-=1)for(var x=!0;C(a[F]-a[F-1])&&x;){var _=y(a,-1,F-1);a[F-1]=_.value,x=_.changed}for(var w=a.length-1;w>0;w-=1)for(var I=!0;C(a[w]-a[w-1])&&I;){var W=y(a,-1,w-1);a[w-1]=W.value,I=W.changed}for(var Y=0;Y<a.length-1;Y+=1)for(var D=!0;C(a[Y+1]-a[Y])&&D;){var S=y(a,1,Y+1);a[Y+1]=S.value,D=S.changed}}return{value:a[n],values:a}};return[E,g]}function xt(e){var u=e.prefixCls,r=e.style,m=e.children,i=e.value,o=e.onClick,c=t.useContext(de),b=c.min,E=c.max,k=c.direction,y=c.includedStart,C=c.includedEnd,g=c.included,l="".concat(u,"-text"),s=Oe(k,i,b,E);return t.createElement("span",{className:se(l,J({},"".concat(l,"-active"),g&&y<=i&&i<=C)),style:X(X({},s),r),onMouseDown:function(n){n.stopPropagation()},onClick:function(){o(i)}},m)}function Rt(e){var u=e.prefixCls,r=e.marks,m=e.onClick,i="".concat(u,"-mark");return r.length?t.createElement("div",{className:i},r.map(function(o){var c=o.value,b=o.style,E=o.label;return t.createElement(xt,{key:c,prefixCls:i,style:b,value:c,onClick:m},E)})):null}function $t(e){var u=e.prefixCls,r=e.value,m=e.style,i=e.activeStyle,o=t.useContext(de),c=o.min,b=o.max,E=o.direction,k=o.included,y=o.includedStart,C=o.includedEnd,g="".concat(u,"-dot"),l=k&&y<=r&&r<=C,s=X(X({},Oe(E,r,c,b)),typeof m=="function"?m(r):m);return l&&(s=X(X({},s),typeof i=="function"?i(r):i)),t.createElement("span",{className:se(g,J({},"".concat(g,"-active"),l)),style:s})}function Ft(e){var u=e.prefixCls,r=e.marks,m=e.dots,i=e.style,o=e.activeStyle,c=t.useContext(de),b=c.min,E=c.max,k=c.step,y=t.useMemo(function(){var C=new Set;if(r.forEach(function(l){C.add(l.value)}),m&&k!==null)for(var g=b;g<=E;)C.add(g),g+=k;return Array.from(C)},[b,E,k,m,r]);return t.createElement("div",{className:"".concat(u,"-step")},y.map(function(C){return t.createElement($t,{prefixCls:u,key:C,value:C,style:i,activeStyle:o})}))}function Ze(e){var u,r=e.prefixCls,m=e.style,i=e.start,o=e.end,c=e.index,b=e.onStartMove,E=e.replaceCls,k=t.useContext(de),y=k.direction,C=k.min,g=k.max,l=k.disabled,s=k.range,v=k.classNames,n="".concat(r,"-track"),d=He(i,C,g),a=He(o,C,g),h=function(A){!l&&b&&b(A,-1)},$={};switch(y){case"rtl":$.right="".concat(d*100,"%"),$.width="".concat(a*100-d*100,"%");break;case"btt":$.bottom="".concat(d*100,"%"),$.height="".concat(a*100-d*100,"%");break;case"ttb":$.top="".concat(d*100,"%"),$.height="".concat(a*100-d*100,"%");break;default:$.left="".concat(d*100,"%"),$.width="".concat(a*100-d*100,"%")}var R=E||se(n,(u={},J(u,"".concat(n,"-").concat(c+1),c!==null&&s),J(u,"".concat(r,"-track-draggable"),b),u),v.track);return t.createElement("div",{className:R,style:X(X({},$),m),onMouseDown:h,onTouchStart:h})}function _t(e){var u=e.prefixCls,r=e.style,m=e.values,i=e.startPoint,o=e.onStartMove,c=t.useContext(de),b=c.included,E=c.range,k=c.min,y=c.styles,C=c.classNames,g=t.useMemo(function(){if(!E){if(m.length===0)return[];var s=i??k,v=m[0];return[{start:Math.min(s,v),end:Math.max(s,v)}]}for(var n=[],d=0;d<m.length-1;d+=1)n.push({start:m[d],end:m[d+1]});return n},[m,E,i,k]),l=null;return(C.tracks||y.tracks)&&(l=t.createElement(Ze,{index:null,prefixCls:u,start:g[0].start,end:g[g.length-1].end,replaceCls:se(C.tracks,"".concat(u,"-tracks")),style:y.tracks})),b?t.createElement(t.Fragment,null,l,g.map(function(s,v){var n=s.start,d=s.end;return t.createElement(Ze,{index:v,prefixCls:u,style:X(X({},be(r,v)),y.track),start:n,end:d,key:v,onStartMove:o})})):null}var Pt=t.forwardRef(function(e,u){var r,m=e.prefixCls,i=m===void 0?"rc-slider":m,o=e.className,c=e.style,b=e.classNames,E=e.styles,k=e.disabled,y=k===void 0?!1:k,C=e.keyboard,g=C===void 0?!0:C,l=e.autoFocus,s=e.onFocus,v=e.onBlur,n=e.min,d=n===void 0?0:n,a=e.max,h=a===void 0?100:a,$=e.step,R=$===void 0?1:$,B=e.value,A=e.defaultValue,O=e.range,F=e.count,x=e.onChange,_=e.onBeforeChange,w=e.onAfterChange,I=e.allowCross,W=I===void 0?!0:I,Y=e.pushable,D=Y===void 0?!1:Y,S=e.draggableTrack,L=e.reverse,T=e.vertical,Q=e.included,ve=Q===void 0?!0:Q,fe=e.startPoint,K=e.trackStyle,ye=e.handleStyle,Z=e.railStyle,le=e.dotStyle,p=e.activeDotStyle,U=e.marks,me=e.dots,Ne=e.handleRender,xe=e.tabIndex,Ce=xe===void 0?0:xe,Se=e.ariaLabelForHandle,ke=e.ariaLabelledByForHandle,Me=e.ariaValueTextFormatterForHandle,ee=t.useRef(),z=t.useRef(),Re=t.useMemo(function(){return T?L?"ttb":"btt":L?"rtl":"ltr"},[L,T]),j=t.useMemo(function(){return isFinite(d)?d:0},[d]),ge=t.useMemo(function(){return isFinite(h)?h:100},[h]),ue=t.useMemo(function(){return R!==null&&R<=0?1:R},[R]),tt=t.useMemo(function(){return typeof D=="boolean"?D?ue:!1:D>=0?D:!1},[D,ue]),$e=t.useMemo(function(){var N=Object.keys(U||{});return N.map(function(M){var f=U[M],P={value:Number(M)};return f&&gt(f)==="object"&&!t.isValidElement(f)&&("label"in f||"style"in f)?(P.style=f.style,P.label=f.label):P.label=f,P}).filter(function(M){var f=M.label;return f||typeof f=="number"}).sort(function(M,f){return M.value-f.value})},[U]),at=Et(j,ge,ue,$e,W,tt),Te=V(at,2),Fe=Te[0],Be=Te[1],rt=ht(A,{value:B}),Ae=V(rt,2),te=Ae[0],nt=Ae[1],q=t.useMemo(function(){var N=te==null?[]:Array.isArray(te)?te:[te],M=V(N,1),f=M[0],P=f===void 0?j:f,H=te===null?[]:[P];if(O){if(H=ne(N),F||te===void 0){var G=F>=0?F+1:2;for(H=H.slice(0,G);H.length<G;){var oe;H.push((oe=H[H.length-1])!==null&&oe!==void 0?oe:j)}}H.sort(function(ce,ae){return ce-ae})}return H.forEach(function(ce,ae){H[ae]=Fe(ce)}),H},[te,O,j,F,Fe]),_e=t.useRef(q);_e.current=q;var ie=function(M){return O?M:M[0]},De=function(M){var f=ne(M).sort(function(P,H){return P-H});x&&!bt(f,_e.current,!0)&&x(ie(f)),nt(f)},lt=function(){w==null||w(ie(_e.current))},ut=Mt(z,Re,q,j,ge,Fe,De,lt,Be),we=V(ut,4),Xe=we[0],it=we[1],Le=we[2],Ye=we[3],je=function(M,f){if(!y){var P=0,H=ge-j;q.forEach(function(oe,ce){var ae=Math.abs(M-oe);ae<=H&&(H=ae,P=ce)});var G=ne(q);G[P]=M,O&&!q.length&&F===void 0&&G.push(M),_==null||_(ie(G)),De(G),w==null||w(ie(G)),f&&Ye(f,P,G)}},ot=function(M){M.preventDefault();var f=z.current.getBoundingClientRect(),P=f.width,H=f.height,G=f.left,oe=f.top,ce=f.bottom,ae=f.right,Ve=M.clientX,Je=M.clientY,Ee;switch(Re){case"btt":Ee=(ce-Je)/H;break;case"ttb":Ee=(Je-oe)/H;break;case"rtl":Ee=(ae-Ve)/P;break;default:Ee=(Ve-G)/P}var mt=j+Ee*(ge-j);je(Fe(mt),M)},ct=t.useState(null),Ke=V(ct,2),Pe=Ke[0],Ue=Ke[1],st=function(M,f){if(!y){var P=Be(q,M,f);_==null||_(ie(q)),De(P.values),w==null||w(ie(P.values)),Ue(P.value)}};t.useEffect(function(){if(Pe!==null){var N=q.indexOf(Pe);N>=0&&ee.current.focus(N)}Ue(null)},[Pe]);var dt=t.useMemo(function(){return S&&ue===null?!1:S},[S,ue]),Ge=function(M,f){Ye(M,f),_==null||_(ie(_e.current))},Ie=Xe!==-1;t.useEffect(function(){if(!Ie){var N=q.lastIndexOf(it);ee.current.focus(N)}},[Ie]);var he=t.useMemo(function(){return ne(Le).sort(function(N,M){return N-M})},[Le]),vt=t.useMemo(function(){return O?[he[0],he[he.length-1]]:[j,he[0]]},[he,O,j]),We=V(vt,2),ze=We[0],qe=We[1];t.useImperativeHandle(u,function(){return{focus:function(){ee.current.focus(0)},blur:function(){var M=document,f=M.activeElement;z.current.contains(f)&&(f==null||f.blur())}}}),t.useEffect(function(){l&&ee.current.focus(0)},[]);var ft=t.useMemo(function(){return{min:j,max:ge,direction:Re,disabled:y,keyboard:g,step:ue,included:ve,includedStart:ze,includedEnd:qe,range:O,tabIndex:Ce,ariaLabelForHandle:Se,ariaLabelledByForHandle:ke,ariaValueTextFormatterForHandle:Me,styles:E||{},classNames:b||{}}},[j,ge,Re,y,g,ue,ve,ze,qe,O,Ce,Se,ke,Me,E,b]);return t.createElement(de.Provider,{value:ft},t.createElement("div",{ref:z,className:se(i,o,(r={},J(r,"".concat(i,"-disabled"),y),J(r,"".concat(i,"-vertical"),T),J(r,"".concat(i,"-horizontal"),!T),J(r,"".concat(i,"-with-marks"),$e.length),r)),style:c,onMouseDown:ot},t.createElement("div",{className:se("".concat(i,"-rail"),b==null?void 0:b.rail),style:X(X({},Z),E==null?void 0:E.rail)}),t.createElement(_t,{prefixCls:i,style:K,values:he,startPoint:fe,onStartMove:dt?Ge:null}),t.createElement(Ft,{prefixCls:i,marks:$e,dots:me,style:le,activeStyle:p}),t.createElement(kt,{ref:ee,prefixCls:i,style:ye,values:Le,draggingIndex:Xe,onStartMove:Ge,onOffsetChange:st,onFocus:s,onBlur:v,handleRender:Ne}),t.createElement(Rt,{prefixCls:i,marks:$e,onClick:je})))});export{Pt as S};
