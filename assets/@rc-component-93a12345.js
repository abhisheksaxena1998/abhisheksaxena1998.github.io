import{c as k,f as Gt,e as _,g as le,h as jt,i as Gr,j as qr,a as Ut,_ as Ot,d as Qt,b as de}from"./@babel-43e769cc.js";import{r as o,a as M}from"./react-d998b26c.js";import{T as on}from"./@ctrl-fb5a5473.js";import{c as ae}from"./classnames-325479d5.js";import{c as yt,a as J,d as un,u as ln,r as Mr,s as qt,e as jr,f as Be,i as Cr,h as sn,j as Rr,g as yr,k as cn,l as fn,m as vn,n as Ur,o as dn,p as xr}from"./rc-util-6fbd7337.js";import{r as Nr}from"./react-dom-890fecd1.js";import"./react-is-e8e5dbb3.js";import{R as Or}from"./rc-resize-observer-ee76393b.js";import{C as Qr}from"./rc-motion-1104756f.js";var Jr=o.createContext(null),kr=[];function mn(r,e){var t=o.useState(function(){if(!yt())return null;var g=document.createElement("div");return g}),a=k(t,1),n=a[0],i=o.useRef(!1),u=o.useContext(Jr),l=o.useState(kr),f=k(l,2),c=f[0],d=f[1],s=u||(i.current?void 0:function(g){d(function(h){var S=[g].concat(Gt(h));return S})});function m(){n.parentElement||document.body.appendChild(n),i.current=!0}function v(){var g;(g=n.parentElement)===null||g===void 0||g.removeChild(n),i.current=!1}return J(function(){return r?u?u(m):m():v(),v},[r]),J(function(){c.length&&(c.forEach(function(g){return g()}),d(kr))},[c]),[n,s]}function gn(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var hn="rc-util-locker-".concat(Date.now()),Pr=0;function Cn(r){var e=!!r,t=o.useState(function(){return Pr+=1,"".concat(hn,"_").concat(Pr)}),a=k(t,1),n=a[0];J(function(){if(e){var i=un(),u=gn();ln(`
html body {
  overflow-y: hidden;
  `.concat(u?"width: calc(100% - ".concat(i,"px);"):"",`
}`),n)}else Mr(n);return function(){Mr(n)}},[e,n])}var Dr=!1;function yn(r){return typeof r=="boolean"&&(Dr=r),Dr}var Ir=function(e){return e===!1?!1:!yt()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Jt=o.forwardRef(function(r,e){var t=r.open,a=r.autoLock,n=r.getContainer;r.debug;var i=r.autoDestroy,u=i===void 0?!0:i,l=r.children,f=o.useState(t),c=k(f,2),d=c[0],s=c[1],m=d||t;o.useEffect(function(){(u||t)&&s(t)},[t,u]);var v=o.useState(function(){return Ir(n)}),g=k(v,2),h=g[0],S=g[1];o.useEffect(function(){var U=Ir(n);S(U??null)});var b=mn(m&&!h),N=k(b,2),E=N[0],C=N[1],R=h??E;Cn(a&&t&&yt()&&(R===E||R===document.body));var T=null;if(l&&qt(l)&&e){var B=l;T=B.ref}var H=jr(T,e);if(!m||!yt()||h===void 0)return null;var F=R===!1||yn(),$=l;return e&&($=o.cloneElement(l,{ref:H})),o.createElement(Jr.Provider,{value:C},F?$:Nr.createPortal($,R))}),_r=o.createContext(null);function Tr(r){return r?Array.isArray(r)?r:[r]:[]}function bn(r,e,t,a){return o.useMemo(function(){var n=Tr(t??e),i=Tr(a??e),u=new Set(n),l=new Set(i);return r&&(u.has("hover")&&(u.delete("hover"),u.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[u,l]},[r,e,t,a])}function Sn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?r[0]===e[0]:r[0]===e[0]&&r[1]===e[1]}function Nn(r,e,t,a){for(var n=t.points,i=Object.keys(r),u=0;u<i.length;u+=1){var l,f=i[u];if(Sn((l=r[f])===null||l===void 0?void 0:l.points,n,a))return"".concat(e,"-placement-").concat(f)}return""}function $r(r,e,t,a){return e||(t?{motionName:"".concat(r,"-").concat(t)}:a?{motionName:a}:null)}function St(r){return r.ownerDocument.defaultView}function br(r){for(var e=[],t=r==null?void 0:r.parentElement,a=["hidden","scroll","clip","auto"];t;){var n=St(t).getComputedStyle(t),i=n.overflowX,u=n.overflowY,l=n.overflow;[i,u,l].some(function(f){return a.includes(f)})&&e.push(t),t=t.parentElement}return e}function bt(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?e:r}function gt(r){return bt(parseFloat(r),0)}function Lr(r,e){var t=_({},r);return(e||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement||a instanceof HTMLHtmlElement)){var n=St(a).getComputedStyle(a),i=n.overflow,u=n.overflowClipMargin,l=n.borderTopWidth,f=n.borderBottomWidth,c=n.borderLeftWidth,d=n.borderRightWidth,s=a.getBoundingClientRect(),m=a.offsetHeight,v=a.clientHeight,g=a.offsetWidth,h=a.clientWidth,S=gt(l),b=gt(f),N=gt(c),E=gt(d),C=bt(Math.round(s.width/g*1e3)/1e3),R=bt(Math.round(s.height/m*1e3)/1e3),T=(g-h-N-E)*C,B=(m-v-S-b)*R,H=S*R,F=b*R,$=N*C,U=E*C,se=0,ie=0;if(i==="clip"){var V=gt(u);se=V*C,ie=V*R}var j=s.x+$-se,I=s.y+H-ie,x=j+s.width+2*se-$-U-T,A=I+s.height+2*ie-H-F-B;t.left=Math.max(t.left,j),t.top=Math.max(t.top,I),t.right=Math.min(t.right,x),t.bottom=Math.min(t.bottom,A)}}),t}function Ar(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),a=t.match(/^(.*)\%$/);return a?r*(parseFloat(a[1])/100):parseFloat(t)}function Hr(r,e){var t=e||[],a=k(t,2),n=a[0],i=a[1];return[Ar(r.width,n),Ar(r.height,i)]}function Br(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function lt(r,e){var t=e[0],a=e[1],n,i;return t==="t"?i=r.y:t==="b"?i=r.y+r.height:i=r.y+r.height/2,a==="l"?n=r.x:a==="r"?n=r.x+r.width:n=r.x+r.width/2,{x:n,y:i}}function Ue(r,e){var t={t:"b",b:"t",l:"r",r:"l"};return r.map(function(a,n){return n===e?t[a]||"c":a}).join("")}function En(r,e,t,a,n,i,u){var l=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:n[a]||{}}),f=k(l,2),c=f[0],d=f[1],s=o.useRef(0),m=o.useMemo(function(){return e?br(e):[]},[e]),v=o.useRef({}),g=function(){v.current={}};r||g();var h=Be(function(){if(e&&t&&r){let Y=function(Ft,He){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Me,ut=L.x+Ft,mt=L.y+He,fr=ut+te,vr=mt+W,dr=Math.max(ut,rt.left),mr=Math.max(mt,rt.top),y=Math.min(fr,rt.right),w=Math.min(vr,rt.bottom);return Math.max(0,(y-dr)*(w-mr))},Bt=function(){ze=L.y+O,it=ze+W,We=L.x+D,Xe=We+te};var N,E,C=e,R=C.ownerDocument,T=St(C),B=T.getComputedStyle(C),H=B.width,F=B.height,$=B.position,U=C.style.left,se=C.style.top,ie=C.style.right,V=C.style.bottom,j=_(_({},n[a]),i),I=R.createElement("div");(N=C.parentElement)===null||N===void 0||N.appendChild(I),I.style.left="".concat(C.offsetLeft,"px"),I.style.top="".concat(C.offsetTop,"px"),I.style.position=$,I.style.height="".concat(C.offsetHeight,"px"),I.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto";var x;if(Array.isArray(t))x={x:t[0],y:t[1],width:0,height:0};else{var A=t.getBoundingClientRect();x={x:A.x,y:A.y,width:A.width,height:A.height}}var L=C.getBoundingClientRect(),K=R.documentElement,z=K.clientWidth,we=K.clientHeight,Fe=K.scrollWidth,ye=K.scrollHeight,Pe=K.scrollTop,ce=K.scrollLeft,W=L.height,te=L.width,re=x.height,p=x.width,Ve={left:0,top:0,right:z,bottom:we},Qe={left:-ce,top:-Pe,right:Fe-ce,bottom:ye-Pe},Z=j.htmlRegion,De="visible",be="visibleFirst";Z!=="scroll"&&Z!==be&&(Z=De);var X=Z===be,Se=Lr(Qe,m),P=Lr(Ve,m),Me=Z===De?P:Se,ne=X?P:Me;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var Je=C.getBoundingClientRect();C.style.left=U,C.style.top=se,C.style.right=ie,C.style.bottom=V,(E=C.parentElement)===null||E===void 0||E.removeChild(I);var Ie=bt(Math.round(te/parseFloat(H)*1e3)/1e3),_e=bt(Math.round(W/parseFloat(F)*1e3)/1e3);if(Ie===0||_e===0||Cr(t)&&!sn(t))return;var Ne=j.offset,fe=j.targetOffset,me=Hr(L,Ne),ee=k(me,2),Ee=ee[0],ge=ee[1],Re=Hr(x,fe),Nt=k(Re,2),Kt=Nt[0],nt=Nt[1];x.x-=Kt,x.y-=nt;var he=j.points||[],Te=k(he,2),Zt=Te[0],Xt=Te[1],$e=Br(Xt),ve=Br(Zt),st=lt(x,$e),Et=lt(L,ve),Le=_({},j),D=st.x-Et.x+Ee,O=st.y-Et.y+ge,oe=Y(D,O),Ke=Y(D,O,P),ct=lt(x,["t","l"]),ft=lt(L,["t","l"]),Ce=lt(x,["b","r"]),wt=lt(L,["b","r"]),Ze=j.overflow||{},vt=Ze.adjustX,Mt=Ze.adjustY,Rt=Ze.shiftX,dt=Ze.shiftY,at=function(He){return typeof He=="boolean"?He:He>=0},ze,it,We,Xe;Bt();var xt=at(Mt),Ye=ve[0]===$e[0];if(xt&&ve[0]==="t"&&(it>ne.bottom||v.current.bt)){var pe=O;Ye?pe-=W-re:pe=ct.y-wt.y-ge;var ue=Y(D,pe),Yt=Y(D,pe,P);ue>oe||ue===oe&&(!X||Yt>=Ke)?(v.current.bt=!0,O=pe,ge=-ge,Le.points=[Ue(ve,0),Ue($e,0)]):v.current.bt=!1}if(xt&&ve[0]==="b"&&(ze<ne.top||v.current.tb)){var et=O;Ye?et+=W-re:et=Ce.y-ft.y-ge;var kt=Y(D,et),pt=Y(D,et,P);kt>oe||kt===oe&&(!X||pt>=Ke)?(v.current.tb=!0,O=et,ge=-ge,Le.points=[Ue(ve,0),Ue($e,0)]):v.current.tb=!1}var Pt=at(vt),Dt=ve[1]===$e[1];if(Pt&&ve[1]==="l"&&(Xe>ne.right||v.current.rl)){var tt=D;Dt?tt-=te-p:tt=ct.x-wt.x-Ee;var It=Y(tt,O),er=Y(tt,O,P);It>oe||It===oe&&(!X||er>=Ke)?(v.current.rl=!0,D=tt,Ee=-Ee,Le.points=[Ue(ve,1),Ue($e,1)]):v.current.rl=!1}if(Pt&&ve[1]==="r"&&(We<ne.left||v.current.lr)){var xe=D;Dt?xe+=te-p:xe=Ce.x-ft.x-Ee;var ot=Y(xe,O),tr=Y(xe,O,P);ot>oe||ot===oe&&(!X||tr>=Ke)?(v.current.lr=!0,D=xe,Ee=-Ee,Le.points=[Ue(ve,1),Ue($e,1)]):v.current.lr=!1}Bt();var Ge=Rt===!0?0:Rt;typeof Ge=="number"&&(We<P.left&&(D-=We-P.left-Ee,x.x+p<P.left+Ge&&(D+=x.x-P.left+p-Ge)),Xe>P.right&&(D-=Xe-P.right-Ee,x.x>P.right-Ge&&(D+=x.x-P.right+Ge)));var ke=dt===!0?0:dt;typeof ke=="number"&&(ze<P.top&&(O-=ze-P.top-ge,x.y+re<P.top+ke&&(O+=x.y-P.top+re-ke)),it>P.bottom&&(O-=it-P.bottom-ge,x.y>P.bottom-ke&&(O+=x.y-P.bottom+ke)));var Ae=L.x+D,_t=Ae+te,qe=L.y+O,je=qe+W,Tt=x.x,rr=Tt+p,$t=x.y,Lt=$t+re,nr=Math.max(Ae,Tt),ar=Math.min(_t,rr),ir=(nr+ar)/2,At=ir-Ae,or=Math.max(qe,$t),ur=Math.min(je,Lt),Ht=(or+ur)/2,lr=Ht-qe;u==null||u(e,Le);var sr=Je.right-L.x-(D+L.width),cr=Je.bottom-L.y-(O+L.height);d({ready:!0,offsetX:D/Ie,offsetY:O/_e,offsetR:sr/Ie,offsetB:cr/_e,arrowX:At/Ie,arrowY:lr/_e,scaleX:Ie,scaleY:_e,align:Le})}}),S=function(){s.current+=1;var E=s.current;Promise.resolve().then(function(){s.current===E&&h()})},b=function(){d(function(E){return _(_({},E),{},{ready:!1})})};return J(b,[a]),J(function(){r||b()},[r]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,S]}function wn(r,e,t,a,n){J(function(){if(r&&e&&t){let s=function(){a(),n()};var i=e,u=t,l=br(i),f=br(u),c=St(u),d=new Set([c].concat(Gt(l),Gt(f)));return d.forEach(function(m){m.addEventListener("scroll",s,{passive:!0})}),c.addEventListener("resize",s,{passive:!0}),a(),function(){d.forEach(function(m){m.removeEventListener("scroll",s),c.removeEventListener("resize",s)})}}},[r,e,t])}function Mn(r,e,t,a,n,i,u,l){var f=o.useRef(r),c=o.useRef(!1);f.current!==r&&(c.current=!0,f.current=r),o.useEffect(function(){var d=Rr(function(){c.current=!1});return function(){Rr.cancel(d)}},[r]),o.useEffect(function(){if(e&&a&&(!n||i)){var d=function(){var T=!1,B=function($){var U=$.target;T=u(U)},H=function($){var U=$.target;!c.current&&f.current&&!T&&!u(U)&&l(!1)};return[B,H]},s=d(),m=k(s,2),v=m[0],g=m[1],h=d(),S=k(h,2),b=S[0],N=S[1],E=St(a);E.addEventListener("mousedown",v,!0),E.addEventListener("click",g,!0),E.addEventListener("contextmenu",g,!0);var C=yr(t);return C&&(C.addEventListener("mousedown",b,!0),C.addEventListener("click",N,!0),C.addEventListener("contextmenu",N,!0)),function(){E.removeEventListener("mousedown",v,!0),E.removeEventListener("click",g,!0),E.removeEventListener("contextmenu",g,!0),C&&(C.removeEventListener("mousedown",b,!0),C.removeEventListener("click",N,!0),C.removeEventListener("contextmenu",N,!0))}}},[e,t,a,n,i])}function Rn(r){var e=r.prefixCls,t=r.align,a=r.arrow,n=r.arrowPos,i=a||{},u=i.className,l=i.content,f=n.x,c=f===void 0?0:f,d=n.y,s=d===void 0?0:d,m=o.useRef();if(!t||!t.points)return null;var v={position:"absolute"};if(t.autoArrow!==!1){var g=t.points[0],h=t.points[1],S=g[0],b=g[1],N=h[0],E=h[1];S===N||!["t","b"].includes(S)?v.top=s:S==="t"?v.top=0:v.bottom=0,b===E||!["l","r"].includes(b)?v.left=c:b==="l"?v.left=0:v.right=0}return o.createElement("div",{ref:m,className:ae("".concat(e,"-arrow"),u),style:v},l)}function xn(r){var e=r.prefixCls,t=r.open,a=r.zIndex,n=r.mask,i=r.motion;return n?o.createElement(Qr,le({},i,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(u){var l=u.className;return o.createElement("div",{style:{zIndex:a},className:ae("".concat(e,"-mask"),l)})}):null}var kn=o.memo(function(r){var e=r.children;return e},function(r,e){return e.cache}),Pn=o.forwardRef(function(r,e){var t=r.popup,a=r.className,n=r.prefixCls,i=r.style,u=r.target,l=r.onVisibleChanged,f=r.open,c=r.keepDom,d=r.onClick,s=r.mask,m=r.arrow,v=r.arrowPos,g=r.align,h=r.motion,S=r.maskMotion,b=r.forceRender,N=r.getPopupContainer,E=r.autoDestroy,C=r.portal,R=r.zIndex,T=r.onMouseEnter,B=r.onMouseLeave,H=r.onPointerEnter,F=r.ready,$=r.offsetX,U=r.offsetY,se=r.offsetR,ie=r.offsetB,V=r.onAlign,j=r.onPrepare,I=r.stretch,x=r.targetWidth,A=r.targetHeight,L=typeof t=="function"?t():t,K=f||c,z=(N==null?void 0:N.length)>0,we=o.useState(!N||!z),Fe=k(we,2),ye=Fe[0],Pe=Fe[1];if(J(function(){!ye&&z&&u&&Pe(!0)},[ye,z,u]),!ye)return null;var ce="auto",W={left:"-1000vw",top:"-1000vh",right:ce,bottom:ce};if(F||!f){var te=g.points,re=g._experimental,p=re==null?void 0:re.dynamicInset,Ve=p&&te[0][1]==="r",Qe=p&&te[0][0]==="b";Ve?(W.right=se,W.left=ce):(W.left=$,W.right=ce),Qe?(W.bottom=ie,W.top=ce):(W.top=U,W.bottom=ce)}var Z={};return I&&(I.includes("height")&&A?Z.height=A:I.includes("minHeight")&&A&&(Z.minHeight=A),I.includes("width")&&x?Z.width=x:I.includes("minWidth")&&x&&(Z.minWidth=x)),f||(Z.pointerEvents="none"),o.createElement(C,{open:b||K,getContainer:N&&function(){return N(u)},autoDestroy:E},o.createElement(xn,{prefixCls:n,open:f,zIndex:R,mask:s,motion:S}),o.createElement(Or,{onResize:V,disabled:!f},function(De){return o.createElement(Qr,le({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(n,"-hidden")},h,{onAppearPrepare:j,onEnterPrepare:j,visible:f,onVisibleChanged:function(X){var Se;h==null||(Se=h.onVisibleChanged)===null||Se===void 0||Se.call(h,X),l(X)}}),function(be,X){var Se=be.className,P=be.style,Me=ae(n,Se,a);return o.createElement("div",{ref:cn(De,e,X),className:Me,style:_(_(_(_({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},W),Z),P),{},{boxSizing:"border-box",zIndex:R},i),onMouseEnter:T,onMouseLeave:B,onPointerEnter:H,onClick:d},m&&o.createElement(Rn,{prefixCls:n,arrow:m,arrowPos:v,align:g}),o.createElement(kn,{cache:!f},L))})}))}),Dn=o.forwardRef(function(r,e){var t=r.children,a=r.getTriggerDOMNode,n=qt(t),i=o.useCallback(function(l){fn(e,a?a(l):l)},[a]),u=jr(i,t.ref);return n?o.cloneElement(t,{ref:u}):t}),In=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function _n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jt,e=o.forwardRef(function(t,a){var n=t.prefixCls,i=n===void 0?"rc-trigger-popup":n,u=t.children,l=t.action,f=l===void 0?"hover":l,c=t.showAction,d=t.hideAction,s=t.popupVisible,m=t.defaultPopupVisible,v=t.onPopupVisibleChange,g=t.afterPopupVisibleChange,h=t.mouseEnterDelay,S=t.mouseLeaveDelay,b=S===void 0?.1:S,N=t.focusDelay,E=t.blurDelay,C=t.mask,R=t.maskClosable,T=R===void 0?!0:R,B=t.getPopupContainer,H=t.forceRender,F=t.autoDestroy,$=t.destroyPopupOnHide,U=t.popup,se=t.popupClassName,ie=t.popupStyle,V=t.popupPlacement,j=t.builtinPlacements,I=j===void 0?{}:j,x=t.popupAlign,A=t.zIndex,L=t.stretch,K=t.getPopupClassNameFromAlign,z=t.alignPoint,we=t.onPopupClick,Fe=t.onPopupAlign,ye=t.arrow,Pe=t.popupMotion,ce=t.maskMotion,W=t.popupTransitionName,te=t.popupAnimation,re=t.maskTransitionName,p=t.maskAnimation,Ve=t.className,Qe=t.getTriggerDOMNode,Z=jt(t,In),De=F||$||!1,be=o.useState(!1),X=k(be,2),Se=X[0],P=X[1];J(function(){P(vn())},[]);var Me=o.useRef({}),ne=o.useContext(_r),Je=o.useMemo(function(){return{registerSubPopup:function(w,G){Me.current[w]=G,ne==null||ne.registerSubPopup(w,G)}}},[ne]),Ie=Ur(),_e=o.useState(null),Ne=k(_e,2),fe=Ne[0],me=Ne[1],ee=Be(function(y){Cr(y)&&fe!==y&&me(y),ne==null||ne.registerSubPopup(Ie,y)}),Ee=o.useState(null),ge=k(Ee,2),Re=ge[0],Nt=ge[1],Kt=Be(function(y){Cr(y)&&Re!==y&&Nt(y)}),nt=o.Children.only(u),he=(nt==null?void 0:nt.props)||{},Te={},Zt=Be(function(y){var w,G,Q=Re;return(Q==null?void 0:Q.contains(y))||((w=yr(Q))===null||w===void 0?void 0:w.host)===y||y===Q||(fe==null?void 0:fe.contains(y))||((G=yr(fe))===null||G===void 0?void 0:G.host)===y||y===fe||Object.values(Me.current).some(function(q){return(q==null?void 0:q.contains(y))||y===q})}),Xt=$r(i,Pe,te,W),$e=$r(i,ce,p,re),ve=o.useState(m||!1),st=k(ve,2),Et=st[0],Le=st[1],D=s??Et,O=Be(function(y){s===void 0&&Le(y)});J(function(){Le(s||!1)},[s]);var oe=o.useRef(D);oe.current=D;var Ke=Be(function(y){Nr.flushSync(function(){D!==y&&(O(y),v==null||v(y))})}),ct=o.useRef(),ft=function(){clearTimeout(ct.current)},Ce=function(w){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ft(),G===0?Ke(w):ct.current=setTimeout(function(){Ke(w)},G*1e3)};o.useEffect(function(){return ft},[]);var wt=o.useState(!1),Ze=k(wt,2),vt=Ze[0],Mt=Ze[1];J(function(y){(!y||D)&&Mt(!0)},[D]);var Rt=o.useState(null),dt=k(Rt,2),at=dt[0],ze=dt[1],it=o.useState([0,0]),We=k(it,2),Xe=We[0],xt=We[1],Ye=function(w){xt([w.clientX,w.clientY])},pe=En(D,fe,z?Xe:Re,V,I,x,Fe),ue=k(pe,11),Yt=ue[0],et=ue[1],kt=ue[2],pt=ue[3],Pt=ue[4],Dt=ue[5],tt=ue[6],It=ue[7],er=ue[8],xe=ue[9],ot=ue[10],tr=bn(Se,f,c,d),Ge=k(tr,2),ke=Ge[0],Ae=Ge[1],_t=ke.has("click"),qe=Ae.has("click")||Ae.has("contextMenu"),je=Be(function(){vt||ot()}),Tt=function(){oe.current&&z&&qe&&Ce(!1)};wn(D,Re,fe,je,Tt),J(function(){je()},[Xe,V]),J(function(){D&&!(I!=null&&I[V])&&je()},[JSON.stringify(x)]);var rr=o.useMemo(function(){var y=Nn(I,i,xe,z);return ae(y,K==null?void 0:K(xe))},[xe,K,I,i,z]);o.useImperativeHandle(a,function(){return{forceAlign:je}});var $t=o.useState(0),Lt=k($t,2),nr=Lt[0],ar=Lt[1],ir=o.useState(0),At=k(ir,2),or=At[0],ur=At[1],Ht=function(){if(L&&Re){var w=Re.getBoundingClientRect();ar(w.width),ur(w.height)}},lr=function(){Ht(),je()},sr=function(w){Mt(!1),ot(),g==null||g(w)},cr=function(){return new Promise(function(w){Ht(),ze(function(){return w})})};J(function(){at&&(ot(),at(),ze(null))},[at]);function Y(y,w,G,Q){Te[y]=function(q){var Vt;Q==null||Q(q),Ce(w,G);for(var gr=arguments.length,wr=new Array(gr>1?gr-1:0),zt=1;zt<gr;zt++)wr[zt-1]=arguments[zt];(Vt=he[y])===null||Vt===void 0||Vt.call.apply(Vt,[he,q].concat(wr))}}(_t||qe)&&(Te.onClick=function(y){var w;oe.current&&qe?Ce(!1):!oe.current&&_t&&(Ye(y),Ce(!0));for(var G=arguments.length,Q=new Array(G>1?G-1:0),q=1;q<G;q++)Q[q-1]=arguments[q];(w=he.onClick)===null||w===void 0||w.call.apply(w,[he,y].concat(Q))}),Mn(D,qe,Re,fe,C,T,Zt,Ce);var Bt=ke.has("hover"),Ft=Ae.has("hover"),He,rt;Bt&&(Y("onMouseEnter",!0,h,function(y){Ye(y)}),Y("onPointerEnter",!0,h,function(y){Ye(y)}),He=function(){(D||vt)&&Ce(!0,h)},z&&(Te.onMouseMove=function(y){var w;(w=he.onMouseMove)===null||w===void 0||w.call(he,y)})),Ft&&(Y("onMouseLeave",!1,b),Y("onPointerLeave",!1,b),rt=function(){Ce(!1,b)}),ke.has("focus")&&Y("onFocus",!0,N),Ae.has("focus")&&Y("onBlur",!1,E),ke.has("contextMenu")&&(Te.onContextMenu=function(y){var w;oe.current&&Ae.has("contextMenu")?Ce(!1):(Ye(y),Ce(!0)),y.preventDefault();for(var G=arguments.length,Q=new Array(G>1?G-1:0),q=1;q<G;q++)Q[q-1]=arguments[q];(w=he.onContextMenu)===null||w===void 0||w.call.apply(w,[he,y].concat(Q))}),Ve&&(Te.className=ae(he.className,Ve));var ut=_(_({},he),Te),mt={},fr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];fr.forEach(function(y){Z[y]&&(mt[y]=function(){for(var w,G=arguments.length,Q=new Array(G),q=0;q<G;q++)Q[q]=arguments[q];(w=ut[y])===null||w===void 0||w.call.apply(w,[ut].concat(Q)),Z[y].apply(Z,Q)})});var vr=o.cloneElement(nt,_(_({},ut),mt)),dr={x:Dt,y:tt},mr=ye?_({},ye!==!0?ye:{}):null;return o.createElement(o.Fragment,null,o.createElement(Or,{disabled:!D,ref:Kt,onResize:lr},o.createElement(Dn,{getTriggerDOMNode:Qe},vr)),o.createElement(_r.Provider,{value:Je},o.createElement(Pn,{portal:r,ref:ee,prefixCls:i,popup:U,className:ae(se,rr),style:ie,target:Re,onMouseEnter:He,onMouseLeave:rt,onPointerEnter:He,zIndex:A,open:D,keepDom:vt,onClick:we,mask:C,motion:Xt,maskMotion:$e,onVisibleChanged:sr,onPrepare:cr,forceRender:H,autoDestroy:De,getPopupContainer:B,align:xe,arrow:mr,arrowPos:dr,ready:Yt,offsetX:et,offsetY:kt,offsetR:pt,offsetB:Pt,onAlign:je,stretch:L,targetWidth:nr/It,targetHeight:or/er})))});return e}const Tn=_n(Jt);var $n=["b"],Ln=["v"],hr=function(e){return Math.round(Number(e||0))},An=function(e){if(e&&Qt(e)==="object"&&"h"in e&&"b"in e){var t=e,a=t.b,n=jt(t,$n);return _(_({},n),{},{v:a})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Fr=function(r){Gr(t,r);var e=qr(t);function t(a){return Ut(this,t),e.call(this,An(a))}return Ot(t,[{key:"toHsbString",value:function(){var n=this.toHsb(),i=hr(n.s*100),u=hr(n.b*100),l=hr(n.h),f=n.a,c="hsb(".concat(l,", ").concat(i,"%, ").concat(u,"%)"),d="hsba(".concat(l,", ").concat(i,"%, ").concat(u,"%, ").concat(f.toFixed(f===0?0:2),")");return f===1?c:d}},{key:"toHsb",value:function(){var n=this.toHsv();Qt(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(n=this.originalInput);var i=n;i.v;var u=jt(i,Ln);return _(_({},u),{},{b:n.v})}}]),t}(on),Hn="rc-color-picker",Oe=function(e){return e instanceof Fr?e:new Fr(e)},Bn=Oe("#1677ff"),Kr=function(e){var t=e.offset,a=e.targetRef,n=e.containerRef,i=e.color,u=e.type,l=n.current.getBoundingClientRect(),f=l.width,c=l.height,d=a.current.getBoundingClientRect(),s=d.width,m=d.height,v=s/2,g=m/2,h=(t.x+v)/f,S=1-(t.y+g)/c,b=i.toHsb(),N=h,E=(t.x+v)/f*360;if(u)switch(u){case"hue":return Oe(_(_({},b),{},{h:E<=0?0:E}));case"alpha":return Oe(_(_({},b),{},{a:N<=0?0:N}))}return Oe({h:b.h,s:h<=0?0:h,b:S>=1?1:S,a:b.a})},Zr=function(e,t,a,n){var i=e.current.getBoundingClientRect(),u=i.width,l=i.height,f=t.current.getBoundingClientRect(),c=f.width,d=f.height,s=c/2,m=d/2,v=a.toHsb();if(!(c===0&&d===0||c!==d)){if(n)switch(n){case"hue":return{x:v.h/360*u-s,y:-m/3};case"alpha":return{x:v.a/1*u-s,y:-m/3}}return{x:v.s*u-s,y:(1-v.b)*l-m}}},Fn=function(e){var t=e.color,a=e.prefixCls,n=e.className,i=e.style,u=e.onClick,l="".concat(a,"-color-block");return M.createElement("div",{className:ae(l,n),style:i,onClick:u},M.createElement("div",{className:"".concat(l,"-inner"),style:{background:t}}))};function Vn(r){var e="touches"in r?r.touches[0]:r,t=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,a=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-t,pageY:e.pageY-a}}function Xr(r){var e=r.offset,t=r.targetRef,a=r.containerRef,n=r.direction,i=r.onDragChange,u=r.onDragChangeComplete,l=r.calculate,f=r.color,c=r.disabledDrag,d=o.useState(e||{x:0,y:0}),s=k(d,2),m=s[0],v=s[1],g=o.useRef(null),h=o.useRef(null),S=o.useRef({flag:!1});o.useEffect(function(){if(S.current.flag===!1){var R=l==null?void 0:l(a);R&&v(R)}},[f,a]),o.useEffect(function(){return function(){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",h.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",h.current),g.current=null,h.current=null}},[]);var b=function(T){var B=Vn(T),H=B.pageX,F=B.pageY,$=a.current.getBoundingClientRect(),U=$.x,se=$.y,ie=$.width,V=$.height,j=t.current.getBoundingClientRect(),I=j.width,x=j.height,A=I/2,L=x/2,K=Math.max(0,Math.min(H-U,ie))-A,z=Math.max(0,Math.min(F-se,V))-L,we={x:K,y:n==="x"?m.y:z};if(I===0&&x===0||I!==x)return!1;v(we),i==null||i(we)},N=function(T){T.preventDefault(),b(T)},E=function(T){T.preventDefault(),S.current.flag=!1,document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",h.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",h.current),g.current=null,h.current=null,u==null||u()},C=function(T){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",h.current),!c&&(b(T),S.current.flag=!0,document.addEventListener("mousemove",N),document.addEventListener("mouseup",E),document.addEventListener("touchmove",N),document.addEventListener("touchend",E),g.current=N,h.current=E)};return[m,C]}var Yr=function(e){var t=e.size,a=t===void 0?"default":t,n=e.color,i=e.prefixCls;return M.createElement("div",{className:ae("".concat(i,"-handler"),de({},"".concat(i,"-handler-sm"),a==="small")),style:{backgroundColor:n}})},pr=function(e){var t=e.children,a=e.style,n=e.prefixCls;return M.createElement("div",{className:"".concat(n,"-palette"),style:_({position:"relative"},a)},t)},en=o.forwardRef(function(r,e){var t=r.children,a=r.offset;return M.createElement("div",{ref:e,style:{position:"absolute",left:a.x,top:a.y,zIndex:1}},t)}),zn=function(e){var t=e.color,a=e.onChange,n=e.prefixCls,i=e.onChangeComplete,u=e.disabled,l=o.useRef(),f=o.useRef(),c=o.useRef(t),d=Xr({color:t,containerRef:l,targetRef:f,calculate:function(h){return Zr(h,f,t)},onDragChange:function(h){var S=Kr({offset:h,targetRef:f,containerRef:l,color:t});c.current=S,a(S)},onDragChangeComplete:function(){return i==null?void 0:i(c.current)},disabledDrag:u}),s=k(d,2),m=s[0],v=s[1];return M.createElement("div",{ref:l,className:"".concat(n,"-select"),onMouseDown:v,onTouchStart:v},M.createElement(pr,{prefixCls:n},M.createElement(en,{offset:m,ref:f},M.createElement(Yr,{color:t.toRgbString(),prefixCls:n})),M.createElement("div",{className:"".concat(n,"-saturation"),style:{backgroundColor:"hsl(".concat(t.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},Wn=function(e){var t=e.colors,a=e.children,n=e.direction,i=n===void 0?"to right":n,u=e.type,l=e.prefixCls,f=o.useMemo(function(){return t.map(function(c,d){var s=Oe(c);return u==="alpha"&&d===t.length-1&&s.setAlpha(1),s.toRgbString()}).join(",")},[t,u]);return M.createElement("div",{className:"".concat(l,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(i,", ").concat(f,")")}},a)},Vr=function(e){var t=e.gradientColors,a=e.direction,n=e.type,i=n===void 0?"hue":n,u=e.color,l=e.value,f=e.onChange,c=e.onChangeComplete,d=e.disabled,s=e.prefixCls,m=o.useRef(),v=o.useRef(),g=o.useRef(u),h=Xr({color:u,targetRef:v,containerRef:m,calculate:function(C){return Zr(C,v,u,i)},onDragChange:function(C){var R=Kr({offset:C,targetRef:v,containerRef:m,color:u,type:i});g.current=R,f(R)},onDragChangeComplete:function(){c==null||c(g.current,i)},direction:"x",disabledDrag:d}),S=k(h,2),b=S[0],N=S[1];return M.createElement("div",{ref:m,className:ae("".concat(s,"-slider"),"".concat(s,"-slider-").concat(i)),onMouseDown:N,onTouchStart:N},M.createElement(pr,{prefixCls:s},M.createElement(en,{offset:b,ref:v},M.createElement(Yr,{size:"small",color:l,prefixCls:s})),M.createElement(Wn,{colors:t,direction:a,type:i,prefixCls:s})))};function zr(r){return r!==void 0}var Gn=function(e,t){var a=t.defaultValue,n=t.value,i=o.useState(function(){var c;return zr(n)?c=n:zr(a)?c=a:c=e,Oe(c)}),u=k(i,2),l=u[0],f=u[1];return o.useEffect(function(){n&&f(Oe(n))},[n]),[l,f]},qn=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const da=o.forwardRef(function(r,e){var t=r.value,a=r.defaultValue,n=r.prefixCls,i=n===void 0?Hn:n,u=r.onChange,l=r.onChangeComplete,f=r.className,c=r.style,d=r.panelRender,s=r.disabledAlpha,m=s===void 0?!1:s,v=r.disabled,g=v===void 0?!1:v,h=Gn(Bn,{value:t,defaultValue:a}),S=k(h,2),b=S[0],N=S[1],E=o.useMemo(function(){var H=Oe(b.toRgbString());return H.setAlpha(1),H.toRgbString()},[b]),C=ae("".concat(i,"-panel"),f,de({},"".concat(i,"-panel-disabled"),g)),R={prefixCls:i,onChangeComplete:l,disabled:g},T=function(F,$){t||N(F),u==null||u(F,$)},B=M.createElement(M.Fragment,null,M.createElement(zn,le({color:b,onChange:T},R)),M.createElement("div",{className:"".concat(i,"-slider-container")},M.createElement("div",{className:ae("".concat(i,"-slider-group"),de({},"".concat(i,"-slider-group-disabled-alpha"),m))},M.createElement(Vr,le({gradientColors:qn,color:b,value:"hsl(".concat(b.toHsb().h,",100%, 50%)"),onChange:function(F){return T(F,"hue")}},R)),!m&&M.createElement(Vr,le({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",E],color:b,value:b.toRgbString(),onChange:function(F){return T(F,"alpha")}},R))),M.createElement(Fn,{color:b.toRgbString(),prefixCls:i})));return M.createElement("div",{className:C,style:c,ref:e},typeof d=="function"?d(B):B)});function Sr(){return typeof BigInt=="function"}function tn(r){return!r&&r!==0&&!Number.isNaN(r)||!String(r).trim()}function Ct(r){var e=r.trim(),t=e.startsWith("-");t&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var a=e||"0",n=a.split("."),i=n[0]||"0",u=n[1]||"0";i==="0"&&u==="0"&&(t=!1);var l=t?"-":"";return{negative:t,negativeStr:l,trimStr:a,integerStr:i,decimalStr:u,fullStr:"".concat(l).concat(a)}}function Er(r){var e=String(r);return!Number.isNaN(Number(e))&&e.includes("e")}function ht(r){var e=String(r);if(Er(r)){var t=Number(e.slice(e.indexOf("e-")+2)),a=e.match(/\.(\d+)/);return a!=null&&a[1]&&(t+=a[1].length),t}return e.includes(".")&&nn(e)?e.length-e.indexOf(".")-1:0}function rn(r){var e=String(r);if(Er(r)){if(r>Number.MAX_SAFE_INTEGER)return String(Sr()?BigInt(r).toString():Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return String(Sr()?BigInt(r).toString():Number.MIN_SAFE_INTEGER);e=r.toFixed(ht(e))}return Ct(e).fullStr}function nn(r){return typeof r=="number"?!Number.isNaN(r):r?/^\s*-?\d+(\.\d+)?\s*$/.test(r)||/^\s*-?\d+\.\s*$/.test(r)||/^\s*-?\.\d+\s*$/.test(r):!1}var jn=function(){function r(e){if(Ut(this,r),de(this,"origin",""),de(this,"negative",void 0),de(this,"integer",void 0),de(this,"decimal",void 0),de(this,"decimalLen",void 0),de(this,"empty",void 0),de(this,"nan",void 0),tn(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var t=e;if(Er(t)&&(t=Number(t)),t=typeof t=="string"?t:rn(t),nn(t)){var a=Ct(t);this.negative=a.negative;var n=a.trimStr.split(".");this.integer=BigInt(n[0]);var i=n[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return Ot(r,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var a="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(a)}},{key:"negate",value:function(){var t=new r(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,a,n){var i=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),u=this.alignDecimal(i),l=t.alignDecimal(i),f=a(u,l).toString(),c=n(i),d=Ct(f),s=d.negativeStr,m=d.trimStr,v="".concat(s).concat(m.padStart(c+1,"0"));return new r("".concat(v.slice(0,-c),".").concat(v.slice(-c)))}},{key:"add",value:function(t){if(this.isInvalidate())return new r(t);var a=new r(t);return a.isInvalidate()?this:this.cal(a,function(n,i){return n+i},function(n){return n})}},{key:"multi",value:function(t){var a=new r(t);return this.isInvalidate()||a.isInvalidate()?new r(NaN):this.cal(a,function(n,i){return n*i},function(n){return n*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(t==null?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":Ct("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),r}(),Un=function(){function r(e){if(Ut(this,r),de(this,"origin",""),de(this,"number",void 0),de(this,"empty",void 0),tn(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Ot(r,[{key:"negate",value:function(){return new r(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new r(t);var a=Number(t);if(Number.isNaN(a))return this;var n=this.number+a;if(n>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(ht(this.number),ht(a));return new r(n.toFixed(i))}},{key:"multi",value:function(t){var a=Number(t);if(this.isInvalidate()||Number.isNaN(a))return new r(NaN);var n=this.number*a;if(n>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(ht(this.number),ht(a));return new r(n.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(t==null?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":rn(this.number):this.origin}}]),r}();function On(r){return Sr()?new jn(r):new Un(r)}function Qn(r,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(r==="")return"";var n=Ct(r),i=n.negativeStr,u=n.integerStr,l=n.decimalStr,f="".concat(e).concat(l),c="".concat(i).concat(u);if(t>=0){var d=Number(l[t]);if(d>=5&&!a){var s=On(r).add("".concat(i,"0.").concat("0".repeat(t)).concat(10-d));return Qn(s.toString(),e,t,a)}return t===0?c:"".concat(c).concat(e).concat(l.padEnd(t,"0").slice(0,t))}return f===".0"?c:"".concat(c).concat(f)}function ma(r){var e=o.createContext(void 0),t=function(n){var i=n.value,u=n.children,l=o.useRef(i);l.current=i;var f=o.useState(function(){return{getValue:function(){return l.current},listeners:new Set}}),c=k(f,1),d=c[0];return J(function(){Nr.unstable_batchedUpdates(function(){d.listeners.forEach(function(s){s(i)})})},[i]),o.createElement(e.Provider,{value:d},u)};return{Context:e,Provider:t,defaultValue:r}}function ga(r,e){var t=Be(typeof e=="function"?e:function(s){if(e===void 0)return s;if(!Array.isArray(e))return s[e];var m={};return e.forEach(function(v){m[v]=s[v]}),m}),a=o.useContext(r==null?void 0:r.Context),n=a||{},i=n.listeners,u=n.getValue,l=o.useRef();l.current=t(a?u():r==null?void 0:r.defaultValue);var f=o.useState({}),c=k(f,2),d=c[1];return J(function(){if(!a)return;function s(m){var v=t(m);dn(l.current,v,!0)||d({})}return i.add(s),function(){i.delete(s)}},[a]),l.current}function ha(){var r=o.createContext(null);function e(){return o.useContext(r)}function t(n,i){var u=qt(n),l=function(c,d){var s=u?{ref:d}:{},m=o.useRef(0),v=o.useRef(c),g=e();return g!==null?o.createElement(n,le({},c,s)):((!i||i(v.current,c))&&(m.current+=1),v.current=c,o.createElement(r.Provider,{value:m.current},o.createElement(n,le({},c,s))))};return u?o.forwardRef(l):l}function a(n,i){var u=qt(n),l=function(c,d){var s=u?{ref:d}:{};return e(),o.createElement(n,le({},c,s))};return u?o.memo(o.forwardRef(l),i):o.memo(l,i)}return{makeImmutable:t,responseImmutable:a,useImmutableMark:e}}function Jn(r){var e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,a=r.getBoundingClientRect(),n=a.top,i=a.right,u=a.bottom,l=a.left;return n>=0&&l>=0&&i<=e&&u<=t}function Kn(r,e,t){var a;return(a=t??e)!==null&&a!==void 0?a:r===null?"center":"bottom"}function Zn(r,e,t,a){var n=o.useState(void 0),i=k(n,2),u=i[0],l=i[1];J(function(){var h=typeof r=="function"?r():r;l(h||null)});var f=o.useState(null),c=k(f,2),d=c[0],s=c[1],m=Be(function(){if(u){!Jn(u)&&e&&u.scrollIntoView(a);var h=u.getBoundingClientRect(),S=h.left,b=h.top,N=h.width,E=h.height,C={left:S,top:b,width:N,height:E,radius:0};s(function(R){return JSON.stringify(R)!==JSON.stringify(C)?C:R})}else s(null)}),v=function(S){var b;return(b=Array.isArray(t==null?void 0:t.offset)?t==null?void 0:t.offset[S]:t==null?void 0:t.offset)!==null&&b!==void 0?b:6};J(function(){return m(),window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}},[u,e,m]);var g=o.useMemo(function(){if(!d)return d;var h=v(0),S=v(1),b=(t==null?void 0:t.radius)||2;return{left:d.left-h,top:d.top-S,width:d.width+h*2,height:d.height+S*2,radius:b}},[d,t]);return[g,u]}var Wt={fill:"transparent",pointerEvents:"auto"},Xn=function(e){var t=e.prefixCls,a=e.rootClassName,n=e.pos,i=e.showMask,u=e.style,l=u===void 0?{}:u,f=e.fill,c=f===void 0?"rgba(0,0,0,0.5)":f,d=e.open,s=e.animated,m=e.zIndex,v=Ur(),g="".concat(t,"-mask-").concat(v),h=Qt(s)==="object"?s==null?void 0:s.placeholder:s;return M.createElement(Jt,{open:d,autoLock:!0},M.createElement("div",{className:ae("".concat(t,"-mask"),a),style:_({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:m,pointerEvents:"none"},l)},i?M.createElement("svg",{style:{width:"100%",height:"100%"}},M.createElement("defs",null,M.createElement("mask",{id:g},M.createElement("rect",{x:"0",y:"0",width:"100vw",height:"100vh",fill:"white"}),n&&M.createElement("rect",{x:n.left,y:n.top,rx:n.radius,width:n.width,height:n.height,fill:"black",className:h?"".concat(t,"-placeholder-animated"):""}))),M.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:c,mask:"url(#".concat(g,")")}),n&&M.createElement(M.Fragment,null,M.createElement("rect",le({},Wt,{x:"0",y:"0",width:"100%",height:n.top})),M.createElement("rect",le({},Wt,{x:"0",y:"0",width:n.left,height:"100%"})),M.createElement("rect",le({},Wt,{x:"0",y:n.top+n.height,width:"100%",height:"calc(100vh - ".concat(n.top+n.height,"px)")})),M.createElement("rect",le({},Wt,{x:n.left+n.width,y:"0",width:"calc(100vw - ".concat(n.left+n.width,"px)"),height:"100%"})))):null))},Yn=[0,0],Wr={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function an(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e={};return Object.keys(Wr).forEach(function(t){e[t]=_(_({},Wr[t]),{},{autoArrow:r,targetOffset:Yn})}),e}an();function pn(r){var e=r.prefixCls,t=r.current,a=r.total,n=r.title,i=r.description,u=r.onClose,l=r.onPrev,f=r.onNext,c=r.onFinish,d=r.className,s=r.closeIcon,m=s!==!1&&s!==null,v=s!==void 0&&s!==!0?s:o.createElement("span",{className:"".concat(e,"-close-x")},"Ã—");return o.createElement("div",{className:ae("".concat(e,"-content"),d)},o.createElement("div",{className:"".concat(e,"-inner")},m&&o.createElement("button",{type:"button",onClick:u,"aria-label":"Close",className:"".concat(e,"-close")},v),o.createElement("div",{className:"".concat(e,"-header")},o.createElement("div",{className:"".concat(e,"-title")},n)),o.createElement("div",{className:"".concat(e,"-description")},i),o.createElement("div",{className:"".concat(e,"-footer")},o.createElement("div",{className:"".concat(e,"-sliders")},a>1?Gt(Array.from({length:a}).keys()).map(function(g,h){return o.createElement("span",{key:g,className:h===t?"active":""})}):null),o.createElement("div",{className:"".concat(e,"-buttons")},t!==0?o.createElement("button",{className:"".concat(e,"-prev-btn"),onClick:l},"Prev"):null,t===a-1?o.createElement("button",{className:"".concat(e,"-finish-btn"),onClick:c},"Finish"):o.createElement("button",{className:"".concat(e,"-next-btn"),onClick:f},"Next")))))}var ea=function(e){var t=e.current,a=e.renderPanel;return o.createElement(o.Fragment,null,typeof a=="function"?a(e,t):o.createElement(pn,e))},ta=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon"],ra={left:"50%",top:"50%",width:1,height:1},Ca=function(e){var t=e.prefixCls,a=t===void 0?"rc-tour":t,n=e.steps,i=n===void 0?[]:n,u=e.defaultCurrent,l=e.current,f=e.onChange,c=e.onClose,d=e.onFinish,s=e.open,m=e.mask,v=m===void 0?!0:m,g=e.arrow,h=g===void 0?!0:g,S=e.rootClassName,b=e.placement,N=e.renderPanel,E=e.gap,C=e.animated,R=e.scrollIntoViewOptions,T=R===void 0?!0:R,B=e.zIndex,H=B===void 0?1001:B,F=e.closeIcon,$=jt(e,ta),U=o.useRef(),se=xr(0,{value:l,defaultValue:u}),ie=k(se,2),V=ie[0],j=ie[1],I=xr(void 0,{value:s,postState:function(ee){return V<0||V>=i.length?!1:ee??!0}}),x=k(I,2),A=x[0],L=x[1],K=o.useRef(A);J(function(){A&&!K.current&&j(0),K.current=A},[A]);var z=i[V]||{},we=z.target,Fe=z.placement,ye=z.style,Pe=z.arrow,ce=z.className,W=z.mask,te=z.scrollIntoViewOptions,re=z.closeIcon,p=A&&(W??v),Ve=re??F,Qe=te??T,Z=Zn(we,s,E,Qe),De=k(Z,2),be=De[0],X=De[1],Se=Kn(X,b,Fe),P=X?typeof Pe>"u"?h:Pe:!1,Me=Qt(P)==="object"?P.pointAtCenter:!1;J(function(){var me;(me=U.current)===null||me===void 0||me.forceAlign()},[Me,V]);var ne=function(ee){j(ee),f==null||f(ee)};if(X===void 0)return null;var Je=function(){L(!1),c==null||c(V)},Ie=function(){return o.createElement(ea,le({arrow:P,key:"content",prefixCls:a,total:i.length,renderPanel:N,onPrev:function(){ne(V-1)},onNext:function(){ne(V+1)},onClose:Je,current:V,onFinish:function(){Je(),d==null||d()},closeIcon:Ve},i[V]))},_e=typeof p=="boolean"?p:!!p,Ne=typeof p=="boolean"?void 0:p,fe=function(ee){return ee||X||document.body};return o.createElement(o.Fragment,null,o.createElement(Xn,{zIndex:H,prefixCls:a,pos:be,showMask:_e,style:Ne==null?void 0:Ne.style,fill:Ne==null?void 0:Ne.color,open:A,animated:C,rootClassName:S}),o.createElement(Tn,le({builtinPlacements:an(Me)},$,{ref:U,popupStyle:ye,popupPlacement:Se,popupVisible:A,popupClassName:ae(S,ce),prefixCls:a,popup:Ie,forceRender:!1,destroyPopupOnHide:!0,zIndex:H,getTriggerDOMNode:fe,arrow:!!P}),o.createElement(Jt,{open:A,autoLock:!0},o.createElement("div",{className:ae(S,"".concat(a,"-target-placeholder")),style:_(_({},be||ra),{},{position:"fixed",pointerEvents:"none"})}))))};M.Component;var na={subtree:!0,childList:!0,attributeFilter:["style","class"]};function ya(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:na;o.useEffect(function(){if(!(!yt()||!r)){var a,n=Array.isArray(r)?r:[r];return"MutationObserver"in window&&(a=new MutationObserver(e),n.forEach(function(i){a.observe(i,t)})),function(){var i,u;(i=a)===null||i===void 0||i.takeRecords(),(u=a)===null||u===void 0||u.disconnect()}}},[t,r])}export{Fr as C,Jt as P,Ca as T,da as a,Fn as b,Tn as c,ht as d,Qn as e,ha as f,On as g,ma as h,ga as i,rn as n,Ct as t,ya as u,nn as v};
