/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function t(){return t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},t.apply(this,arguments)}var e,n;(n=e||(e={})).Pop="POP",n.Push="PUSH",n.Replace="REPLACE";const a="popstate";function r(n){return void 0===n&&(n={}),function(n,r,h,c){void 0===c&&(c={});let{window:u=document.defaultView,v5Compat:p=!1}=c,f=u.history,d=e.Pop,m=null,g=y();null==g&&(g=0,f.replaceState(t({},f.state,{idx:g}),""));function y(){return(f.state||{idx:null}).idx}function v(){d=e.Pop;let t=y(),n=null==t?null:t-g;g=t,m&&m({action:d,location:L.location,delta:n})}function w(t,n){d=e.Push;let a=s(L.location,t,n);g=y()+1;let r=i(a,g),o=L.createHref(a);try{f.pushState(r,"",o)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;u.location.assign(o)}p&&m&&m({action:d,location:L.location,delta:1})}function P(t,n){d=e.Replace;let a=s(L.location,t,n);g=y();let r=i(a,g),o=L.createHref(a);f.replaceState(r,"",o),p&&m&&m({action:d,location:L.location,delta:0})}function b(t){let e="null"!==u.location.origin?u.location.origin:u.location.href,n="string"==typeof t?t:l(t);return n=n.replace(/ $/,"%20"),o(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}let L={get action(){return d},get location(){return n(u,f)},listen(t){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(a,v),m=t,()=>{u.removeEventListener(a,v),m=null}},createHref:t=>r(u,t),createURL:b,encodeLocation(t){let e=b(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:w,replace:P,go:t=>f.go(t)};return L}((function(t,e){let{pathname:n,search:a,hash:r}=t.location;return s("",{pathname:n,search:a,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"==typeof e?e:l(e)}),0,n)}function o(t,e){if(!1===t||null==t)throw new Error(e)}function i(t,e){return{usr:t.state,key:t.key,idx:e}}function s(e,n,a,r){return void 0===a&&(a=null),t({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof n?h(n):n,{state:a,key:n&&n.key||r||Math.random().toString(36).substr(2,8)})}function l(t){let{pathname:e="/",search:n="",hash:a=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(e+="#"===a.charAt(0)?a:"#"+a),e}function h(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substr(a),t=t.substr(0,a)),t&&(e.pathname=t)}return e}var c,u;function p(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&"/"!==a?null:t.slice(n)||"/"}function f(t,e,n,a){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function d(t,e){let n=function(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}(t);return e?n.map(((t,e)=>e===n.length-1?t.pathname:t.pathnameBase)):n.map((t=>t.pathnameBase))}function m(e,n,a,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=h(e):(i=t({},e),o(!i.pathname||!i.pathname.includes("?"),f("?","pathname","search",i)),o(!i.pathname||!i.pathname.includes("#"),f("#","pathname","hash",i)),o(!i.search||!i.search.includes("#"),f("#","search","hash",i)));let s,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)s=a;else{let t=n.length-1;if(!r&&c.startsWith("..")){let e=c.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}s=t>=0?n[t]:"/"}let u=function(t,e){void 0===e&&(e="/");let{pathname:n,search:a="",hash:r=""}="string"==typeof t?h(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:y(a),hash:v(r)}}(i,s),p=c&&"/"!==c&&c.endsWith("/"),d=(l||"."===c)&&a.endsWith("/");return u.pathname.endsWith("/")||!p&&!d||(u.pathname+="/"),u}(u=c||(c={})).data="data",u.deferred="deferred",u.redirect="redirect",u.error="error";const g=t=>t.join("/").replace(/\/\/+/g,"/"),y=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",v=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"",w=["post","put","patch","delete"];new Set(w);const P=["get",...w];new Set(P);export{e as A,r as a,l as c,d as g,o as i,g as j,h as p,m as r,p as s};
