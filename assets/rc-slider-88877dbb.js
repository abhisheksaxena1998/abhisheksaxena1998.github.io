import{h as Ze,g as pe,b as z,e as Y,c as W,f as te,d as gt}from"./@babel-28107d12.js";import{c as ie}from"./classnames-325479d5.js";import{K as ee,p as ht,o as bt}from"./rc-util-49e5c6c2.js";import{r as t}from"./react-d998b26c.js";var ce=t.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});function He(e,u,r){return(e-u)/(r-u)}function Oe(e,u,r,m){var o=He(u,r,m),i={};switch(e){case"rtl":i.right="".concat(o*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(o*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(o*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(o*100,"%"),i.transform="translateX(-50%)";break}return i}function me(e,u){return Array.isArray(e)?e[u]:e}var yt=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Ct=t.forwardRef(function(e,u){var r,m,o=e.prefixCls,i=e.value,c=e.valueIndex,b=e.onStartMove,E=e.style,k=e.render,y=e.dragging,C=e.onOffsetChange,g=Ze(e,yt),l=t.useContext(ce),s=l.min,v=l.max,n=l.direction,d=l.disabled,a=l.keyboard,h=l.range,$=l.tabIndex,R=l.ariaLabelForHandle,B=l.ariaLabelledByForHandle,A=l.ariaValueTextFormatterForHandle,H=l.styles,F=l.classNames,x="".concat(o,"-handle"),w=function(L){d||b(L,c)},N=function(L){if(!d&&a){var S=null;switch(L.which||L.keyCode){case ee.LEFT:S=n==="ltr"||n==="btt"?-1:1;break;case ee.RIGHT:S=n==="ltr"||n==="btt"?1:-1;break;case ee.UP:S=n!=="ttb"?1:-1;break;case ee.DOWN:S=n!=="ttb"?-1:1;break;case ee.HOME:S="min";break;case ee.END:S="max";break;case ee.PAGE_UP:S=2;break;case ee.PAGE_DOWN:S=-2;break}S!==null&&(L.preventDefault(),C(S,c))}},U=Oe(n,i,s,v),I=t.createElement("div",pe({ref:u,className:ie(x,(r={},z(r,"".concat(x,"-").concat(c+1),h),z(r,"".concat(x,"-dragging"),y),r),F.handle),style:Y(Y(Y({},U),E),H.handle),onMouseDown:w,onTouchStart:w,onKeyDown:N,tabIndex:d?null:me($,c),role:"slider","aria-valuemin":s,"aria-valuemax":v,"aria-valuenow":i,"aria-disabled":d,"aria-label":me(R,c),"aria-labelledby":me(B,c),"aria-valuetext":(m=me(A,c))===null||m===void 0?void 0:m(i),"aria-orientation":n==="ltr"||n==="rtl"?"horizontal":"vertical"},g));return k&&(I=k(I,{index:c,prefixCls:o,value:i,dragging:y})),I}),St=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],kt=t.forwardRef(function(e,u){var r=e.prefixCls,m=e.style,o=e.onStartMove,i=e.onOffsetChange,c=e.values,b=e.handleRender,E=e.draggingIndex,k=Ze(e,St),y=t.useRef({});return t.useImperativeHandle(u,function(){return{focus:function(g){var l;(l=y.current[g])===null||l===void 0||l.focus()}}}),t.createElement(t.Fragment,null,c.map(function(C,g){return t.createElement(Ct,pe({ref:function(s){s?y.current[g]=s:delete y.current[g]},dragging:E===g,prefixCls:r,style:me(m,g),key:g,value:C,valueIndex:g,onStartMove:o,onOffsetChange:i,render:b},k))}))});function Qe(e){var u="touches"in e?e.touches[0]:e;return{pageX:u.pageX,pageY:u.pageY}}function Mt(e,u,r,m,o,i,c,b,E){var k=t.useState(null),y=W(k,2),C=y[0],g=y[1],l=t.useState(-1),s=W(l,2),v=s[0],n=s[1],d=t.useState(r),a=W(d,2),h=a[0],$=a[1],R=t.useState(r),B=W(R,2),A=B[0],H=B[1],F=t.useRef(null),x=t.useRef(null);t.useEffect(function(){v===-1&&$(r)},[r,v]),t.useEffect(function(){return function(){document.removeEventListener("mousemove",F.current),document.removeEventListener("mouseup",x.current),document.removeEventListener("touchmove",F.current),document.removeEventListener("touchend",x.current)}},[]);var w=function(S,P){h.some(function(O,q){return O!==S[q]})&&(P!==void 0&&g(P),$(S),c(S))},N=function(S,P){if(S===-1){var O=A[0],q=A[A.length-1],se=m-O,ge=o-q,X=P*(o-m);X=Math.max(X,se),X=Math.min(X,ge);var ae=i(O+X);X=ae-O;var re=A.map(function(he){return he+X});w(re)}else{var J=(o-m)*P,ne=te(h);ne[S]=A[S];var Q=E(ne,J,S,"dist");w(Q.values,Q.value)}},U=t.useRef(N);U.current=N;var I=function(S,P){S.stopPropagation();var O=r[P];n(P),g(O),H(r);var q=Qe(S),se=q.pageX,ge=q.pageY,X=function(J){J.preventDefault();var ne=Qe(J),Q=ne.pageX,he=ne.pageY,xe=Q-se,be=he-ge,ye=e.current.getBoundingClientRect(),Ce=ye.width,Se=ye.height,V;switch(u){case"btt":V=-be/Se;break;case"ttb":V=be/Se;break;case"rtl":V=-xe/Ce;break;default:V=xe/Ce}U.current(P,V)},ae=function re(J){J.preventDefault(),document.removeEventListener("mouseup",re),document.removeEventListener("mousemove",X),document.removeEventListener("touchend",re),document.removeEventListener("touchmove",X),F.current=null,x.current=null,n(-1),b()};document.addEventListener("mouseup",ae),document.addEventListener("mousemove",X),document.addEventListener("touchend",ae),document.addEventListener("touchmove",X),F.current=X,x.current=ae},j=t.useMemo(function(){var L=te(r).sort(function(P,O){return P-O}),S=te(h).sort(function(P,O){return P-O});return L.every(function(P,O){return P===S[O]})?h:r},[r,h]);return[v,C,j,I]}function Et(e,u,r,m,o,i){var c=t.useCallback(function(l){var s=isFinite(l)?l:e;return s=Math.min(u,l),s=Math.max(e,s),s},[e,u]),b=t.useCallback(function(l){if(r!==null){var s=e+Math.round((c(l)-e)/r)*r,v=function(h){return(String(h).split(".")[1]||"").length},n=Math.max(v(r),v(u),v(e)),d=Number(s.toFixed(n));return e<=d&&d<=u?d:null}return null},[r,e,u,c]),E=t.useCallback(function(l){var s=c(l),v=m.map(function(a){return a.value});r!==null&&v.push(b(l)),v.push(e,u);var n=v[0],d=u-e;return v.forEach(function(a){var h=Math.abs(s-a);h<=d&&(n=a,d=h)}),n},[e,u,m,r,c,b]),k=function l(s,v,n){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof v=="number"){var a,h=s[n],$=h+v,R=[];m.forEach(function(x){R.push(x.value)}),R.push(e,u),R.push(b(h));var B=v>0?1:-1;d==="unit"?R.push(b(h+B*r)):R.push(b($)),R=R.filter(function(x){return x!==null}).filter(function(x){return v<0?x<=h:x>=h}),d==="unit"&&(R=R.filter(function(x){return x!==h}));var A=d==="unit"?h:$;a=R[0];var H=Math.abs(a-A);if(R.forEach(function(x){var w=Math.abs(x-A);w<H&&(a=x,H=w)}),a===void 0)return v<0?e:u;if(d==="dist")return a;if(Math.abs(v)>1){var F=te(s);return F[n]=a,l(F,v-B,n,d)}return a}else{if(v==="min")return e;if(v==="max")return u}},y=function(s,v,n){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",a=s[n],h=k(s,v,n,d);return{value:h,changed:h!==a}},C=function(s){return i===null&&s===0||typeof i=="number"&&s<i},g=function(s,v,n){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",a=s.map(E),h=a[n],$=k(a,v,n,d);if(a[n]=$,o===!1){var R=i||0;n>0&&a[n-1]!==h&&(a[n]=Math.max(a[n],a[n-1]+R)),n<a.length-1&&a[n+1]!==h&&(a[n]=Math.min(a[n],a[n+1]-R))}else if(typeof i=="number"||i===null){for(var B=n+1;B<a.length;B+=1)for(var A=!0;C(a[B]-a[B-1])&&A;){var H=y(a,1,B);a[B]=H.value,A=H.changed}for(var F=n;F>0;F-=1)for(var x=!0;C(a[F]-a[F-1])&&x;){var w=y(a,-1,F-1);a[F-1]=w.value,x=w.changed}for(var N=a.length-1;N>0;N-=1)for(var U=!0;C(a[N]-a[N-1])&&U;){var I=y(a,-1,N-1);a[N-1]=I.value,U=I.changed}for(var j=0;j<a.length-1;j+=1)for(var L=!0;C(a[j+1]-a[j])&&L;){var S=y(a,1,j+1);a[j+1]=S.value,L=S.changed}}return{value:a[n],values:a}};return[E,g]}function xt(e){var u=e.prefixCls,r=e.style,m=e.children,o=e.value,i=e.onClick,c=t.useContext(ce),b=c.min,E=c.max,k=c.direction,y=c.includedStart,C=c.includedEnd,g=c.included,l="".concat(u,"-text"),s=Oe(k,o,b,E);return t.createElement("span",{className:ie(l,z({},"".concat(l,"-active"),g&&y<=o&&o<=C)),style:Y(Y({},s),r),onMouseDown:function(n){n.stopPropagation()},onClick:function(){i(o)}},m)}function Rt(e){var u=e.prefixCls,r=e.marks,m=e.onClick,o="".concat(u,"-mark");return r.length?t.createElement("div",{className:o},r.map(function(i){var c=i.value,b=i.style,E=i.label;return t.createElement(xt,{key:c,prefixCls:o,style:b,value:c,onClick:m},E)})):null}function $t(e){var u=e.prefixCls,r=e.value,m=e.style,o=e.activeStyle,i=t.useContext(ce),c=i.min,b=i.max,E=i.direction,k=i.included,y=i.includedStart,C=i.includedEnd,g="".concat(u,"-dot"),l=k&&y<=r&&r<=C,s=Y(Y({},Oe(E,r,c,b)),typeof m=="function"?m(r):m);return l&&(s=Y(Y({},s),typeof o=="function"?o(r):o)),t.createElement("span",{className:ie(g,z({},"".concat(g,"-active"),l)),style:s})}function Ft(e){var u=e.prefixCls,r=e.marks,m=e.dots,o=e.style,i=e.activeStyle,c=t.useContext(ce),b=c.min,E=c.max,k=c.step,y=t.useMemo(function(){var C=new Set;if(r.forEach(function(l){C.add(l.value)}),m&&k!==null)for(var g=b;g<=E;)C.add(g),g+=k;return Array.from(C)},[b,E,k,m,r]);return t.createElement("div",{className:"".concat(u,"-step")},y.map(function(C){return t.createElement($t,{prefixCls:u,key:C,value:C,style:o,activeStyle:i})}))}function Ve(e){var u,r=e.prefixCls,m=e.style,o=e.start,i=e.end,c=e.index,b=e.onStartMove,E=e.replaceCls,k=t.useContext(ce),y=k.direction,C=k.min,g=k.max,l=k.disabled,s=k.range,v=k.classNames,n="".concat(r,"-track"),d=He(o,C,g),a=He(i,C,g),h=function(A){!l&&b&&b(A,-1)},$={};switch(y){case"rtl":$.right="".concat(d*100,"%"),$.width="".concat(a*100-d*100,"%");break;case"btt":$.bottom="".concat(d*100,"%"),$.height="".concat(a*100-d*100,"%");break;case"ttb":$.top="".concat(d*100,"%"),$.height="".concat(a*100-d*100,"%");break;default:$.left="".concat(d*100,"%"),$.width="".concat(a*100-d*100,"%")}var R=E||ie(n,(u={},z(u,"".concat(n,"-").concat(c+1),c!==null&&s),z(u,"".concat(r,"-track-draggable"),b),u),v.track);return t.createElement("div",{className:R,style:Y(Y({},$),m),onMouseDown:h,onTouchStart:h})}function _t(e){var u=e.prefixCls,r=e.style,m=e.values,o=e.startPoint,i=e.onStartMove,c=t.useContext(ce),b=c.included,E=c.range,k=c.min,y=c.styles,C=c.classNames,g=t.useMemo(function(){if(!E){if(m.length===0)return[];var s=o??k,v=m[0];return[{start:Math.min(s,v),end:Math.max(s,v)}]}for(var n=[],d=0;d<m.length-1;d+=1)n.push({start:m[d],end:m[d+1]});return n},[m,E,o,k]),l=null;return(C.tracks||y.tracks)&&(l=t.createElement(Ve,{index:null,prefixCls:u,start:g[0].start,end:g[g.length-1].end,replaceCls:ie(C.tracks,"".concat(u,"-tracks")),style:y.tracks})),b?t.createElement(t.Fragment,null,l,g.map(function(s,v){var n=s.start,d=s.end;return t.createElement(Ve,{index:v,prefixCls:u,style:Y(Y({},me(r,v)),y.track),start:n,end:d,key:v,onStartMove:i})})):null}var Pt=t.forwardRef(function(e,u){var r,m=e.prefixCls,o=m===void 0?"rc-slider":m,i=e.className,c=e.style,b=e.classNames,E=e.styles,k=e.disabled,y=k===void 0?!1:k,C=e.keyboard,g=C===void 0?!0:C,l=e.autoFocus,s=e.onFocus,v=e.onBlur,n=e.min,d=n===void 0?0:n,a=e.max,h=a===void 0?100:a,$=e.step,R=$===void 0?1:$,B=e.value,A=e.defaultValue,H=e.range,F=e.count,x=e.onChange,w=e.onBeforeChange,N=e.onAfterChange,U=e.allowCross,I=U===void 0?!0:U,j=e.pushable,L=j===void 0?!1:j,S=e.draggableTrack,P=e.reverse,O=e.vertical,q=e.included,se=q===void 0?!0:q,ge=e.startPoint,X=e.trackStyle,ae=e.handleStyle,re=e.railStyle,J=e.dotStyle,ne=e.activeDotStyle,Q=e.marks,he=e.dots,xe=e.handleRender,be=e.tabIndex,ye=be===void 0?0:be,Ce=e.ariaLabelForHandle,Se=e.ariaLabelledByForHandle,V=e.ariaValueTextFormatterForHandle,ke=t.useRef(),Re=t.useRef(),$e=t.useMemo(function(){return O?P?"ttb":"btt":P?"rtl":"ltr"},[P,O]),K=t.useMemo(function(){return isFinite(d)?d:0},[d]),de=t.useMemo(function(){return isFinite(h)?h:100},[h]),le=t.useMemo(function(){return R!==null&&R<=0?1:R},[R]),et=t.useMemo(function(){return typeof L=="boolean"?L?le:!1:L>=0?L:!1},[L,le]),Fe=t.useMemo(function(){var D=Object.keys(Q||{});return D.map(function(M){var f=Q[M],T={value:Number(M)};return f&&gt(f)==="object"&&!t.isValidElement(f)&&("label"in f||"style"in f)?(T.style=f.style,T.label=f.label):T.label=f,T}).filter(function(M){var f=M.label;return f||typeof f=="number"}).sort(function(M,f){return M.value-f.value})},[Q]),tt=Et(K,de,le,Fe,I,et),Te=W(tt,2),_e=Te[0],Be=Te[1],at=ht(A,{value:B}),Ae=W(at,2),Z=Ae[0],rt=Ae[1],G=t.useMemo(function(){var D=Z==null?[]:Array.isArray(Z)?Z:[Z],M=W(D,1),f=M[0],T=f===void 0?K:f,_=Z===null?[]:[T];if(H){if(_=te(D),F||Z===void 0){var fe=F>=0?F+1:2;for(_=_.slice(0,fe);_.length<fe;){var oe;_.push((oe=_[_.length-1])!==null&&oe!==void 0?oe:K)}}_.sort(function(p,Me){return p-Me})}return _.forEach(function(p,Me){_[Me]=_e(p)}),_},[Z,H,K,F,_e]),we=t.useRef(G);we.current=G;var ue=function(M){return H?M:M[0]},De=function(M){var f=te(M).sort(function(T,_){return T-_});x&&!bt(f,we.current,!0)&&x(ue(f)),rt(f)},Xe=function(M){if(!y){var f=0,T=de-K;G.forEach(function(fe,oe){var p=Math.abs(M-fe);p<=T&&(T=p,f=oe)});var _=te(G);_[f]=M,H&&!G.length&&F===void 0&&_.push(M),w==null||w(ue(_)),De(_),N==null||N(ue(_))}},nt=function(M){M.preventDefault();var f=Re.current.getBoundingClientRect(),T=f.width,_=f.height,fe=f.left,oe=f.top,p=f.bottom,Me=f.right,qe=M.clientX,Je=M.clientY,Ee;switch($e){case"btt":Ee=(p-Je)/_;break;case"ttb":Ee=(Je-oe)/_;break;case"rtl":Ee=(Me-qe)/T;break;default:Ee=(qe-fe)/T}var mt=K+Ee*(de-K);Xe(_e(mt))},lt=t.useState(null),Ye=W(lt,2),Le=Ye[0],je=Ye[1],ut=function(M,f){if(!y){var T=Be(G,M,f);w==null||w(ue(G)),De(T.values),N==null||N(ue(T.values)),je(T.value)}};t.useEffect(function(){if(Le!==null){var D=G.indexOf(Le);D>=0&&ke.current.focus(D)}je(null)},[Le]);var ot=t.useMemo(function(){return S&&le===null?!1:S},[S,le]),it=function(){N==null||N(ue(we.current))},ct=Mt(Re,$e,G,K,de,_e,De,it,Be),Ne=W(ct,4),Ke=Ne[0],st=Ne[1],Pe=Ne[2],dt=Ne[3],Ue=function(M,f){dt(M,f),w==null||w(ue(we.current))},Ie=Ke!==-1;t.useEffect(function(){if(!Ie){var D=G.lastIndexOf(st);ke.current.focus(D)}},[Ie]);var ve=t.useMemo(function(){return te(Pe).sort(function(D,M){return D-M})},[Pe]),vt=t.useMemo(function(){return H?[ve[0],ve[ve.length-1]]:[K,ve[0]]},[ve,H,K]),Ge=W(vt,2),We=Ge[0],ze=Ge[1];t.useImperativeHandle(u,function(){return{focus:function(){ke.current.focus(0)},blur:function(){var M=document,f=M.activeElement;Re.current.contains(f)&&(f==null||f.blur())}}}),t.useEffect(function(){l&&ke.current.focus(0)},[]);var ft=t.useMemo(function(){return{min:K,max:de,direction:$e,disabled:y,keyboard:g,step:le,included:se,includedStart:We,includedEnd:ze,range:H,tabIndex:ye,ariaLabelForHandle:Ce,ariaLabelledByForHandle:Se,ariaValueTextFormatterForHandle:V,styles:E||{},classNames:b||{}}},[K,de,$e,y,g,le,se,We,ze,H,ye,Ce,Se,V,E,b]);return t.createElement(ce.Provider,{value:ft},t.createElement("div",{ref:Re,className:ie(o,i,(r={},z(r,"".concat(o,"-disabled"),y),z(r,"".concat(o,"-vertical"),O),z(r,"".concat(o,"-horizontal"),!O),z(r,"".concat(o,"-with-marks"),Fe.length),r)),style:c,onMouseDown:nt},t.createElement("div",{className:ie("".concat(o,"-rail"),b==null?void 0:b.rail),style:Y(Y({},re),E==null?void 0:E.rail)}),t.createElement(_t,{prefixCls:o,style:X,values:ve,startPoint:ge,onStartMove:ot?Ue:null}),t.createElement(Ft,{prefixCls:o,marks:Fe,dots:he,style:J,activeStyle:ne}),t.createElement(kt,{ref:ke,prefixCls:o,style:ae,values:Pe,draggingIndex:Ke,onStartMove:Ue,onOffsetChange:ut,onFocus:s,onBlur:v,handleRender:xe}),t.createElement(Rt,{prefixCls:o,marks:Fe,onClick:Xe})))});export{Pt as S};
