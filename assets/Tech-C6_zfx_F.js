import{r as l,j as h}from"./index-uig8voMB.js";import"./Earth-nXbniX-F.js";import{B as $,V as O,M as C,F as R,u as X,a as F,T as W,b as H,c as Z,E as U,d as G,O as q,e as J,f as K,C as Q,P as Y}from"./Preload-Z02Uwv6z.js";import V from"./Loader-BOnw5taN.js";import{_ as tt}from"./extends-CF3RwP-h.js";import{O as et}from"./OrbitControls-CQbvYxCA.js";import"./Computers-82o0zQTy.js";import"./index-0332b2ed.esm-D7KlkAP7.js";import{S as ot}from"./SectionWrapper-DhwJxuu-.js";import{a as rt}from"./index-BTlGEvyw.js";import"./styles-CMRCRGOL.js";class st extends ${constructor(p,d,c,T){super();const i=[],j=[],M=[],x=new O,y=new C;y.makeRotationFromEuler(c),y.setPosition(d);const B=new C;B.copy(y).invert(),k(),this.setAttribute("position",new R(i,3)),this.setAttribute("normal",new R(j,3)),this.setAttribute("uv",new R(M,2));function k(){let t,e=[];const r=new O,n=new O;if(p.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=p.geometry,A=s.attributes.position,w=s.attributes.normal;if(s.index!==null){const f=s.index;for(t=0;t<f.count;t++)r.fromBufferAttribute(A,f.getX(t)),n.fromBufferAttribute(w,f.getX(t)),E(e,r,n)}else for(t=0;t<A.count;t++)r.fromBufferAttribute(A,t),n.fromBufferAttribute(w,t),E(e,r,n);for(e=b(e,x.set(1,0,0)),e=b(e,x.set(-1,0,0)),e=b(e,x.set(0,1,0)),e=b(e,x.set(0,-1,0)),e=b(e,x.set(0,0,1)),e=b(e,x.set(0,0,-1)),t=0;t<e.length;t++){const f=e[t];M.push(.5+f.position.x/T.x,.5+f.position.y/T.y),f.position.applyMatrix4(y),i.push(f.position.x,f.position.y,f.position.z),j.push(f.normal.x,f.normal.y,f.normal.z)}}function E(t,e,r){e.applyMatrix4(p.matrixWorld),e.applyMatrix4(B),r.transformDirection(p.matrixWorld),t.push(new I(e.clone(),r.clone()))}function b(t,e){const r=[],n=.5*Math.abs(T.dot(e));for(let s=0;s<t.length;s+=3){let A,w,f,P=0,u,m,g,D;const _=t[s+0].position.dot(e)-n,v=t[s+1].position.dot(e)-n,N=t[s+2].position.dot(e)-n;switch(A=_>0,w=v>0,f=N>0,P=(A?1:0)+(w?1:0)+(f?1:0),P){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(A&&(u=t[s+1],m=t[s+2],g=a(t[s],u,e,n),D=a(t[s],m,e,n)),w){u=t[s],m=t[s+2],g=a(t[s+1],u,e,n),D=a(t[s+1],m,e,n),r.push(g),r.push(m.clone()),r.push(u.clone()),r.push(m.clone()),r.push(g.clone()),r.push(D);break}f&&(u=t[s],m=t[s+1],g=a(t[s+2],u,e,n),D=a(t[s+2],m,e,n)),r.push(u.clone()),r.push(m.clone()),r.push(g),r.push(D),r.push(g.clone()),r.push(m.clone());break}case 2:{A||(u=t[s].clone(),m=a(u,t[s+1],e,n),g=a(u,t[s+2],e,n),r.push(u),r.push(m),r.push(g)),w||(u=t[s+1].clone(),m=a(u,t[s+2],e,n),g=a(u,t[s],e,n),r.push(u),r.push(m),r.push(g)),f||(u=t[s+2].clone(),m=a(u,t[s],e,n),g=a(u,t[s+1],e,n),r.push(u),r.push(m),r.push(g));break}}}return r}function a(t,e,r,n){const s=t.position.dot(r)-n,A=e.position.dot(r)-n,w=s/(s-A);return new I(new O(t.position.x+w*(e.position.x-t.position.x),t.position.y+w*(e.position.y-t.position.y),t.position.z+w*(e.position.z-t.position.z)),new O(t.normal.x+w*(e.normal.x-t.normal.x),t.normal.y+w*(e.normal.y-t.normal.y),t.normal.z+w*(e.normal.z-t.normal.z)))}}}class I{constructor(p,d){this.position=p,this.normal=d}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const z=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function L(o,p){const d=X(i=>i.gl),c=F(W,z(o)?Object.values(o):o);return l.useLayoutEffect(()=>{p==null||p(c)},[p]),l.useEffect(()=>{if("initTexture"in d){let i=[];Array.isArray(c)?i=c:c instanceof H?i=[c]:z(c)&&(i=Object.values(c)),i.forEach(j=>{j instanceof H&&d.initTexture(j)})}},[d,c]),l.useMemo(()=>{if(z(o)){const i={};let j=0;for(const M in o)i[M]=c[j++];return i}else return c},[o,c])}L.preload=o=>F.preload(W,o);L.clear=o=>F.clear(W,o);function nt(o){return Array.isArray(o)}function S(o=[0,0,0]){return nt(o)?o:o instanceof O||o instanceof U?[o.x,o.y,o.z]:[o,o,o]}const at=l.forwardRef(function({debug:p,depthTest:d=!1,polygonOffsetFactor:c=-10,map:T,mesh:i,children:j,position:M,rotation:x,scale:y,...B},k){const E=l.useRef(null);l.useImperativeHandle(k,()=>E.current);const b=l.useRef(null);return l.useLayoutEffect(()=>{const a=(i==null?void 0:i.current)||E.current.parent,t=E.current;if(!(a instanceof Z))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new O,rotation:new U,scale:new O(1,1,1)};if(a){G(e,{position:M,scale:y});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!x||typeof x=="number"){const n=new q;n.position.copy(e.position),n.lookAt(a.position),typeof x=="number"&&n.rotateZ(x),G(e,{rotation:n.rotation})}else G(e,{rotation:x});return t.geometry=new st(a,e.position,e.rotation,e.scale),b.current&&(G(b.current,e),b.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[i,...S(M),...S(y),...S(x)]),l.createElement("mesh",tt({ref:E,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":c,"material-depthTest":d,"material-map":T},B),j,p&&l.createElement("mesh",{ref:b},l.createElement("boxGeometry",null),l.createElement("meshNormalMaterial",{wireframe:!0}),l.createElement("axesHelper",null)))}),it=l.forwardRef(({children:o,enabled:p=!0,speed:d=1,rotationIntensity:c=1,floatIntensity:T=1,floatingRange:i=[-.1,.1],autoInvalidate:j=!1,...M},x)=>{const y=l.useRef(null);l.useImperativeHandle(x,()=>y.current,[]);const B=l.useRef(Math.random()*1e4);return J(k=>{var E,b;if(!p||d===0)return;j&&k.invalidate();const a=B.current+k.clock.getElapsedTime();y.current.rotation.x=Math.cos(a/4*d)/8*c,y.current.rotation.y=Math.sin(a/4*d)/8*c,y.current.rotation.z=Math.sin(a/4*d)/20*c;let t=Math.sin(a/4*d)/10;t=K.mapLinear(t,-.1,.1,(E=i==null?void 0:i[0])!==null&&E!==void 0?E:-.1,(b=i==null?void 0:i[1])!==null&&b!==void 0?b:.1),y.current.position.y=t*T,y.current.updateMatrix()}),l.createElement("group",M,l.createElement("group",{ref:y,matrixAutoUpdate:!1},o))}),lt=l.memo(o=>{const p=L(o.imgUrl);return h.jsxs(it,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[h.jsx("ambientLight",{intensity:.25}),h.jsx("directionalLight",{position:[0,0,.05]}),h.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[h.jsx("icosahedronGeometry",{args:[1,1]}),h.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),h.jsx(at,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:p,flatShading:!0})]})]})}),ut=({icon:o})=>h.jsxs(Q,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0,antialias:!0},children:[h.jsxs(l.Suspense,{fallback:h.jsx(V,{}),children:[h.jsx(et,{enableZoom:!1}),h.jsx(lt,{imgUrl:o})]}),h.jsx(Y,{all:!0})]}),ct=()=>h.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:rt.map(o=>h.jsx("div",{className:"w-28 h-28",children:h.jsx(ut,{icon:o.icon})},o.name))}),Et=ot(ct,"");export{Et as default};
