import{c as k,f as Ot,g as se,e as I,h as Jt,i as jr,j as Ur,a as Kt,_ as Zt,d as Xt,b as me}from"./@babel-28107d12.js";import{r as o,a as M}from"./react-d998b26c.js";import{T as ln}from"./@ctrl-fb5a5473.js";import{c as oe}from"./classnames-325479d5.js";import{c as Et,a as Z,d as sn,u as cn,r as xr,s as Qt,e as Or,f as fn,h as vn,i as $e,j as br,k as dn,l as kr,g as Sr,m as mn,n as Qr,o as gn,p as Pr}from"./rc-util-cfa393e8.js";import{r as wr}from"./react-dom-890fecd1.js";import{R as Jr}from"./rc-resize-observer-bab1989d.js";import{C as Kr}from"./rc-motion-839c9e2f.js";var Zr=o.createContext(null),Dr=[];function hn(r,e){var t=o.useState(function(){if(!Et())return null;var m=document.createElement("div");return m}),a=k(t,1),n=a[0],i=o.useRef(!1),u=o.useContext(Zr),l=o.useState(Dr),f=k(l,2),c=f[0],d=f[1],s=u||(i.current?void 0:function(m){d(function(h){var b=[m].concat(Ot(h));return b})});function g(){n.parentElement||document.body.appendChild(n),i.current=!0}function v(){var m;(m=n.parentElement)===null||m===void 0||m.removeChild(n),i.current=!1}return Z(function(){return r?u?u(g):g():v(),v},[r]),Z(function(){c.length&&(c.forEach(function(m){return m()}),d(Dr))},[c]),[n,s]}function Cn(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var yn="rc-util-locker-".concat(Date.now()),Ir=0;function bn(r){var e=!!r,t=o.useState(function(){return Ir+=1,"".concat(yn,"_").concat(Ir)}),a=k(t,1),n=a[0];Z(function(){if(e){var i=sn(),u=Cn();cn(`
html body {
  overflow-y: hidden;
  `.concat(u?"width: calc(100% - ".concat(i,"px);"):"",`
}`),n)}else xr(n);return function(){xr(n)}},[e,n])}var _r=!1;function Sn(r){return typeof r=="boolean"&&(_r=r),_r}var Tr=function(e){return e===!1?!1:!Et()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Yt=o.forwardRef(function(r,e){var t=r.open,a=r.autoLock,n=r.getContainer;r.debug;var i=r.autoDestroy,u=i===void 0?!0:i,l=r.children,f=o.useState(t),c=k(f,2),d=c[0],s=c[1],g=d||t;o.useEffect(function(){(u||t)&&s(t)},[t,u]);var v=o.useState(function(){return Tr(n)}),m=k(v,2),h=m[0],b=m[1];o.useEffect(function(){var j=Tr(n);b(j??null)});var S=hn(g&&!h),E=k(S,2),N=E[0],C=E[1],R=h??N;bn(a&&t&&Et()&&(R===N||R===document.body));var D=null;if(l&&Qt(l)&&e){var H=l;D=H.ref}var A=Or(D,e);if(!g||!Et()||h===void 0)return null;var F=R===!1||Sn(),$=l;return e&&($=o.cloneElement(l,{ref:A})),o.createElement(Zr.Provider,{value:C},F?$:wr.createPortal($,R))});function Nn(r){var e=r.prefixCls,t=r.align,a=r.arrow,n=r.arrowPos,i=a||{},u=i.className,l=i.content,f=n.x,c=f===void 0?0:f,d=n.y,s=d===void 0?0:d,g=o.useRef();if(!t||!t.points)return null;var v={position:"absolute"};if(t.autoArrow!==!1){var m=t.points[0],h=t.points[1],b=m[0],S=m[1],E=h[0],N=h[1];b===E||!["t","b"].includes(b)?v.top=s:b==="t"?v.top=0:v.bottom=0,S===N||!["l","r"].includes(S)?v.left=c:S==="l"?v.left=0:v.right=0}return o.createElement("div",{ref:g,className:oe("".concat(e,"-arrow"),u),style:v},l)}function En(r){var e=r.prefixCls,t=r.open,a=r.zIndex,n=r.mask,i=r.motion;return n?o.createElement(Kr,se({},i,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(u){var l=u.className;return o.createElement("div",{style:{zIndex:a},className:oe("".concat(e,"-mask"),l)})}):null}var wn=o.memo(function(r){var e=r.children;return e},function(r,e){return e.cache}),Mn=o.forwardRef(function(r,e){var t=r.popup,a=r.className,n=r.prefixCls,i=r.style,u=r.target,l=r.onVisibleChanged,f=r.open,c=r.keepDom,d=r.fresh,s=r.onClick,g=r.mask,v=r.arrow,m=r.arrowPos,h=r.align,b=r.motion,S=r.maskMotion,E=r.forceRender,N=r.getPopupContainer,C=r.autoDestroy,R=r.portal,D=r.zIndex,H=r.onMouseEnter,A=r.onMouseLeave,F=r.onPointerEnter,$=r.ready,j=r.offsetX,ce=r.offsetY,ue=r.offsetR,B=r.offsetB,U=r.onAlign,T=r.onPrepare,x=r.stretch,L=r.targetWidth,_=r.targetHeight,X=typeof t=="function"?t():t,p=f||c,ee=(N==null?void 0:N.length)>0,Oe=o.useState(!N||!ee),Le=k(Oe,2),fe=Le[0],Ae=Le[1];if(Z(function(){!fe&&ee&&u&&Ae(!0)},[fe,ee,u]),!fe)return null;var J="auto",V={left:"-1000vw",top:"-1000vh",right:J,bottom:J};if($||!f){var ie,te=h.points,He=h.dynamicInset||((ie=h._experimental)===null||ie===void 0?void 0:ie.dynamicInset),Fe=He&&te[0][1]==="r",ye=He&&te[0][0]==="b";Fe?(V.right=ue,V.left=J):(V.left=j,V.right=J),ye?(V.bottom=B,V.top=J):(V.top=ce,V.bottom=J)}var re={};return x&&(x.includes("height")&&_?re.height=_:x.includes("minHeight")&&_&&(re.minHeight=_),x.includes("width")&&L?re.width=L:x.includes("minWidth")&&L&&(re.minWidth=L)),f||(re.pointerEvents="none"),o.createElement(R,{open:E||p,getContainer:N&&function(){return N(u)},autoDestroy:C},o.createElement(En,{prefixCls:n,open:f,zIndex:D,mask:g,motion:S}),o.createElement(Jr,{onResize:U,disabled:!f},function(Me){return o.createElement(Kr,se({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:E,leavedClassName:"".concat(n,"-hidden")},b,{onAppearPrepare:T,onEnterPrepare:T,visible:f,onVisibleChanged:function(be){var P;b==null||(P=b.onVisibleChanged)===null||P===void 0||P.call(b,be),l(be)}}),function(ne,be){var P=ne.className,Re=ne.style,ge=oe(n,P,a);return o.createElement("div",{ref:fn(Me,e,be),className:ge,style:I(I(I(I({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},V),re),Re),{},{boxSizing:"border-box",zIndex:D},i),onMouseEnter:H,onMouseLeave:A,onPointerEnter:F,onClick:s},v&&o.createElement(Nn,{prefixCls:n,arrow:v,arrowPos:m,align:h}),o.createElement(wn,{cache:!f&&!d},X))})}))}),Rn=o.forwardRef(function(r,e){var t=r.children,a=r.getTriggerDOMNode,n=Qt(t),i=o.useCallback(function(l){vn(e,a?a(l):l)},[a]),u=Or(i,t.ref);return n?o.cloneElement(t,{ref:u}):t}),$r=o.createContext(null);function Lr(r){return r?Array.isArray(r)?r:[r]:[]}function xn(r,e,t,a){return o.useMemo(function(){var n=Lr(t??e),i=Lr(a??e),u=new Set(n),l=new Set(i);return r&&(u.has("hover")&&(u.delete("hover"),u.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[u,l]},[r,e,t,a])}function kn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?r[0]===e[0]:r[0]===e[0]&&r[1]===e[1]}function Pn(r,e,t,a){for(var n=t.points,i=Object.keys(r),u=0;u<i.length;u+=1){var l,f=i[u];if(kn((l=r[f])===null||l===void 0?void 0:l.points,n,a))return"".concat(e,"-placement-").concat(f)}return""}function Ar(r,e,t,a){return e||(t?{motionName:"".concat(r,"-").concat(t)}:a?{motionName:a}:null)}function Mt(r){return r.ownerDocument.defaultView}function Nr(r){for(var e=[],t=r==null?void 0:r.parentElement,a=["hidden","scroll","clip","auto"];t;){var n=Mt(t).getComputedStyle(t),i=n.overflowX,u=n.overflowY,l=n.overflow;[i,u,l].some(function(f){return a.includes(f)})&&e.push(t),t=t.parentElement}return e}function wt(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?e:r}function bt(r){return wt(parseFloat(r),0)}function Hr(r,e){var t=I({},r);return(e||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement||a instanceof HTMLHtmlElement)){var n=Mt(a).getComputedStyle(a),i=n.overflow,u=n.overflowClipMargin,l=n.borderTopWidth,f=n.borderBottomWidth,c=n.borderLeftWidth,d=n.borderRightWidth,s=a.getBoundingClientRect(),g=a.offsetHeight,v=a.clientHeight,m=a.offsetWidth,h=a.clientWidth,b=bt(l),S=bt(f),E=bt(c),N=bt(d),C=wt(Math.round(s.width/m*1e3)/1e3),R=wt(Math.round(s.height/g*1e3)/1e3),D=(m-h-E-N)*C,H=(g-v-b-S)*R,A=b*R,F=S*R,$=E*C,j=N*C,ce=0,ue=0;if(i==="clip"){var B=bt(u);ce=B*C,ue=B*R}var U=s.x+$-ce,T=s.y+A-ue,x=U+s.width+2*ce-$-j-D,L=T+s.height+2*ue-A-F-H;t.left=Math.max(t.left,U),t.top=Math.max(t.top,T),t.right=Math.min(t.right,x),t.bottom=Math.min(t.bottom,L)}}),t}function Fr(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),a=t.match(/^(.*)\%$/);return a?r*(parseFloat(a[1])/100):parseFloat(t)}function Br(r,e){var t=e||[],a=k(t,2),n=a[0],i=a[1];return[Fr(r.width,n),Fr(r.height,i)]}function Vr(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function ct(r,e){var t=e[0],a=e[1],n,i;return t==="t"?i=r.y:t==="b"?i=r.y+r.height:i=r.y+r.height/2,a==="l"?n=r.x:a==="r"?n=r.x+r.width:n=r.x+r.width/2,{x:n,y:i}}function je(r,e){var t={t:"b",b:"t",l:"r",r:"l"};return r.map(function(a,n){return n===e?t[a]||"c":a}).join("")}function Dn(r,e,t,a,n,i,u){var l=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:n[a]||{}}),f=k(l,2),c=f[0],d=f[1],s=o.useRef(0),g=o.useMemo(function(){return e?Nr(e):[]},[e]),v=o.useRef({}),m=function(){v.current={}};r||m();var h=$e(function(){if(e&&t&&r){let Ce=function(Te,et){var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Re,st=_.x+Te,Ct=_.y+et,yt=st+V,Gt=Ct+J,dr=Math.max(st,lt.left),mr=Math.max(Ct,lt.top),gr=Math.min(yt,lt.right),hr=Math.min(Gt,lt.bottom);return Math.max(0,(gr-dr)*(hr-mr))},Wt=function(){ze=_.y+G,We=ze+J,Ge=_.x+Q,at=Ge+V};var E,N,C=e,R=C.ownerDocument,D=Mt(C),H=D.getComputedStyle(C),A=H.width,F=H.height,$=H.position,j=C.style.left,ce=C.style.top,ue=C.style.right,B=C.style.bottom,U=I(I({},n[a]),i),T=R.createElement("div");(E=C.parentElement)===null||E===void 0||E.appendChild(T),T.style.left="".concat(C.offsetLeft,"px"),T.style.top="".concat(C.offsetTop,"px"),T.style.position=$,T.style.height="".concat(C.offsetHeight,"px"),T.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto";var x;if(Array.isArray(t))x={x:t[0],y:t[1],width:0,height:0};else{var L=t.getBoundingClientRect();x={x:L.x,y:L.y,width:L.width,height:L.height}}var _=C.getBoundingClientRect(),X=R.documentElement,p=X.clientWidth,ee=X.clientHeight,Oe=X.scrollWidth,Le=X.scrollHeight,fe=X.scrollTop,Ae=X.scrollLeft,J=_.height,V=_.width,ie=x.height,te=x.width,He={left:0,top:0,right:p,bottom:ee},Fe={left:-Ae,top:-fe,right:Oe-Ae,bottom:Le-fe},ye=U.htmlRegion,re="visible",Me="visibleFirst";ye!=="scroll"&&ye!==Me&&(ye=re);var ne=ye===Me,be=Hr(Fe,g),P=Hr(He,g),Re=ye===re?P:be,ge=ne?P:Re;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var ve=C.getBoundingClientRect();C.style.left=j,C.style.top=ce,C.style.right=ue,C.style.bottom=B,(N=C.parentElement)===null||N===void 0||N.removeChild(T);var xe=wt(Math.round(V/parseFloat(A)*1e3)/1e3),ke=wt(Math.round(J/parseFloat(F)*1e3)/1e3);if(xe===0||ke===0||br(t)&&!dn(t))return;var we=U.offset,tt=U.targetOffset,O=Br(_,we),ae=k(O,2),Se=ae[0],Ne=ae[1],Rt=Br(x,tt),Ee=k(Rt,2),pt=Ee[0],xt=Ee[1];x.x-=pt,x.y-=xt;var er=U.points||[],Qe=k(er,2),he=Qe[0],Be=Qe[1],Pe=Vr(Be),de=Vr(he),kt=ct(x,Pe),Pt=ct(_,de),De=I({},U),Q=kt.x-Pt.x+Se,G=kt.y-Pt.y+Ne,q=Ce(Q,G),rt=Ce(Q,G,P),Ve=ct(x,["t","l"]),ft=ct(_,["t","l"]),vt=ct(x,["b","r"]),dt=ct(_,["b","r"]),le=U.overflow||{},tr=le.adjustX,Dt=le.adjustY,nt=le.shiftX,mt=le.shiftY,It=function(et){return typeof et=="boolean"?et:et>=0},ze,We,Ge,at;Wt();var gt=It(Dt),ht=de[0]===Pe[0];if(gt&&de[0]==="t"&&(We>ge.bottom||v.current.bt)){var Je=G;ht?Je-=J-ie:Je=Ve.y-dt.y-Ne;var Ke=Ce(Q,Je),rr=Ce(Q,Je,P);Ke>q||Ke===q&&(!ne||rr>=rt)?(v.current.bt=!0,G=Je,Ne=-Ne,De.points=[je(de,0),je(Pe,0)]):v.current.bt=!1}if(gt&&de[0]==="b"&&(ze<ge.top||v.current.tb)){var Y=G;ht?Y+=J-ie:Y=vt.y-ft.y-Ne;var _t=Ce(Q,Y),nr=Ce(Q,Y,P);_t>q||_t===q&&(!ne||nr>=rt)?(v.current.tb=!0,G=Y,Ne=-Ne,De.points=[je(de,0),je(Pe,0)]):v.current.tb=!1}var Tt=It(tr),$t=de[1]===Pe[1];if(Tt&&de[1]==="l"&&(at>ge.right||v.current.rl)){var Ze=Q;$t?Ze-=V-te:Ze=Ve.x-dt.x-Se;var Lt=Ce(Ze,G),ar=Ce(Ze,G,P);Lt>q||Lt===q&&(!ne||ar>=rt)?(v.current.rl=!0,Q=Ze,Se=-Se,De.points=[je(de,1),je(Pe,1)]):v.current.rl=!1}if(Tt&&de[1]==="r"&&(Ge<ge.left||v.current.lr)){var Xe=Q;$t?Xe+=V-te:Xe=vt.x-ft.x-Se;var At=Ce(Xe,G),it=Ce(Xe,G,P);At>q||At===q&&(!ne||it>=rt)?(v.current.lr=!0,Q=Xe,Se=-Se,De.points=[je(de,1),je(Pe,1)]):v.current.lr=!1}Wt();var Ie=nt===!0?0:nt;typeof Ie=="number"&&(Ge<P.left&&(Q-=Ge-P.left-Se,x.x+te<P.left+Ie&&(Q+=x.x-P.left+te-Ie)),at>P.right&&(Q-=at-P.right-Se,x.x>P.right-Ie&&(Q+=x.x-P.right+Ie)));var Ye=mt===!0?0:mt;typeof Ye=="number"&&(ze<P.top&&(G-=ze-P.top-Ne,x.y+ie<P.top+Ye&&(G+=x.y-P.top+ie-Ye)),We>P.bottom&&(G-=We-P.bottom-Ne,x.y>P.bottom-Ye&&(G+=x.y-P.bottom+Ye)));var ot=_.x+Q,ut=ot+V,_e=_.y+G,Ht=_e+J,pe=x.x,qe=pe+te,Ft=x.y,ir=Ft+ie,or=Math.max(ot,pe),Bt=Math.min(ut,qe),ur=(or+Bt)/2,lr=ur-ot,sr=Math.max(_e,Ft),Vt=Math.min(Ht,ir),cr=(sr+Vt)/2,fr=cr-_e;u==null||u(e,De);var zt=ve.right-_.x-(Q+_.width),vr=ve.bottom-_.y-(G+_.height);d({ready:!0,offsetX:Q/xe,offsetY:G/ke,offsetR:zt/xe,offsetB:vr/ke,arrowX:lr/xe,arrowY:fr/ke,scaleX:xe,scaleY:ke,align:De})}}),b=function(){s.current+=1;var N=s.current;Promise.resolve().then(function(){s.current===N&&h()})},S=function(){d(function(N){return I(I({},N),{},{ready:!1})})};return Z(S,[a]),Z(function(){r||S()},[r]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,b]}function In(r,e,t,a,n){Z(function(){if(r&&e&&t){let s=function(){a(),n()};var i=e,u=t,l=Nr(i),f=Nr(u),c=Mt(u),d=new Set([c].concat(Ot(l),Ot(f)));return d.forEach(function(g){g.addEventListener("scroll",s,{passive:!0})}),c.addEventListener("resize",s,{passive:!0}),a(),function(){d.forEach(function(g){g.removeEventListener("scroll",s),c.removeEventListener("resize",s)})}}},[r,e,t])}function _n(r,e,t,a,n,i,u,l){var f=o.useRef(r),c=o.useRef(!1);f.current!==r&&(c.current=!0,f.current=r),o.useEffect(function(){var d=kr(function(){c.current=!1});return function(){kr.cancel(d)}},[r]),o.useEffect(function(){if(e&&a&&(!n||i)){var d=function(){var D=!1,H=function($){var j=$.target;D=u(j)},A=function($){var j=$.target;!c.current&&f.current&&!D&&!u(j)&&l(!1)};return[H,A]},s=d(),g=k(s,2),v=g[0],m=g[1],h=d(),b=k(h,2),S=b[0],E=b[1],N=Mt(a);N.addEventListener("mousedown",v,!0),N.addEventListener("click",m,!0),N.addEventListener("contextmenu",m,!0);var C=Sr(t);return C&&(C.addEventListener("mousedown",S,!0),C.addEventListener("click",E,!0),C.addEventListener("contextmenu",E,!0)),function(){N.removeEventListener("mousedown",v,!0),N.removeEventListener("click",m,!0),N.removeEventListener("contextmenu",m,!0),C&&(C.removeEventListener("mousedown",S,!0),C.removeEventListener("click",E,!0),C.removeEventListener("contextmenu",E,!0))}}},[e,t,a,n,i])}var Tn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function $n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yt,e=o.forwardRef(function(t,a){var n=t.prefixCls,i=n===void 0?"rc-trigger-popup":n,u=t.children,l=t.action,f=l===void 0?"hover":l,c=t.showAction,d=t.hideAction,s=t.popupVisible,g=t.defaultPopupVisible,v=t.onPopupVisibleChange,m=t.afterPopupVisibleChange,h=t.mouseEnterDelay,b=t.mouseLeaveDelay,S=b===void 0?.1:b,E=t.focusDelay,N=t.blurDelay,C=t.mask,R=t.maskClosable,D=R===void 0?!0:R,H=t.getPopupContainer,A=t.forceRender,F=t.autoDestroy,$=t.destroyPopupOnHide,j=t.popup,ce=t.popupClassName,ue=t.popupStyle,B=t.popupPlacement,U=t.builtinPlacements,T=U===void 0?{}:U,x=t.popupAlign,L=t.zIndex,_=t.stretch,X=t.getPopupClassNameFromAlign,p=t.fresh,ee=t.alignPoint,Oe=t.onPopupClick,Le=t.onPopupAlign,fe=t.arrow,Ae=t.popupMotion,J=t.maskMotion,V=t.popupTransitionName,ie=t.popupAnimation,te=t.maskTransitionName,He=t.maskAnimation,Fe=t.className,ye=t.getTriggerDOMNode,re=Jt(t,Tn),Me=F||$||!1,ne=o.useState(!1),be=k(ne,2),P=be[0],Re=be[1];Z(function(){Re(mn())},[]);var ge=o.useRef({}),ve=o.useContext($r),xe=o.useMemo(function(){return{registerSubPopup:function(w,z){ge.current[w]=z,ve==null||ve.registerSubPopup(w,z)}}},[ve]),ke=Qr(),we=o.useState(null),tt=k(we,2),O=tt[0],ae=tt[1],Se=$e(function(y){br(y)&&O!==y&&ae(y),ve==null||ve.registerSubPopup(ke,y)}),Ne=o.useState(null),Rt=k(Ne,2),Ee=Rt[0],pt=Rt[1],xt=o.useRef(null),er=$e(function(y){br(y)&&Ee!==y&&(pt(y),xt.current=y)}),Qe=o.Children.only(u),he=(Qe==null?void 0:Qe.props)||{},Be={},Pe=$e(function(y){var w,z,K=Ee;return(K==null?void 0:K.contains(y))||((w=Sr(K))===null||w===void 0?void 0:w.host)===y||y===K||(O==null?void 0:O.contains(y))||((z=Sr(O))===null||z===void 0?void 0:z.host)===y||y===O||Object.values(ge.current).some(function(W){return(W==null?void 0:W.contains(y))||y===W})}),de=Ar(i,Ae,ie,V),kt=Ar(i,J,He,te),Pt=o.useState(g||!1),De=k(Pt,2),Q=De[0],G=De[1],q=s??Q,rt=$e(function(y){s===void 0&&G(y)});Z(function(){G(s||!1)},[s]);var Ve=o.useRef(q);Ve.current=q;var ft=$e(function(y){wr.flushSync(function(){q!==y&&(rt(y),v==null||v(y))})}),vt=o.useRef(),dt=function(){clearTimeout(vt.current)},le=function(w){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;dt(),z===0?ft(w):vt.current=setTimeout(function(){ft(w)},z*1e3)};o.useEffect(function(){return dt},[]);var tr=o.useState(!1),Dt=k(tr,2),nt=Dt[0],mt=Dt[1];Z(function(y){(!y||q)&&mt(!0)},[q]);var It=o.useState(null),ze=k(It,2),We=ze[0],Ge=ze[1],at=o.useState([0,0]),gt=k(at,2),ht=gt[0],Je=gt[1],Ke=function(w){Je([w.clientX,w.clientY])},rr=Dn(q,O,ee?ht:Ee,B,T,x,Le),Y=k(rr,11),_t=Y[0],nr=Y[1],Tt=Y[2],$t=Y[3],Ze=Y[4],Lt=Y[5],ar=Y[6],Xe=Y[7],At=Y[8],it=Y[9],Ie=Y[10],Ye=xn(P,f,c,d),ot=k(Ye,2),ut=ot[0],_e=ot[1],Ht=ut.has("click"),pe=_e.has("click")||_e.has("contextMenu"),qe=$e(function(){nt||Ie()}),Ft=function(){Ve.current&&ee&&pe&&le(!1)};In(q,Ee,O,qe,Ft),Z(function(){qe()},[ht,B]),Z(function(){q&&!(T!=null&&T[B])&&qe()},[JSON.stringify(x)]);var ir=o.useMemo(function(){var y=Pn(T,i,it,ee);return oe(y,X==null?void 0:X(it))},[it,X,T,i,ee]);o.useImperativeHandle(a,function(){return{nativeElement:xt.current,forceAlign:qe}});var or=o.useState(0),Bt=k(or,2),ur=Bt[0],lr=Bt[1],sr=o.useState(0),Vt=k(sr,2),cr=Vt[0],fr=Vt[1],zt=function(){if(_&&Ee){var w=Ee.getBoundingClientRect();lr(w.width),fr(w.height)}},vr=function(){zt(),qe()},Ce=function(w){mt(!1),Ie(),m==null||m(w)},Wt=function(){return new Promise(function(w){zt(),Ge(function(){return w})})};Z(function(){We&&(Ie(),We(),Ge(null))},[We]);function Te(y,w,z,K){Be[y]=function(W){var qt;K==null||K(W),le(w,z);for(var Cr=arguments.length,Rr=new Array(Cr>1?Cr-1:0),jt=1;jt<Cr;jt++)Rr[jt-1]=arguments[jt];(qt=he[y])===null||qt===void 0||qt.call.apply(qt,[he,W].concat(Rr))}}(Ht||pe)&&(Be.onClick=function(y){var w;Ve.current&&pe?le(!1):!Ve.current&&Ht&&(Ke(y),le(!0));for(var z=arguments.length,K=new Array(z>1?z-1:0),W=1;W<z;W++)K[W-1]=arguments[W];(w=he.onClick)===null||w===void 0||w.call.apply(w,[he,y].concat(K))}),_n(q,pe,Ee,O,C,D,Pe,le);var et=ut.has("hover"),lt=_e.has("hover"),st,Ct;et&&(Te("onMouseEnter",!0,h,function(y){Ke(y)}),Te("onPointerEnter",!0,h,function(y){Ke(y)}),st=function(){(q||nt)&&le(!0,h)},ee&&(Be.onMouseMove=function(y){var w;(w=he.onMouseMove)===null||w===void 0||w.call(he,y)})),lt&&(Te("onMouseLeave",!1,S),Te("onPointerLeave",!1,S),Ct=function(){le(!1,S)}),ut.has("focus")&&Te("onFocus",!0,E),_e.has("focus")&&Te("onBlur",!1,N),ut.has("contextMenu")&&(Be.onContextMenu=function(y){var w;Ve.current&&_e.has("contextMenu")?le(!1):(Ke(y),le(!0)),y.preventDefault();for(var z=arguments.length,K=new Array(z>1?z-1:0),W=1;W<z;W++)K[W-1]=arguments[W];(w=he.onContextMenu)===null||w===void 0||w.call.apply(w,[he,y].concat(K))}),Fe&&(Be.className=oe(he.className,Fe));var yt=I(I({},he),Be),Gt={},dr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];dr.forEach(function(y){re[y]&&(Gt[y]=function(){for(var w,z=arguments.length,K=new Array(z),W=0;W<z;W++)K[W]=arguments[W];(w=yt[y])===null||w===void 0||w.call.apply(w,[yt].concat(K)),re[y].apply(re,K)})});var mr=o.cloneElement(Qe,I(I({},yt),Gt)),gr={x:Lt,y:ar},hr=fe?I({},fe!==!0?fe:{}):null;return o.createElement(o.Fragment,null,o.createElement(Jr,{disabled:!q,ref:er,onResize:vr},o.createElement(Rn,{getTriggerDOMNode:ye},mr)),o.createElement($r.Provider,{value:xe},o.createElement(Mn,{portal:r,ref:Se,prefixCls:i,popup:j,className:oe(ce,ir),style:ue,target:Ee,onMouseEnter:st,onMouseLeave:Ct,onPointerEnter:st,zIndex:L,open:q,keepDom:nt,fresh:p,onClick:Oe,mask:C,motion:de,maskMotion:kt,onVisibleChanged:Ce,onPrepare:Wt,forceRender:A,autoDestroy:Me,getPopupContainer:H,align:it,arrow:hr,arrowPos:gr,ready:_t,offsetX:nr,offsetY:Tt,offsetR:$t,offsetB:Ze,onAlign:qe,stretch:_,targetWidth:ur/Xe,targetHeight:cr/At})))});return e}const Ln=$n(Yt);var An=["b"],Hn=["v"],yr=function(e){return Math.round(Number(e||0))},Fn=function(e){if(e&&Xt(e)==="object"&&"h"in e&&"b"in e){var t=e,a=t.b,n=Jt(t,An);return I(I({},n),{},{v:a})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},zr=function(r){jr(t,r);var e=Ur(t);function t(a){return Kt(this,t),e.call(this,Fn(a))}return Zt(t,[{key:"toHsbString",value:function(){var n=this.toHsb(),i=yr(n.s*100),u=yr(n.b*100),l=yr(n.h),f=n.a,c="hsb(".concat(l,", ").concat(i,"%, ").concat(u,"%)"),d="hsba(".concat(l,", ").concat(i,"%, ").concat(u,"%, ").concat(f.toFixed(f===0?0:2),")");return f===1?c:d}},{key:"toHsb",value:function(){var n=this.toHsv();Xt(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(n=this.originalInput);var i=n;i.v;var u=Jt(i,Hn);return I(I({},u),{},{b:n.v})}}]),t}(ln),Bn="rc-color-picker",Ue=function(e){return e instanceof zr?e:new zr(e)},Vn=Ue("#1677ff"),Xr=function(e){var t=e.offset,a=e.targetRef,n=e.containerRef,i=e.color,u=e.type,l=n.current.getBoundingClientRect(),f=l.width,c=l.height,d=a.current.getBoundingClientRect(),s=d.width,g=d.height,v=s/2,m=g/2,h=(t.x+v)/f,b=1-(t.y+m)/c,S=i.toHsb(),E=h,N=(t.x+v)/f*360;if(u)switch(u){case"hue":return Ue(I(I({},S),{},{h:N<=0?0:N}));case"alpha":return Ue(I(I({},S),{},{a:E<=0?0:E}))}return Ue({h:S.h,s:h<=0?0:h,b:b>=1?1:b,a:S.a})},Yr=function(e,t,a,n){var i=e.current.getBoundingClientRect(),u=i.width,l=i.height,f=t.current.getBoundingClientRect(),c=f.width,d=f.height,s=c/2,g=d/2,v=a.toHsb();if(!(c===0&&d===0||c!==d)){if(n)switch(n){case"hue":return{x:v.h/360*u-s,y:-g/3};case"alpha":return{x:v.a/1*u-s,y:-g/3}}return{x:v.s*u-s,y:(1-v.b)*l-g}}},zn=function(e){var t=e.color,a=e.prefixCls,n=e.className,i=e.style,u=e.onClick,l="".concat(a,"-color-block");return M.createElement("div",{className:oe(l,n),style:i,onClick:u},M.createElement("div",{className:"".concat(l,"-inner"),style:{background:t}}))};function Wn(r){var e="touches"in r?r.touches[0]:r,t=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,a=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-t,pageY:e.pageY-a}}function pr(r){var e=r.offset,t=r.targetRef,a=r.containerRef,n=r.direction,i=r.onDragChange,u=r.onDragChangeComplete,l=r.calculate,f=r.color,c=r.disabledDrag,d=o.useState(e||{x:0,y:0}),s=k(d,2),g=s[0],v=s[1],m=o.useRef(null),h=o.useRef(null),b=o.useRef({flag:!1});o.useEffect(function(){if(b.current.flag===!1){var R=l==null?void 0:l(a);R&&v(R)}},[f,a]),o.useEffect(function(){return function(){document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",h.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",h.current),m.current=null,h.current=null}},[]);var S=function(D){var H=Wn(D),A=H.pageX,F=H.pageY,$=a.current.getBoundingClientRect(),j=$.x,ce=$.y,ue=$.width,B=$.height,U=t.current.getBoundingClientRect(),T=U.width,x=U.height,L=T/2,_=x/2,X=Math.max(0,Math.min(A-j,ue))-L,p=Math.max(0,Math.min(F-ce,B))-_,ee={x:X,y:n==="x"?g.y:p};if(T===0&&x===0||T!==x)return!1;v(ee),i==null||i(ee)},E=function(D){D.preventDefault(),S(D)},N=function(D){D.preventDefault(),b.current.flag=!1,document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",h.current),document.removeEventListener("touchmove",m.current),document.removeEventListener("touchend",h.current),m.current=null,h.current=null,u==null||u()},C=function(D){document.removeEventListener("mousemove",m.current),document.removeEventListener("mouseup",h.current),!c&&(S(D),b.current.flag=!0,document.addEventListener("mousemove",E),document.addEventListener("mouseup",N),document.addEventListener("touchmove",E),document.addEventListener("touchend",N),m.current=E,h.current=N)};return[g,C]}var en=function(e){var t=e.size,a=t===void 0?"default":t,n=e.color,i=e.prefixCls;return M.createElement("div",{className:oe("".concat(i,"-handler"),me({},"".concat(i,"-handler-sm"),a==="small")),style:{backgroundColor:n}})},tn=function(e){var t=e.children,a=e.style,n=e.prefixCls;return M.createElement("div",{className:"".concat(n,"-palette"),style:I({position:"relative"},a)},t)},rn=o.forwardRef(function(r,e){var t=r.children,a=r.offset;return M.createElement("div",{ref:e,style:{position:"absolute",left:a.x,top:a.y,zIndex:1}},t)}),Gn=function(e){var t=e.color,a=e.onChange,n=e.prefixCls,i=e.onChangeComplete,u=e.disabled,l=o.useRef(),f=o.useRef(),c=o.useRef(t),d=pr({color:t,containerRef:l,targetRef:f,calculate:function(h){return Yr(h,f,t)},onDragChange:function(h){var b=Xr({offset:h,targetRef:f,containerRef:l,color:t});c.current=b,a(b)},onDragChangeComplete:function(){return i==null?void 0:i(c.current)},disabledDrag:u}),s=k(d,2),g=s[0],v=s[1];return M.createElement("div",{ref:l,className:"".concat(n,"-select"),onMouseDown:v,onTouchStart:v},M.createElement(tn,{prefixCls:n},M.createElement(rn,{offset:g,ref:f},M.createElement(en,{color:t.toRgbString(),prefixCls:n})),M.createElement("div",{className:"".concat(n,"-saturation"),style:{backgroundColor:"hsl(".concat(t.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},qn=function(e){var t=e.colors,a=e.children,n=e.direction,i=n===void 0?"to right":n,u=e.type,l=e.prefixCls,f=o.useMemo(function(){return t.map(function(c,d){var s=Ue(c);return u==="alpha"&&d===t.length-1&&s.setAlpha(1),s.toRgbString()}).join(",")},[t,u]);return M.createElement("div",{className:"".concat(l,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(i,", ").concat(f,")")}},a)},Wr=function(e){var t=e.gradientColors,a=e.direction,n=e.type,i=n===void 0?"hue":n,u=e.color,l=e.value,f=e.onChange,c=e.onChangeComplete,d=e.disabled,s=e.prefixCls,g=o.useRef(),v=o.useRef(),m=o.useRef(u),h=pr({color:u,targetRef:v,containerRef:g,calculate:function(C){return Yr(C,v,u,i)},onDragChange:function(C){var R=Xr({offset:C,targetRef:v,containerRef:g,color:u,type:i});m.current=R,f(R)},onDragChangeComplete:function(){c==null||c(m.current,i)},direction:"x",disabledDrag:d}),b=k(h,2),S=b[0],E=b[1];return M.createElement("div",{ref:g,className:oe("".concat(s,"-slider"),"".concat(s,"-slider-").concat(i)),onMouseDown:E,onTouchStart:E},M.createElement(tn,{prefixCls:s},M.createElement(rn,{offset:S,ref:v},M.createElement(en,{size:"small",color:l,prefixCls:s})),M.createElement(qn,{colors:t,direction:a,type:i,prefixCls:s})))};function Gr(r){return r!==void 0}var jn=function(e,t){var a=t.defaultValue,n=t.value,i=o.useState(function(){var c;return Gr(n)?c=n:Gr(a)?c=a:c=e,Ue(c)}),u=k(i,2),l=u[0],f=u[1];return o.useEffect(function(){n&&f(Ue(n))},[n]),[l,f]},Un=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const ma=o.forwardRef(function(r,e){var t=r.value,a=r.defaultValue,n=r.prefixCls,i=n===void 0?Bn:n,u=r.onChange,l=r.onChangeComplete,f=r.className,c=r.style,d=r.panelRender,s=r.disabledAlpha,g=s===void 0?!1:s,v=r.disabled,m=v===void 0?!1:v,h=jn(Vn,{value:t,defaultValue:a}),b=k(h,2),S=b[0],E=b[1],N=o.useMemo(function(){var A=Ue(S.toRgbString());return A.setAlpha(1),A.toRgbString()},[S]),C=oe("".concat(i,"-panel"),f,me({},"".concat(i,"-panel-disabled"),m)),R={prefixCls:i,onChangeComplete:l,disabled:m},D=function(F,$){t||E(F),u==null||u(F,$)},H=M.createElement(M.Fragment,null,M.createElement(Gn,se({color:S,onChange:D},R)),M.createElement("div",{className:"".concat(i,"-slider-container")},M.createElement("div",{className:oe("".concat(i,"-slider-group"),me({},"".concat(i,"-slider-group-disabled-alpha"),g))},M.createElement(Wr,se({gradientColors:Un,color:S,value:"hsl(".concat(S.toHsb().h,",100%, 50%)"),onChange:function(F){return D(F,"hue")}},R)),!g&&M.createElement(Wr,se({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",N],color:S,value:S.toRgbString(),onChange:function(F){return D(F,"alpha")}},R))),M.createElement(zn,{color:S.toRgbString(),prefixCls:i})));return M.createElement("div",{className:C,style:c,ref:e},typeof d=="function"?d(H):H)});function Er(){return typeof BigInt=="function"}function nn(r){return!r&&r!==0&&!Number.isNaN(r)||!String(r).trim()}function Nt(r){var e=r.trim(),t=e.startsWith("-");t&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var a=e||"0",n=a.split("."),i=n[0]||"0",u=n[1]||"0";i==="0"&&u==="0"&&(t=!1);var l=t?"-":"";return{negative:t,negativeStr:l,trimStr:a,integerStr:i,decimalStr:u,fullStr:"".concat(l).concat(a)}}function Mr(r){var e=String(r);return!Number.isNaN(Number(e))&&e.includes("e")}function St(r){var e=String(r);if(Mr(r)){var t=Number(e.slice(e.indexOf("e-")+2)),a=e.match(/\.(\d+)/);return a!=null&&a[1]&&(t+=a[1].length),t}return e.includes(".")&&on(e)?e.length-e.indexOf(".")-1:0}function an(r){var e=String(r);if(Mr(r)){if(r>Number.MAX_SAFE_INTEGER)return String(Er()?BigInt(r).toString():Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return String(Er()?BigInt(r).toString():Number.MIN_SAFE_INTEGER);e=r.toFixed(St(e))}return Nt(e).fullStr}function on(r){return typeof r=="number"?!Number.isNaN(r):r?/^\s*-?\d+(\.\d+)?\s*$/.test(r)||/^\s*-?\d+\.\s*$/.test(r)||/^\s*-?\.\d+\s*$/.test(r):!1}var On=function(){function r(e){if(Kt(this,r),me(this,"origin",""),me(this,"negative",void 0),me(this,"integer",void 0),me(this,"decimal",void 0),me(this,"decimalLen",void 0),me(this,"empty",void 0),me(this,"nan",void 0),nn(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var t=e;if(Mr(t)&&(t=Number(t)),t=typeof t=="string"?t:an(t),on(t)){var a=Nt(t);this.negative=a.negative;var n=a.trimStr.split(".");this.integer=BigInt(n[0]);var i=n[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return Zt(r,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var a="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(a)}},{key:"negate",value:function(){var t=new r(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,a,n){var i=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),u=this.alignDecimal(i),l=t.alignDecimal(i),f=a(u,l).toString(),c=n(i),d=Nt(f),s=d.negativeStr,g=d.trimStr,v="".concat(s).concat(g.padStart(c+1,"0"));return new r("".concat(v.slice(0,-c),".").concat(v.slice(-c)))}},{key:"add",value:function(t){if(this.isInvalidate())return new r(t);var a=new r(t);return a.isInvalidate()?this:this.cal(a,function(n,i){return n+i},function(n){return n})}},{key:"multi",value:function(t){var a=new r(t);return this.isInvalidate()||a.isInvalidate()?new r(NaN):this.cal(a,function(n,i){return n*i},function(n){return n*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(t==null?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":Nt("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),r}(),Qn=function(){function r(e){if(Kt(this,r),me(this,"origin",""),me(this,"number",void 0),me(this,"empty",void 0),nn(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Zt(r,[{key:"negate",value:function(){return new r(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new r(t);var a=Number(t);if(Number.isNaN(a))return this;var n=this.number+a;if(n>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(St(this.number),St(a));return new r(n.toFixed(i))}},{key:"multi",value:function(t){var a=Number(t);if(this.isInvalidate()||Number.isNaN(a))return new r(NaN);var n=this.number*a;if(n>Number.MAX_SAFE_INTEGER)return new r(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new r(Number.MIN_SAFE_INTEGER);var i=Math.max(St(this.number),St(a));return new r(n.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(t==null?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":an(this.number):this.origin}}]),r}();function Jn(r){return Er()?new On(r):new Qn(r)}function Kn(r,e,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(r==="")return"";var n=Nt(r),i=n.negativeStr,u=n.integerStr,l=n.decimalStr,f="".concat(e).concat(l),c="".concat(i).concat(u);if(t>=0){var d=Number(l[t]);if(d>=5&&!a){var s=Jn(r).add("".concat(i,"0.").concat("0".repeat(t)).concat(10-d));return Kn(s.toString(),e,t,a)}return t===0?c:"".concat(c).concat(e).concat(l.padEnd(t,"0").slice(0,t))}return f===".0"?c:"".concat(c).concat(f)}function ga(r){var e=o.createContext(void 0),t=function(n){var i=n.value,u=n.children,l=o.useRef(i);l.current=i;var f=o.useState(function(){return{getValue:function(){return l.current},listeners:new Set}}),c=k(f,1),d=c[0];return Z(function(){wr.unstable_batchedUpdates(function(){d.listeners.forEach(function(s){s(i)})})},[i]),o.createElement(e.Provider,{value:d},u)};return{Context:e,Provider:t,defaultValue:r}}function ha(r,e){var t=$e(typeof e=="function"?e:function(s){if(e===void 0)return s;if(!Array.isArray(e))return s[e];var g={};return e.forEach(function(v){g[v]=s[v]}),g}),a=o.useContext(r==null?void 0:r.Context),n=a||{},i=n.listeners,u=n.getValue,l=o.useRef();l.current=t(a?u():r==null?void 0:r.defaultValue);var f=o.useState({}),c=k(f,2),d=c[1];return Z(function(){if(!a)return;function s(g){var v=t(g);gn(l.current,v,!0)||d({})}return i.add(s),function(){i.delete(s)}},[a]),l.current}function Ca(){var r=o.createContext(null);function e(){return o.useContext(r)}function t(n,i){var u=Qt(n),l=function(c,d){var s=u?{ref:d}:{},g=o.useRef(0),v=o.useRef(c),m=e();return m!==null?o.createElement(n,se({},c,s)):((!i||i(v.current,c))&&(g.current+=1),v.current=c,o.createElement(r.Provider,{value:g.current},o.createElement(n,se({},c,s))))};return u?o.forwardRef(l):l}function a(n,i){var u=Qt(n),l=function(c,d){var s=u?{ref:d}:{};return e(),o.createElement(n,se({},c,s))};return u?o.memo(o.forwardRef(l),i):o.memo(l,i)}return{makeImmutable:t,responseImmutable:a,useImmutableMark:e}}function Zn(r){var e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,a=r.getBoundingClientRect(),n=a.top,i=a.right,u=a.bottom,l=a.left;return n>=0&&l>=0&&i<=e&&u<=t}function Xn(r,e,t){var a;return(a=t??e)!==null&&a!==void 0?a:r===null?"center":"bottom"}function Yn(r,e,t,a){var n=o.useState(void 0),i=k(n,2),u=i[0],l=i[1];Z(function(){var h=typeof r=="function"?r():r;l(h||null)});var f=o.useState(null),c=k(f,2),d=c[0],s=c[1],g=$e(function(){if(u){!Zn(u)&&e&&u.scrollIntoView(a);var h=u.getBoundingClientRect(),b=h.left,S=h.top,E=h.width,N=h.height,C={left:b,top:S,width:E,height:N,radius:0};s(function(R){return JSON.stringify(R)!==JSON.stringify(C)?C:R})}else s(null)}),v=function(b){var S;return(S=Array.isArray(t==null?void 0:t.offset)?t==null?void 0:t.offset[b]:t==null?void 0:t.offset)!==null&&S!==void 0?S:6};Z(function(){return g(),window.addEventListener("resize",g),function(){window.removeEventListener("resize",g)}},[u,e,g]);var m=o.useMemo(function(){if(!d)return d;var h=v(0),b=v(1),S=(t==null?void 0:t.radius)||2;return{left:d.left-h,top:d.top-b,width:d.width+h*2,height:d.height+b*2,radius:S}},[d,t]);return[m,u]}var Ut={fill:"transparent",pointerEvents:"auto"},pn=function(e){var t=e.prefixCls,a=e.rootClassName,n=e.pos,i=e.showMask,u=e.style,l=u===void 0?{}:u,f=e.fill,c=f===void 0?"rgba(0,0,0,0.5)":f,d=e.open,s=e.animated,g=e.zIndex,v=Qr(),m="".concat(t,"-mask-").concat(v),h=Xt(s)==="object"?s==null?void 0:s.placeholder:s;return M.createElement(Yt,{open:d,autoLock:!0},M.createElement("div",{className:oe("".concat(t,"-mask"),a),style:I({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:g,pointerEvents:"none"},l)},i?M.createElement("svg",{style:{width:"100%",height:"100%"}},M.createElement("defs",null,M.createElement("mask",{id:m},M.createElement("rect",{x:"0",y:"0",width:"100vw",height:"100vh",fill:"white"}),n&&M.createElement("rect",{x:n.left,y:n.top,rx:n.radius,width:n.width,height:n.height,fill:"black",className:h?"".concat(t,"-placeholder-animated"):""}))),M.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:c,mask:"url(#".concat(m,")")}),n&&M.createElement(M.Fragment,null,M.createElement("rect",se({},Ut,{x:"0",y:"0",width:"100%",height:n.top})),M.createElement("rect",se({},Ut,{x:"0",y:"0",width:n.left,height:"100%"})),M.createElement("rect",se({},Ut,{x:"0",y:n.top+n.height,width:"100%",height:"calc(100vh - ".concat(n.top+n.height,"px)")})),M.createElement("rect",se({},Ut,{x:n.left+n.width,y:"0",width:"calc(100vw - ".concat(n.left+n.width,"px)"),height:"100%"})))):null))},ea=[0,0],qr={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function un(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e={};return Object.keys(qr).forEach(function(t){e[t]=I(I({},qr[t]),{},{autoArrow:r,targetOffset:ea})}),e}un();function ta(r){var e=r.prefixCls,t=r.current,a=r.total,n=r.title,i=r.description,u=r.onClose,l=r.onPrev,f=r.onNext,c=r.onFinish,d=r.className,s=r.closeIcon,g=s!==!1&&s!==null,v=s!==void 0&&s!==!0?s:o.createElement("span",{className:"".concat(e,"-close-x")},"Ã—");return o.createElement("div",{className:oe("".concat(e,"-content"),d)},o.createElement("div",{className:"".concat(e,"-inner")},g&&o.createElement("button",{type:"button",onClick:u,"aria-label":"Close",className:"".concat(e,"-close")},v),o.createElement("div",{className:"".concat(e,"-header")},o.createElement("div",{className:"".concat(e,"-title")},n)),o.createElement("div",{className:"".concat(e,"-description")},i),o.createElement("div",{className:"".concat(e,"-footer")},o.createElement("div",{className:"".concat(e,"-sliders")},a>1?Ot(Array.from({length:a}).keys()).map(function(m,h){return o.createElement("span",{key:m,className:h===t?"active":""})}):null),o.createElement("div",{className:"".concat(e,"-buttons")},t!==0?o.createElement("button",{className:"".concat(e,"-prev-btn"),onClick:l},"Prev"):null,t===a-1?o.createElement("button",{className:"".concat(e,"-finish-btn"),onClick:c},"Finish"):o.createElement("button",{className:"".concat(e,"-next-btn"),onClick:f},"Next")))))}var ra=function(e){var t=e.current,a=e.renderPanel;return o.createElement(o.Fragment,null,typeof a=="function"?a(e,t):o.createElement(ta,e))},na=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon"],aa={left:"50%",top:"50%",width:1,height:1},ya=function(e){var t=e.prefixCls,a=t===void 0?"rc-tour":t,n=e.steps,i=n===void 0?[]:n,u=e.defaultCurrent,l=e.current,f=e.onChange,c=e.onClose,d=e.onFinish,s=e.open,g=e.mask,v=g===void 0?!0:g,m=e.arrow,h=m===void 0?!0:m,b=e.rootClassName,S=e.placement,E=e.renderPanel,N=e.gap,C=e.animated,R=e.scrollIntoViewOptions,D=R===void 0?!0:R,H=e.zIndex,A=H===void 0?1001:H,F=e.closeIcon,$=Jt(e,na),j=o.useRef(),ce=Pr(0,{value:l,defaultValue:u}),ue=k(ce,2),B=ue[0],U=ue[1],T=Pr(void 0,{value:s,postState:function(ae){return B<0||B>=i.length?!1:ae??!0}}),x=k(T,2),L=x[0],_=x[1],X=o.useRef(L);Z(function(){L&&!X.current&&U(0),X.current=L},[L]);var p=i[B]||{},ee=p.target,Oe=p.placement,Le=p.style,fe=p.arrow,Ae=p.className,J=p.mask,V=p.scrollIntoViewOptions,ie=p.closeIcon,te=L&&(J??v),He=ie??F,Fe=V??D,ye=Yn(ee,s,N,Fe),re=k(ye,2),Me=re[0],ne=re[1],be=Xn(ne,S,Oe),P=ne?typeof fe>"u"?h:fe:!1,Re=Xt(P)==="object"?P.pointAtCenter:!1;Z(function(){var O;(O=j.current)===null||O===void 0||O.forceAlign()},[Re,B]);var ge=function(ae){U(ae),f==null||f(ae)};if(ne===void 0)return null;var ve=function(){_(!1),c==null||c(B)},xe=function(){return o.createElement(ra,se({arrow:P,key:"content",prefixCls:a,total:i.length,renderPanel:E,onPrev:function(){ge(B-1)},onNext:function(){ge(B+1)},onClose:ve,current:B,onFinish:function(){ve(),d==null||d()},closeIcon:He},i[B]))},ke=typeof te=="boolean"?te:!!te,we=typeof te=="boolean"?void 0:te,tt=function(ae){return ae||ne||document.body};return o.createElement(o.Fragment,null,o.createElement(pn,{zIndex:A,prefixCls:a,pos:Me,showMask:ke,style:we==null?void 0:we.style,fill:we==null?void 0:we.color,open:L,animated:C,rootClassName:b}),o.createElement(Ln,se({builtinPlacements:un(Re)},$,{ref:j,popupStyle:Le,popupPlacement:be,popupVisible:L,popupClassName:oe(b,Ae),prefixCls:a,popup:xe,forceRender:!1,destroyPopupOnHide:!0,zIndex:A,getTriggerDOMNode:tt,arrow:!!P}),o.createElement(Yt,{open:L,autoLock:!0},o.createElement("div",{className:oe(b,"".concat(a,"-target-placeholder")),style:I(I({},Me||aa),{},{position:"fixed",pointerEvents:"none"})}))))};M.Component;var ia={subtree:!0,childList:!0,attributeFilter:["style","class"]};function ba(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ia;o.useEffect(function(){if(!(!Et()||!r)){var a,n=Array.isArray(r)?r:[r];return"MutationObserver"in window&&(a=new MutationObserver(e),n.forEach(function(i){a.observe(i,t)})),function(){var i,u;(i=a)===null||i===void 0||i.takeRecords(),(u=a)===null||u===void 0||u.disconnect()}}},[t,r])}export{zr as C,Yt as P,ya as T,ma as a,zn as b,Ln as c,St as d,Kn as e,Ca as f,Jn as g,ga as h,ha as i,an as n,Nt as t,ba as u,on as v};
